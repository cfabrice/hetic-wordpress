"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Exhibitions=function e(){_classCallCheck(this,e);document.querySelector("#exhibitions")&&new Vue({el:"#exhibitions",data:{years:[],activeYear:2014,article:{title:"",content:"",photos:[],video:[]},exhibitions:[],loaderArticle:!1,loaderHeight:"400px"},mounted:function(){this.getYears()},methods:{getYears:function(){var e=this,t=new FormData;t.append("action","get_years"),axios.post(""+ajaxurl,t).then(function(t){e.years=t.data,e.setActiveYear(e.years[0].name)}).catch(function(e){console.log(e)})},getExhibitions:function(){var e=this,t=new FormData;t.append("action","get_exhibitions"),t.append("year",this.activeYear),axios.post(""+ajaxurl,t).then(function(t){e.exhibitions=t.data,t.data.length>0?(e.article.title=t.data[0].post_title,e.article.content=t.data[0].content,e.article.photos=t.data[0].photos,e.article.video=t.data[0].video,t.data[0].video&&setTimeout(function(){new Player(document.querySelector(".section-videos-wrapper-e"),!1)},100),t.data[0].photos&&setTimeout(function(){new Slider(document.querySelector(".slider-e"))},100)):(e.article.title="",e.article.content="")}).catch(function(e){console.log(e)})},getArticle:function(e){var t=this,i=new FormData;i.append("action","get_exhibition"),i.append("id",e),this.loaderArticle=!0,axios.post(""+ajaxurl,i).then(function(e){t.article.title=e.data.post_title,t.article.content=e.data.content,t.article.photos=e.data.photos,t.article.video=e.data.video,t.loaderArticle=!1,e.data.video&&setTimeout(function(){new Player(document.querySelector(".section-videos-wrapper-e"),!1)},100),e.data.photos&&setTimeout(function(){new Slider(document.querySelector(".slider-e"))},100)}).catch(function(e){console.log(e)})},setActiveYear:function(e){this.activeYear=e,this.getExhibitions(this.activeYear)}}})},News=function e(){_classCallCheck(this,e);document.querySelector("#news")&&new Vue({el:"#news",data:{categories:[],articles:{},activeCategory:"all",offset:0,max:0,loading:!1,loaderHeight:"400px"},mounted:function(){this.getCategories(),this.getArticles("all")},methods:{getCategories:function(){var e=this,t=new FormData;t.append("action","get_news_categories"),this.loading=!0,axios.post(""+ajaxurl,t).then(function(t){e.categories=t.data,e.loading=!1}).catch(function(e){console.log(e)})},getArticles:function(e){var t=this;this.activeCategory=e;var i=new FormData;i.append("action","get_news"),i.append("category",e),i.append("offset",this.offset),this.loading=!0,this.loaderHeight=document.querySelector(".news-container").offsetHeight+"px",axios.post(""+ajaxurl,i).then(function(e){t.articles.length>0?e.data[0].forEach(function(e){t.articles.push(e)}):t.articles=e.data[0],t.max=parseInt(e.data[1]),t.loading=!1}).catch(function(e){console.log(e)})},changeCategory:function(e){this.articles=[],this.offset=0,this.getArticles(e)},loadMore:function(){this.offset+=8,this.getArticles(this.activeCategory)}}})},_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),Player=function(){function e(t){var i=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(_classCallCheck(this,e),this.container=t,this.button_toggle=this.container.querySelector(".section-videos-wrapper-controls--toggle"),this.video=this.container.querySelector(".section-videos-wrapper-video"),this.time_seek_bar=this.container.querySelector(".section-videos-wrapper-controls-seek-bar"),this.time_seek_bar_fill=this.time_seek_bar.querySelector(".section-videos-wrapper-controls-seek-bar--fill"),this.time_drag=!1,this.time_current=this.container.querySelector(".section-videos-wrapper-controls--time-current"),this.time_duration=this.container.querySelector(".section-videos-wrapper-controls--time-duration"),this.button_volume=this.container.querySelector(".section-videos-wrapper-controls-volume--icon"),this.volume_seek_bar=this.container.querySelector(".section-videos-wrapper-controls-volume--bar"),this.volume_seek_bar_fill=this.container.querySelector(".section-videos-wrapper-controls-volume--bar-fill"),this.volume_drag=!1,this.effect_pause=this.container.querySelector(".section-videos-wrapper-effect-pause"),this.effect_play=this.container.querySelector(".section-videos-wrapper-effect-play"),this.button_fullscreen=this.container.querySelector(".section-videos-wrapper-controls--fullscreen"),this.button_toggle.addEventListener("click",function(){i.toggleState()}),this.time_seek_bar.addEventListener("click",function(e){i.time_positions=i.time_seek_bar.getBoundingClientRect(),i.updateTime(e)}),this.time_seek_bar.addEventListener("mousedown",function(){i.time_drag||(i.time_positions=i.time_seek_bar.getBoundingClientRect(),i.time_drag=!0)}),window.addEventListener("mouseup",function(){i.time_drag&&(i.time_drag=!1),i.volume_drag&&(i.volume_drag=!1)}),window.addEventListener("mousemove",function(e){i.time_drag&&i.updateTime(e),i.volume_drag&&i.updateVolume(e)}),this.button_volume.addEventListener("click",function(){i.toggleMute()}),this.volume_seek_bar.addEventListener("click",function(e){i.volume_positions=i.volume_seek_bar.getBoundingClientRect(),i.updateVolume(e)}),this.volume_seek_bar.addEventListener("mousedown",function(){i.volume_drag||(i.volume_positions=i.volume_seek_bar.getBoundingClientRect(),i.volume_drag=!0)}),this.button_fullscreen.addEventListener("click",function(){i.toggleFullscreen()}),this.video.addEventListener("dblclick",function(){i.toggleFullscreen()}),this.video.addEventListener("click",function(){i.toggleState(),i.video.paused?(i.effect_play.classList.add("active"),i.effect_pause.classList.remove("active")):(i.effect_pause.classList.add("active"),i.effect_play.classList.remove("active"))}),this.playlist=s,this.playlist){this.container_playlist=document.querySelector(".section-videos-nav-wrapper-list"),this.playlist_items=document.querySelectorAll(".section-videos-nav-wrapper-list-item"),this.playlist_next=document.querySelector(".section-videos-nav-controls--next"),this.playlist_prev=document.querySelector(".section-videos-nav-controls--prev"),this.playlist_index=0,this.playlist_selected=this.playlist_items[this.playlist_index],this.playlist_item_width=this.playlist_items[0].getBoundingClientRect().width+20,this.video_index=0,this.video_prev=this.container.querySelector(".section-videos-wrapper-controls--skip-prev"),this.video_next=this.container.querySelector(".section-videos-wrapper-controls--skip-next"),this.playlist_next.addEventListener("click",function(){i.playlist_index<i.playlist_items.length-i.playlist_size&&(i.playlist_index++,i.updatePlaylist())}),this.playlist_prev.addEventListener("click",function(){i.playlist_index>0&&(i.playlist_index--,i.updatePlaylist())});for(var n=function(){var e=i;i.playlist_items[o].addEventListener("click",function(){this!=e.playlist_selected&&(e.video_index=Array.prototype.indexOf.call(e.playlist_items,this),e.selectVideo())})},o=0;o<this.playlist_items.length;o++)n();this.video_prev.addEventListener("click",function(){i.video_index>0?(i.video_index--,i.selectVideo()):(i.video_prev.classList.add("hide"),console.log("nop prev")),i.video_next.classList.remove("hide")}),this.video_next.addEventListener("click",function(){i.video_index<i.playlist_items.length-1?(i.video_index++,i.selectVideo()):(i.video_next.classList.add("hide"),console.log("nop next")),i.video_prev.classList.remove("hide")}),this.video.addEventListener("ended",function(){i.video_index<i.playlist_items.length-1&&(i.video_index++,i.selectVideo())}),this.initPlaylist()}window.addEventListener("resize",function(){i.playlist_item_width=i.playlist_items[0].getBoundingClientRect().width+20,i.playlist&&(console.log("resize"),i.initPlaylist())}),this.init()}return _createClass(e,[{key:"init",value:function(){var e=this;this.container.classList.remove("playing"),this.effect_pause.classList.remove("active"),this.effect_play.classList.remove("active"),this.video.addEventListener("loadeddata",function(){e.video.currentTime=.45,e.time_duration.textContent=e.formatTime(e.video.duration),e.time_current.textContent=e.formatTime(e.video.currentTime),e.time_seek_bar_fill.style.transform="scaleX(0)"})}},{key:"initPlaylist",value:function(){var e=window.innerWidth;this.playlist_size=e<425?1:e<650?2:e<900?3:e<1300?5:e<2500?6:9,this.playlist_index=0,this.updatePlaylist()}},{key:"toggleState",value:function(){this.video.paused?(this.video.play(),this.container.classList.add("playing"),this.render()):(this.video.pause(),this.container.classList.remove("playing")),this.effect_pause.classList.remove("active"),this.effect_play.classList.remove("active")}},{key:"updateTime",value:function(e){var t=(e.pageX-this.time_positions.left)/this.time_positions.width;t>=0&&t<1&&(this.time_seek_bar_fill.style.transform="scaleX("+t+")",this.video.currentTime=t*this.video.duration,this.time_current.textContent=this.formatTime(this.video.currentTime))}},{key:"updateVolume",value:function(e){var t=(e.pageX-this.volume_positions.left)/this.volume_positions.width;t>=0&&t<1&&(this.video.volume=t,this.volume_seek_bar_fill.style.transform="scaleX("+t+")",this.video.muted&&this.toggleMute(),t>=.5?(this.button_volume.classList.add("volume-2"),this.button_volume.classList.remove("volume-1"),this.button_volume.classList.remove("volume-0")):t<.5&&t>=.25?(this.button_volume.classList.remove("volume-2"),this.button_volume.classList.add("volume-1"),this.button_volume.classList.remove("volume-0")):t<.25?(this.button_volume.classList.remove("volume-2"),this.button_volume.classList.remove("volume-1"),this.button_volume.classList.add("volume-0")):t<=0&&(this.button_volume.classList.remove("volume-2"),this.button_volume.classList.remove("volume-1"),this.button_volume.classList.remove("volume-0"),this.toggleMute()))}},{key:"toggleMute",value:function(){this.video.muted?(this.video.muted=!1,this.button_volume.classList.remove("mute"),this.volume_seek_bar_fill.style.transform="scaleX("+this.video.volume+")"):(this.video.muted=!0,this.button_volume.classList.add("mute"),this.volume_seek_bar_fill.style.transform="scaleX(0)")}},{key:"toggleFullscreen",value:function(){null==document.fullscreenElement&&null==document.mozFullscreenElement&&null==document.webkitFullscreenElement&&null==document.msFullscreenElement?this.container.requestFullscreen?this.container.requestFullscreen():this.container.mozRequestFullScreen?this.container.mozRequestFullScreen():this.container.webkitRequestFullscreen?this.container.webkitRequestFullscreen():this.container.msRequestFullscreen&&this.container.msRequestFullscreen():document.exitFullscreen?document.exitFullscreen():document.mozExitFullScreen?document.mozExitFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}},{key:"updatePlaylist",value:function(){this.container_playlist.style.transform="translateX(-"+this.playlist_index*this.playlist_item_width+"px)",0==this.playlist_index?this.playlist_prev.classList.add("hide"):this.playlist_prev.classList.remove("hide"),this.playlist_index>=this.playlist_items.length-this.playlist_size?this.playlist_next.classList.add("hide"):this.playlist_next.classList.remove("hide")}},{key:"selectVideo",value:function(){this.playlist_selected.classList.remove("active"),this.playlist_selected=this.playlist_items[this.video_index],this.playlist_selected.classList.add("active"),this.video.src=this.playlist_selected.dataset.target,this.init(),this.video_index>this.playlist_index+this.playlist_size-1?(this.playlist_index++,this.updatePlaylist()):this.video_index<this.playlist_index&&(this.playlist_index--,this.updatePlaylist()),0==this.video_index?this.video_prev.classList.add("hide"):this.video_prev.classList.remove("hide"),this.video_index>=this.playlist_items.length-1?this.video_next.classList.add("hide"):this.video_next.classList.remove("hide")}},{key:"render",value:function(){this.video.paused||window.requestAnimationFrame(this.render.bind(this));var e=this.video.currentTime/this.video.duration;this.time_seek_bar_fill.style.transform="scaleX("+e+")",this.time_current.textContent=this.formatTime(this.video.currentTime),this.video.currentTime==this.video.duration&&this.container.classList.remove("playing")}},{key:"formatTime",value:function(e){e=Math.round(e);var t=Math.floor(e/3600),i=Math.floor((e-3600*t)/60),s=e-3600*t-60*i;return t=t<10?"0"+t:t,i=i<10?"0"+i:i,s=s<10?"0"+s:s,0!=t?t+":"+i+":"+s:i+":"+s}}]),e}(),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),Slider=function(){function e(t){var i=this;_classCallCheck(this,e),this.container=t,this.items=this.container.querySelectorAll(".slider-item"),this.button_next=this.container.querySelector(".slider-next"),this.button_prev=this.container.querySelector(".slider-prev"),this.timer_fill=this.container.querySelector(".slider-timer-fill"),this.text_current=this.container.querySelector(".slider-index-current"),this.text_total=this.container.querySelector(".slider-index-total"),this.index=0,this.stacking=1,this.last_index=0,this.slide_interval=4e3,this.last_update=0,this.need_update=!0,this.draw=!0,this.init(),this.render(),this.startInterval(),this.button_next.addEventListener("click",function(){i.clicked||(i.index<i.items.length-1?i.index++:i.index=0,i.update())}),this.button_prev.addEventListener("click",function(){i.clicked||(i.index>0?i.index--:i.index=i.items.length-1,i.update())})}return _createClass(e,[{key:"startInterval",value:function(){var e=this;this.interval=setTimeout(function(){e.button_next.click(),e.startInterval()},this.slide_interval)}},{key:"init",value:function(){this.text_total.textContent=this.items.length>9?this.items.length:"0"+this.items.length,this.index=0,this.items[this.index].classList.add("active"),this.text_current.textContent=this.index+1>9?this.index+1:"0"+(this.index+1)}},{key:"update",value:function(){var e=this;this.text_total.textContent=this.items.length>9?this.items.length:"0"+this.items.length,this.text_current.textContent=this.index+1>9?this.index+1:"0"+(this.index+1),this.items[this.index].style.zIndex=this.stacking++,this.items[this.index].classList.add("active"),this.clicked=!0,this.draw=!1,this.timer_fill.classList.add("fill"),setTimeout(function(){e.items[e.last_index].classList.remove("active"),e.last_index=e.index,e.clicked=!1,clearTimeout(e.interval),e.startInterval(),e.timer_fill.classList.remove("fill"),e.need_update=!0,e.draw=!0},610)}},{key:"render",value:function(e){if((this.need_update||void 0===this.last_update||void 0===e)&&(this.last_update=e,this.need_update=!1),(e-this.last_update)/this.slide_interval>=1){var t=(e-this.last_update)/this.slide_interval;this.timer_fill.style.transform="scaleX("+t+")",this.last_update=e}if(this.draw){var i=(e-this.last_update)/this.slide_interval;this.timer_fill.style.transform="scaleX("+i+")"}else this.timer_fill.style.transform=null;window.requestAnimationFrame(this.render.bind(this))}}]),e}(),burger_button=document.querySelector(".header-burger"),burger_nav=document.querySelector(".header-nav");burger_button.addEventListener("click",function(){burger_button.classList.toggle("header-burger-active"),burger_nav.classList.toggle("header-nav-expand")});var header=document.querySelector(".header"),header_hide=!1;document.body.addEventListener("mousewheel",function(e){!header_hide&&e.deltaY<0&&!scroll_disabled?(header.classList.remove("hide"),header_hide=!0):header_hide&&e.deltaY>0&&document.body.scrollTop>80&&!scroll_disabled&&(header.classList.add("hide"),header_hide=!1)});for(var disabled_elements=document.querySelectorAll(".scroll-disable"),scroll_disabled=!1,i=0;i<disabled_elements.length;i++)disabled_elements[i].addEventListener("mouseenter",function(){scroll_disabled=!0}),disabled_elements[i].addEventListener("mouseleave",function(){scroll_disabled=!1});if(void 0!=document.querySelector(".section-exhibitions")){!function(){var e=document.querySelectorAll(".section-exhibitions-container-slider-nav-list--item"),t=document.querySelector(".section-exhibitions-container-slider-nav-list"),s=document.querySelector(".section-exhibitions-container-slider-wrapper-list"),n=document.querySelector(".section-exhibitions-container-content-wrapper-list"),o=0;for(i=0;i<e.length;i++)e[i].addEventListener("click",function(){var i=Array.prototype.indexOf.call(e,this);void 0!=e[o]&&e[o].classList.remove("active"),o=i,e[i].classList.add("active"),window.innerWidth>=900?(s.style.transform="translateX(-"+100*i+"%)",n.style.transform="translateX(-"+100*i+"%)"):(s.style.transform="translateX(-"+100*i+"%)",n.style.transform="translateX(-"+100*i+"%)",t.style.transform="translateX(-"+(i-1)/3*100+"%)")})}()}if(void 0!=document.querySelector(".section-videos-wrapper"))var player=new Player(document.querySelector(".section-videos-wrapper"),!0);if(void 0!=document.querySelector(".slider"))var slider=new Slider(document.querySelector(".slider"));if(void 0!=document.querySelector("#instagramDate")){var instagramDate=document.querySelector("#instagramDate"),d=instagramDate.getAttribute("datetime");instagramDate.innerText=moment(d).locale("fr").fromNow()}new Exhibitions,new News;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkV4aGliaXRpb25zLmpzIiwiTmV3cy5qcyIsIlBsYXllci5qcyIsIlNsaWRlci5qcyIsIm1haW4uanMiXSwibmFtZXMiOlsiRXhoaWJpdGlvbnMiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiVnVlIiwiZWwiLCJkYXRhIiwieWVhcnMiLCJhY3RpdmVZZWFyIiwiYXJ0aWNsZSIsInRpdGxlIiwiY29udGVudCIsInBob3RvcyIsInZpZGVvIiwiZXhoaWJpdGlvbnMiLCJsb2FkZXJBcnRpY2xlIiwibG9hZGVySGVpZ2h0IiwibW91bnRlZCIsImdldFllYXJzIiwibWV0aG9kcyIsIl90aGlzIiwiZm9ybV9kYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJheGlvcyIsInBvc3QiLCJhamF4dXJsIiwidGhlbiIsInJlcyIsInNldEFjdGl2ZVllYXIiLCJuYW1lIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZ2V0RXhoaWJpdGlvbnMiLCJfdGhpczIiLCJsZW5ndGgiLCJwb3N0X3RpdGxlIiwic2V0VGltZW91dCIsIlBsYXllciIsIlNsaWRlciIsImdldEFydGljbGUiLCJwb3N0SWQiLCJfdGhpczMiLCJ5ZWFyIiwiTmV3cyIsImNhdGVnb3JpZXMiLCJhcnRpY2xlcyIsImFjdGl2ZUNhdGVnb3J5Iiwib2Zmc2V0IiwibWF4IiwibG9hZGluZyIsImdldENhdGVnb3JpZXMiLCJnZXRBcnRpY2xlcyIsImNhdGVnb3J5Iiwib2Zmc2V0SGVpZ2h0IiwiZm9yRWFjaCIsImUiLCJwdXNoIiwicGFyc2VJbnQiLCJjaGFuZ2VDYXRlZ29yeSIsImxvYWRNb3JlIiwiY29udGFpbmVyIiwicGxheWxpc3QiLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJidXR0b25fdG9nZ2xlIiwidGltZV9zZWVrX2JhciIsInRpbWVfc2Vla19iYXJfZmlsbCIsInRpbWVfZHJhZyIsInRpbWVfY3VycmVudCIsInRpbWVfZHVyYXRpb24iLCJidXR0b25fdm9sdW1lIiwidm9sdW1lX3NlZWtfYmFyIiwidm9sdW1lX3NlZWtfYmFyX2ZpbGwiLCJ2b2x1bWVfZHJhZyIsImVmZmVjdF9wYXVzZSIsImVmZmVjdF9wbGF5IiwiYnV0dG9uX2Z1bGxzY3JlZW4iLCJhZGRFdmVudExpc3RlbmVyIiwidG9nZ2xlU3RhdGUiLCJ0aW1lX3Bvc2l0aW9ucyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInVwZGF0ZVRpbWUiLCJ3aW5kb3ciLCJ1cGRhdGVWb2x1bWUiLCJ0b2dnbGVNdXRlIiwidm9sdW1lX3Bvc2l0aW9ucyIsInRvZ2dsZUZ1bGxzY3JlZW4iLCJwYXVzZWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJjb250YWluZXJfcGxheWxpc3QiLCJwbGF5bGlzdF9pdGVtcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwbGF5bGlzdF9uZXh0IiwicGxheWxpc3RfcHJldiIsInBsYXlsaXN0X2luZGV4IiwicGxheWxpc3Rfc2VsZWN0ZWQiLCJwbGF5bGlzdF9pdGVtX3dpZHRoIiwid2lkdGgiLCJ2aWRlb19pbmRleCIsInZpZGVvX3ByZXYiLCJ2aWRlb19uZXh0IiwicGxheWxpc3Rfc2l6ZSIsInVwZGF0ZVBsYXlsaXN0IiwiX2xvb3AiLCJzZWxmIiwiaSIsIkFycmF5IiwicHJvdG90eXBlIiwiaW5kZXhPZiIsImNhbGwiLCJzZWxlY3RWaWRlbyIsImluaXRQbGF5bGlzdCIsImluaXQiLCJjdXJyZW50VGltZSIsInRleHRDb250ZW50IiwiZm9ybWF0VGltZSIsImR1cmF0aW9uIiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJpbm5lcldpZHRoIiwicGxheSIsInJlbmRlciIsInBhdXNlIiwicmF0aW8iLCJwYWdlWCIsImxlZnQiLCJ2b2x1bWUiLCJtdXRlZCIsImZ1bGxzY3JlZW5FbGVtZW50IiwibW96RnVsbHNjcmVlbkVsZW1lbnQiLCJ3ZWJraXRGdWxsc2NyZWVuRWxlbWVudCIsIm1zRnVsbHNjcmVlbkVsZW1lbnQiLCJyZXF1ZXN0RnVsbHNjcmVlbiIsIm1velJlcXVlc3RGdWxsU2NyZWVuIiwid2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4iLCJtc1JlcXVlc3RGdWxsc2NyZWVuIiwiZXhpdEZ1bGxzY3JlZW4iLCJtb3pFeGl0RnVsbFNjcmVlbiIsIndlYmtpdEV4aXRGdWxsc2NyZWVuIiwibXNFeGl0RnVsbHNjcmVlbiIsInNyYyIsImRhdGFzZXQiLCJ0YXJnZXQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJiaW5kIiwidGltZSIsIk1hdGgiLCJyb3VuZCIsImhvdXJzIiwiZmxvb3IiLCJtaW51dGVzIiwic2Vjb25kcyIsIml0ZW1zIiwiYnV0dG9uX25leHQiLCJidXR0b25fcHJldiIsInRpbWVyX2ZpbGwiLCJ0ZXh0X2N1cnJlbnQiLCJ0ZXh0X3RvdGFsIiwiaW5kZXgiLCJzdGFja2luZyIsImxhc3RfaW5kZXgiLCJzbGlkZV9pbnRlcnZhbCIsImxhc3RfdXBkYXRlIiwibmVlZF91cGRhdGUiLCJkcmF3Iiwic3RhcnRJbnRlcnZhbCIsImNsaWNrZWQiLCJ1cGRhdGUiLCJpbnRlcnZhbCIsImNsaWNrIiwiekluZGV4IiwiY2xlYXJUaW1lb3V0IiwiYnVyZ2VyX2J1dHRvbiIsImJ1cmdlcl9uYXYiLCJ0b2dnbGUiLCJoZWFkZXIiLCJoZWFkZXJfaGlkZSIsImJvZHkiLCJkZWx0YVkiLCJzY3JvbGxfZGlzYWJsZWQiLCJzY3JvbGxUb3AiLCJkaXNhYmxlZF9lbGVtZW50cyIsImV4aGliaXRpb25zX2J1dHRvbnNfaXRlbSIsImV4aGliaXRpb25zX2J1dHRvbnNfY29udGFpbmVyIiwiZXhoaWJpdGlvbnNfbGlzdF9pbWciLCJleGhpYml0aW9uc19saXN0X2NvbnRlbnQiLCJleGhpYml0aW9uc19sYXN0X2luZGV4IiwicGxheWVyIiwic2xpZGVyIiwiaW5zdGFncmFtRGF0ZSIsImQiLCJnZXRBdHRyaWJ1dGUiLCJpbm5lclRleHQiLCJtb21lbnQiLCJsb2NhbGUiLCJmcm9tTm93Il0sIm1hcHBpbmdzIjoiaWNBQU1BLFlBQ0osU0FBQUEsSUFBZUMsZ0JBQUFD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LEVBQXlCSSxJQUMzQkosRUFBeUJJLEdBQXdCcEcsVUFBVUUsT0FBTyxVQUVwRWtHLEVBQXlCNUIsRUFFekJ3QixFQUF5QnhCLEdBQU94RSxVQUFVQyxJQUFJLFVBRTFDUCxPQUFPdUMsWUFBYyxLQUN2QmlFLEVBQXFCbkUsTUFBTUMsVUFBWSxlQUEwQixJQUFSd0MsRUFBZSxLQUN4RTJCLEVBQXlCcEUsTUFBTUMsVUFBWSxlQUEwQixJQUFSd0MsRUFBZSxPQUc1RTBCLEVBQXFCbkUsTUFBTUMsVUFBWSxlQUEwQixJQUFSd0MsRUFBZSxLQUN4RTJCLEVBQXlCcEUsTUFBTUMsVUFBWSxlQUEwQixJQUFSd0MsRUFBZSxLQUM1RXlCLEVBQThCbEUsTUFBTUMsVUFBWSxnQkFBb0J3QyxFQUFRLEdBQUssRUFBSyxJQUFPLFFBekJwQyxHQWdDakUsUUFBeURqRyxHQUFyRGhFLFNBQVNDLGNBQWMsMkJBQ3pCLElBQU02TCxPQUFTLElBQUl4SixPQUFPdEMsU0FBU0MsY0FBYyw0QkFBNEIsR0FJL0UsUUFBeUMrRCxHQUFyQ2hFLFNBQVNDLGNBQWMsV0FDekIsSUFBTThMLE9BQVMsSUFBSXhKLE9BQU92QyxTQUFTQyxjQUFjLFlBR25ELFFBQWdEK0QsR0FBNUNoRSxTQUFTQyxjQUFjLGtCQUFnQyxDQUN6RCxJQUFJK0wsY0FBZ0JoTSxTQUFTQyxjQUFjLGtCQUNyQ2dNLEVBQUlELGNBQWNFLGFBQWEsWUFDckNGLGNBQWNHLFVBQVlDLE9BQU9ILEdBQUdJLE9BQU8sTUFBTUMsVUFFbkQsSUFBSXpNLFlBQ0osSUFBSStDIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgRXhoaWJpdGlvbnMge1xuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgY29uc3QgZXhoaWJpdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXhoaWJpdGlvbnMnKVxuICAgIGlmIChleGhpYml0aW9ucykge1xuICAgICAgbmV3IFZ1ZSh7XG4gICAgICAgIGVsOiAnI2V4aGliaXRpb25zJyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHllYXJzOiBbXSxcbiAgICAgICAgICBhY3RpdmVZZWFyOiAyMDE0LFxuICAgICAgICAgIGFydGljbGU6IHtcbiAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6ICcnLFxuICAgICAgICAgICAgcGhvdG9zOiBbXSxcbiAgICAgICAgICAgIHZpZGVvOiBbXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZXhoaWJpdGlvbnM6IFtdLFxuICAgICAgICAgIGxvYWRlckFydGljbGU6IGZhbHNlLFxuICAgICAgICAgIGxvYWRlckhlaWdodDogJzQwMHB4JyxcbiAgICAgICAgfSxcbiAgICAgICAgbW91bnRlZCAoKSB7XG4gICAgICAgICAgdGhpcy5nZXRZZWFycygpXG4gICAgICAgIH0sXG4gICAgICAgIG1ldGhvZHM6IHtcbiAgICAgICAgICBnZXRZZWFycyAoKSB7XG4gICAgICAgICAgICBsZXQgZm9ybV9kYXRhID0gbmV3IEZvcm1EYXRhXG4gICAgICAgICAgICBmb3JtX2RhdGEuYXBwZW5kKCdhY3Rpb24nLCAnZ2V0X3llYXJzJylcbiAgICAgICAgICAgIGF4aW9zLnBvc3QoYCR7YWpheHVybH1gLCBmb3JtX2RhdGEpLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgICAgdGhpcy55ZWFycyA9IHJlcy5kYXRhXG4gICAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlWWVhcih0aGlzLnllYXJzWzBdLm5hbWUpXG4gICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0RXhoaWJpdGlvbnMgKCkge1xuICAgICAgICAgICAgbGV0IGZvcm1fZGF0YSA9IG5ldyBGb3JtRGF0YVxuICAgICAgICAgICAgZm9ybV9kYXRhLmFwcGVuZCgnYWN0aW9uJywgJ2dldF9leGhpYml0aW9ucycpXG4gICAgICAgICAgICBmb3JtX2RhdGEuYXBwZW5kKCd5ZWFyJywgdGhpcy5hY3RpdmVZZWFyKVxuICAgICAgICAgICAgYXhpb3MucG9zdChgJHthamF4dXJsfWAsIGZvcm1fZGF0YSkudGhlbihyZXMgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmV4aGliaXRpb25zID0gcmVzLmRhdGFcbiAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFydGljbGUudGl0bGUgPSByZXMuZGF0YVswXS5wb3N0X3RpdGxlXG4gICAgICAgICAgICAgICAgdGhpcy5hcnRpY2xlLmNvbnRlbnQgPSByZXMuZGF0YVswXS5jb250ZW50XG4gICAgICAgICAgICAgICAgdGhpcy5hcnRpY2xlLnBob3RvcyA9IHJlcy5kYXRhWzBdLnBob3Rvc1xuICAgICAgICAgICAgICAgIHRoaXMuYXJ0aWNsZS52aWRlbyA9IHJlcy5kYXRhWzBdLnZpZGVvXG4gICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhWzBdLnZpZGVvKSB7XG4gICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3IFBsYXllcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi12aWRlb3Mtd3JhcHBlci1lJyksIGZhbHNlKVxuICAgICAgICAgICAgICAgICAgfSwgMTAwKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGFbMF0ucGhvdG9zKSB7XG4gICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3IFNsaWRlcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWUnKSlcbiAgICAgICAgICAgICAgICAgIH0sIDEwMClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hcnRpY2xlLnRpdGxlID0gJydcbiAgICAgICAgICAgICAgICB0aGlzLmFydGljbGUuY29udGVudCA9ICcnXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXRBcnRpY2xlIChwb3N0SWQpIHtcbiAgICAgICAgICAgIGxldCBmb3JtX2RhdGEgPSBuZXcgRm9ybURhdGFcbiAgICAgICAgICAgIGZvcm1fZGF0YS5hcHBlbmQoJ2FjdGlvbicsICdnZXRfZXhoaWJpdGlvbicpXG4gICAgICAgICAgICBmb3JtX2RhdGEuYXBwZW5kKCdpZCcsIHBvc3RJZClcbiAgICAgICAgICAgIHRoaXMubG9hZGVyQXJ0aWNsZSA9IHRydWVcbiAgICAgICAgICAgIGF4aW9zLnBvc3QoYCR7YWpheHVybH1gLCBmb3JtX2RhdGEpLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5hcnRpY2xlLnRpdGxlID0gcmVzLmRhdGEucG9zdF90aXRsZVxuICAgICAgICAgICAgICB0aGlzLmFydGljbGUuY29udGVudCA9IHJlcy5kYXRhLmNvbnRlbnRcbiAgICAgICAgICAgICAgdGhpcy5hcnRpY2xlLnBob3RvcyA9IHJlcy5kYXRhLnBob3Rvc1xuICAgICAgICAgICAgICB0aGlzLmFydGljbGUudmlkZW8gPSByZXMuZGF0YS52aWRlb1xuICAgICAgICAgICAgICB0aGlzLmxvYWRlckFydGljbGUgPSBmYWxzZVxuICAgICAgICAgICAgICBpZiAocmVzLmRhdGEudmlkZW8pIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIG5ldyBQbGF5ZXIoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tdmlkZW9zLXdyYXBwZXItZScpLCBmYWxzZSlcbiAgICAgICAgICAgICAgICB9LCAxMDApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnBob3Rvcykge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgbmV3IFNsaWRlcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWUnKSlcbiAgICAgICAgICAgICAgICB9LCAxMDApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXRBY3RpdmVZZWFyICh5ZWFyKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVllYXIgPSB5ZWFyXG4gICAgICAgICAgICB0aGlzLmdldEV4aGliaXRpb25zKHRoaXMuYWN0aXZlWWVhcilcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG59IiwiY2xhc3MgTmV3cyB7XG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICBjb25zdCBuZXdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25ld3MnKVxuICAgIGlmIChuZXdzKSB7XG4gICAgICBuZXcgVnVlKHtcbiAgICAgICAgZWw6ICcjbmV3cycsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBjYXRlZ29yaWVzOiBbXSxcbiAgICAgICAgICBhcnRpY2xlczoge30sXG4gICAgICAgICAgYWN0aXZlQ2F0ZWdvcnk6ICdhbGwnLFxuICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICBtYXg6IDAsXG4gICAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgbG9hZGVySGVpZ2h0OiAnNDAwcHgnXG4gICAgICAgIH0sXG4gICAgICAgIG1vdW50ZWQgKCkge1xuICAgICAgICAgIHRoaXMuZ2V0Q2F0ZWdvcmllcygpXG4gICAgICAgICAgdGhpcy5nZXRBcnRpY2xlcygnYWxsJylcbiAgICAgICAgfSxcbiAgICAgICAgbWV0aG9kczoge1xuICAgICAgICAgIGdldENhdGVnb3JpZXMgKCkge1xuICAgICAgICAgICAgbGV0IGZvcm1fZGF0YSA9IG5ldyBGb3JtRGF0YVxuICAgICAgICAgICAgZm9ybV9kYXRhLmFwcGVuZCgnYWN0aW9uJywgJ2dldF9uZXdzX2NhdGVnb3JpZXMnKVxuICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZVxuICAgICAgICAgICAgYXhpb3MucG9zdChgJHthamF4dXJsfWAsIGZvcm1fZGF0YSkudGhlbihyZXMgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmNhdGVnb3JpZXMgPSByZXMuZGF0YVxuICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZVxuICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9LFxuICAgICAgICAgIGdldEFydGljbGVzIChjYXRlZ29yeSkge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVDYXRlZ29yeSA9IGNhdGVnb3J5XG4gICAgICAgICAgICBsZXQgZm9ybV9kYXRhID0gbmV3IEZvcm1EYXRhXG4gICAgICAgICAgICBmb3JtX2RhdGEuYXBwZW5kKCdhY3Rpb24nLCAnZ2V0X25ld3MnKVxuICAgICAgICAgICAgZm9ybV9kYXRhLmFwcGVuZCgnY2F0ZWdvcnknLCBjYXRlZ29yeSlcbiAgICAgICAgICAgIGZvcm1fZGF0YS5hcHBlbmQoJ29mZnNldCcsIHRoaXMub2Zmc2V0KVxuICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZVxuICAgICAgICAgICAgdGhpcy5sb2FkZXJIZWlnaHQgPSBgJHtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV3cy1jb250YWluZXInKS5vZmZzZXRIZWlnaHR9cHhgXG4gICAgICAgICAgICBheGlvcy5wb3N0KGAke2FqYXh1cmx9YCwgZm9ybV9kYXRhKS50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICAgIGlmICh0aGlzLmFydGljbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXMuZGF0YVswXS5mb3JFYWNoKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgdGhpcy5hcnRpY2xlcy5wdXNoKGUpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFydGljbGVzID0gcmVzLmRhdGFbMF1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0aGlzLm1heCA9IHBhcnNlSW50KHJlcy5kYXRhWzFdKVxuICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZVxuICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNoYW5nZUNhdGVnb3J5IChjYXRlZ29yeSkge1xuICAgICAgICAgICAgdGhpcy5hcnRpY2xlcyA9IFtdXG4gICAgICAgICAgICB0aGlzLm9mZnNldCA9IDBcbiAgICAgICAgICAgIHRoaXMuZ2V0QXJ0aWNsZXMoY2F0ZWdvcnkpXG4gICAgICAgICAgICBcbiAgICAgICAgICB9LFxuICAgICAgICAgIGxvYWRNb3JlICgpIHtcbiAgICAgICAgICAgIHRoaXMub2Zmc2V0ICs9IDhcbiAgICAgICAgICAgIHRoaXMuZ2V0QXJ0aWNsZXModGhpcy5hY3RpdmVDYXRlZ29yeSlcbiAgICAgICAgICB9LFxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfVxufSIsImNsYXNzIFBsYXllciB7XG4gIGNvbnN0cnVjdG9yIChjb250YWluZXIsIHBsYXlsaXN0ID0gZmFsc2UpIHtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lclxuICAgIHRoaXMuYnV0dG9uX3RvZ2dsZSA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLXZpZGVvcy13cmFwcGVyLWNvbnRyb2xzLS10b2dnbGUnKVxuICAgIHRoaXMudmlkZW8gPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi12aWRlb3Mtd3JhcHBlci12aWRlbycpXG4gICAgXG4gICAgdGhpcy50aW1lX3NlZWtfYmFyID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tdmlkZW9zLXdyYXBwZXItY29udHJvbHMtc2Vlay1iYXInKVxuICAgIHRoaXMudGltZV9zZWVrX2Jhcl9maWxsID0gdGhpcy50aW1lX3NlZWtfYmFyLnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLXZpZGVvcy13cmFwcGVyLWNvbnRyb2xzLXNlZWstYmFyLS1maWxsJylcbiAgICB0aGlzLnRpbWVfZHJhZyA9IGZhbHNlXG4gICAgXG4gICAgdGhpcy50aW1lX2N1cnJlbnQgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi12aWRlb3Mtd3JhcHBlci1jb250cm9scy0tdGltZS1jdXJyZW50JylcbiAgICB0aGlzLnRpbWVfZHVyYXRpb24gPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi12aWRlb3Mtd3JhcHBlci1jb250cm9scy0tdGltZS1kdXJhdGlvbicpXG4gICAgXG4gICAgdGhpcy5idXR0b25fdm9sdW1lID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tdmlkZW9zLXdyYXBwZXItY29udHJvbHMtdm9sdW1lLS1pY29uJylcbiAgICB0aGlzLnZvbHVtZV9zZWVrX2JhciA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLXZpZGVvcy13cmFwcGVyLWNvbnRyb2xzLXZvbHVtZS0tYmFyJylcbiAgICB0aGlzLnZvbHVtZV9zZWVrX2Jhcl9maWxsID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tdmlkZW9zLXdyYXBwZXItY29udHJvbHMtdm9sdW1lLS1iYXItZmlsbCcpXG4gICAgdGhpcy52b2x1bWVfZHJhZyA9IGZhbHNlXG4gICAgXG4gICAgdGhpcy5lZmZlY3RfcGF1c2UgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi12aWRlb3Mtd3JhcHBlci1lZmZlY3QtcGF1c2UnKVxuICAgIHRoaXMuZWZmZWN0X3BsYXkgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi12aWRlb3Mtd3JhcHBlci1lZmZlY3QtcGxheScpXG4gICAgXG4gICAgdGhpcy5idXR0b25fZnVsbHNjcmVlbiA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLXZpZGVvcy13cmFwcGVyLWNvbnRyb2xzLS1mdWxsc2NyZWVuJylcbiAgICBcbiAgICB0aGlzLmJ1dHRvbl90b2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLnRvZ2dsZVN0YXRlKClcbiAgICB9KVxuICAgIFxuICAgIHRoaXMudGltZV9zZWVrX2Jhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICB0aGlzLnRpbWVfcG9zaXRpb25zID0gdGhpcy50aW1lX3NlZWtfYmFyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICBcbiAgICAgIHRoaXMudXBkYXRlVGltZShlKVxuICAgIH0pXG4gICAgXG4gICAgdGhpcy50aW1lX3NlZWtfYmFyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsICgpID0+IHtcbiAgICAgIGlmICghdGhpcy50aW1lX2RyYWcpIHtcbiAgICAgICAgdGhpcy50aW1lX3Bvc2l0aW9ucyA9IHRoaXMudGltZV9zZWVrX2Jhci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgICB0aGlzLnRpbWVfZHJhZyA9IHRydWVcbiAgICAgIH1cbiAgICB9KVxuICAgIFxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMudGltZV9kcmFnKSB7XG4gICAgICAgIHRoaXMudGltZV9kcmFnID0gZmFsc2VcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHRoaXMudm9sdW1lX2RyYWcpIHtcbiAgICAgICAgdGhpcy52b2x1bWVfZHJhZyA9IGZhbHNlXG4gICAgICB9XG4gICAgfSlcbiAgICBcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGUpID0+IHtcbiAgICAgIGlmICh0aGlzLnRpbWVfZHJhZykge1xuICAgICAgICB0aGlzLnVwZGF0ZVRpbWUoZSlcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnZvbHVtZV9kcmFnKSB7XG4gICAgICAgIHRoaXMudXBkYXRlVm9sdW1lKGUpXG4gICAgICB9XG4gICAgfSlcbiAgICBcbiAgICB0aGlzLmJ1dHRvbl92b2x1bWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLnRvZ2dsZU11dGUoKVxuICAgIH0pXG4gICAgXG4gICAgdGhpcy52b2x1bWVfc2Vla19iYXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgdGhpcy52b2x1bWVfcG9zaXRpb25zID0gdGhpcy52b2x1bWVfc2Vla19iYXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgIHRoaXMudXBkYXRlVm9sdW1lKGUpXG4gICAgfSlcbiAgICBcbiAgICB0aGlzLnZvbHVtZV9zZWVrX2Jhci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMudm9sdW1lX2RyYWcpIHtcbiAgICAgICAgdGhpcy52b2x1bWVfcG9zaXRpb25zID0gdGhpcy52b2x1bWVfc2Vla19iYXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgICAgdGhpcy52b2x1bWVfZHJhZyA9IHRydWVcbiAgICAgIH1cbiAgICB9KVxuICAgIFxuICAgIHRoaXMuYnV0dG9uX2Z1bGxzY3JlZW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLnRvZ2dsZUZ1bGxzY3JlZW4oKVxuICAgIH0pXG4gICAgXG4gICAgdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMudG9nZ2xlRnVsbHNjcmVlbigpXG4gICAgfSlcbiAgICBcbiAgICB0aGlzLnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy50b2dnbGVTdGF0ZSgpXG4gICAgICBpZiAodGhpcy52aWRlby5wYXVzZWQpIHtcbiAgICAgICAgdGhpcy5lZmZlY3RfcGxheS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICAgICAgICB0aGlzLmVmZmVjdF9wYXVzZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuZWZmZWN0X3BhdXNlLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG4gICAgICAgIHRoaXMuZWZmZWN0X3BsYXkuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICAgIH1cbiAgICB9KVxuICAgIFxuICAgIHRoaXMucGxheWxpc3QgPSBwbGF5bGlzdFxuICAgIGlmICh0aGlzLnBsYXlsaXN0KSB7XG4gICAgICB0aGlzLmNvbnRhaW5lcl9wbGF5bGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLXZpZGVvcy1uYXYtd3JhcHBlci1saXN0JylcbiAgICAgIHRoaXMucGxheWxpc3RfaXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbi12aWRlb3MtbmF2LXdyYXBwZXItbGlzdC1pdGVtJylcbiAgICAgIHRoaXMucGxheWxpc3RfbmV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLXZpZGVvcy1uYXYtY29udHJvbHMtLW5leHQnKVxuICAgICAgdGhpcy5wbGF5bGlzdF9wcmV2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tdmlkZW9zLW5hdi1jb250cm9scy0tcHJldicpXG4gICAgICB0aGlzLnBsYXlsaXN0X2luZGV4ID0gMFxuICAgICAgdGhpcy5wbGF5bGlzdF9zZWxlY3RlZCA9IHRoaXMucGxheWxpc3RfaXRlbXNbdGhpcy5wbGF5bGlzdF9pbmRleF1cbiAgICAgIHRoaXMucGxheWxpc3RfaXRlbV93aWR0aCA9IHRoaXMucGxheWxpc3RfaXRlbXNbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKyAyMFxuICAgICAgXG4gICAgICB0aGlzLnZpZGVvX2luZGV4ID0gMFxuICAgICAgdGhpcy52aWRlb19wcmV2ID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tdmlkZW9zLXdyYXBwZXItY29udHJvbHMtLXNraXAtcHJldicpXG4gICAgICB0aGlzLnZpZGVvX25leHQgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi12aWRlb3Mtd3JhcHBlci1jb250cm9scy0tc2tpcC1uZXh0JylcbiAgICAgIFxuICAgICAgdGhpcy5wbGF5bGlzdF9uZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wbGF5bGlzdF9pbmRleCA8IHRoaXMucGxheWxpc3RfaXRlbXMubGVuZ3RoIC0gdGhpcy5wbGF5bGlzdF9zaXplKSB7XG4gICAgICAgICAgdGhpcy5wbGF5bGlzdF9pbmRleCsrXG4gICAgICAgICAgdGhpcy51cGRhdGVQbGF5bGlzdCgpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICBcbiAgICAgIHRoaXMucGxheWxpc3RfcHJldi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucGxheWxpc3RfaW5kZXggPiAwKSB7XG4gICAgICAgICAgdGhpcy5wbGF5bGlzdF9pbmRleC0tXG4gICAgICAgICAgdGhpcy51cGRhdGVQbGF5bGlzdCgpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICBcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wbGF5bGlzdF9pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpc1xuICAgICAgICB0aGlzLnBsYXlsaXN0X2l0ZW1zW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICh0aGlzICE9IHNlbGYucGxheWxpc3Rfc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHNlbGYudmlkZW9faW5kZXggPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHNlbGYucGxheWxpc3RfaXRlbXMsIHRoaXMpXG4gICAgICAgICAgICBzZWxmLnNlbGVjdFZpZGVvKClcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBcbiAgICAgIHRoaXMudmlkZW9fcHJldi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMudmlkZW9faW5kZXggPiAwKSB7XG4gICAgICAgICAgdGhpcy52aWRlb19pbmRleC0tXG4gICAgICAgICAgdGhpcy5zZWxlY3RWaWRlbygpXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdGhpcy52aWRlb19wcmV2LmNsYXNzTGlzdC5hZGQoJ2hpZGUnKVxuICAgICAgICAgIGNvbnNvbGUubG9nKCdub3AgcHJldicpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWRlb19uZXh0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKVxuICAgICAgfSlcbiAgICAgIFxuICAgICAgdGhpcy52aWRlb19uZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy52aWRlb19pbmRleCA8IHRoaXMucGxheWxpc3RfaXRlbXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIHRoaXMudmlkZW9faW5kZXgrK1xuICAgICAgICAgIHRoaXMuc2VsZWN0VmlkZW8oKVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHRoaXMudmlkZW9fbmV4dC5jbGFzc0xpc3QuYWRkKCdoaWRlJylcbiAgICAgICAgICBjb25zb2xlLmxvZygnbm9wIG5leHQnKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlkZW9fcHJldi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJylcbiAgICAgIH0pXG4gICAgICBcbiAgICAgIHRoaXMudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnZpZGVvX2luZGV4IDwgdGhpcy5wbGF5bGlzdF9pdGVtcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgdGhpcy52aWRlb19pbmRleCsrXG4gICAgICAgICAgdGhpcy5zZWxlY3RWaWRlbygpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICBcbiAgICAgIHRoaXMuaW5pdFBsYXlsaXN0KClcbiAgICB9XG4gICAgXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcbiAgICAgIHRoaXMucGxheWxpc3RfaXRlbV93aWR0aCA9IHRoaXMucGxheWxpc3RfaXRlbXNbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKyAyMFxuICAgICAgaWYgKHRoaXMucGxheWxpc3QpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3Jlc2l6ZScpXG4gICAgICAgIHRoaXMuaW5pdFBsYXlsaXN0KClcbiAgICAgIH1cbiAgICB9KVxuICAgIFxuICAgIHRoaXMuaW5pdCgpXG4gICAgXG4gIH1cbiAgXG4gIC8vIGluaXQgbmV3IHZpZGVvXG4gIGluaXQgKCkge1xuICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ3BsYXlpbmcnKVxuICAgIHRoaXMuZWZmZWN0X3BhdXNlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgdGhpcy5lZmZlY3RfcGxheS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgIHRoaXMudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkZGF0YScsICgpID0+IHtcbiAgICAgIHRoaXMudmlkZW8uY3VycmVudFRpbWUgPSAuNDVcbiAgICAgIHRoaXMudGltZV9kdXJhdGlvbi50ZXh0Q29udGVudCA9IHRoaXMuZm9ybWF0VGltZSh0aGlzLnZpZGVvLmR1cmF0aW9uKVxuICAgICAgdGhpcy50aW1lX2N1cnJlbnQudGV4dENvbnRlbnQgPSB0aGlzLmZvcm1hdFRpbWUodGhpcy52aWRlby5jdXJyZW50VGltZSlcbiAgICAgIFxuICAgICAgdGhpcy50aW1lX3NlZWtfYmFyX2ZpbGwuc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlWCgwKSdcbiAgICB9KVxuICB9XG4gIFxuICBpbml0UGxheWxpc3QgKCkge1xuICAgIGxldCB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXG4gICAgaWYgKHdpZHRoIDwgNDI1KSB7XG4gICAgICB0aGlzLnBsYXlsaXN0X3NpemUgPSAxXG4gICAgfVxuICAgIGVsc2UgaWYgKHdpZHRoIDwgNjUwKSB7XG4gICAgICB0aGlzLnBsYXlsaXN0X3NpemUgPSAyXG4gICAgfVxuICAgIGVsc2UgaWYgKHdpZHRoIDwgOTAwKSB7XG4gICAgICB0aGlzLnBsYXlsaXN0X3NpemUgPSAzXG4gICAgfVxuICAgIGVsc2UgaWYgKHdpZHRoIDwgMTMwMCkge1xuICAgICAgdGhpcy5wbGF5bGlzdF9zaXplID0gNVxuICAgIH1cbiAgICBlbHNlIGlmICh3aWR0aCA8IDI1MDApIHtcbiAgICAgIHRoaXMucGxheWxpc3Rfc2l6ZSA9IDZcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLnBsYXlsaXN0X3NpemUgPSA5XG4gICAgfVxuICAgIFxuICAgIHRoaXMucGxheWxpc3RfaW5kZXggPSAwXG4gICAgdGhpcy51cGRhdGVQbGF5bGlzdCgpXG4gIH1cbiAgXG4gIC8vdXBkYXRlIGZ1bmNcbiAgdG9nZ2xlU3RhdGUgKCkge1xuICAgIGlmICh0aGlzLnZpZGVvLnBhdXNlZCkge1xuICAgICAgdGhpcy52aWRlby5wbGF5KClcbiAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3BsYXlpbmcnKVxuICAgICAgdGhpcy5yZW5kZXIoKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMudmlkZW8ucGF1c2UoKVxuICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgncGxheWluZycpXG4gICAgfVxuICAgIHRoaXMuZWZmZWN0X3BhdXNlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgdGhpcy5lZmZlY3RfcGxheS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICB9XG4gIFxuICB1cGRhdGVUaW1lIChlKSB7XG4gICAgbGV0IHJhdGlvID0gKGUucGFnZVggLSB0aGlzLnRpbWVfcG9zaXRpb25zLmxlZnQpIC8gdGhpcy50aW1lX3Bvc2l0aW9ucy53aWR0aFxuICAgIGlmIChyYXRpbyA+PSAwICYmIHJhdGlvIDwgMSkge1xuICAgICAgdGhpcy50aW1lX3NlZWtfYmFyX2ZpbGwuc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlWCgnICsgcmF0aW8gKyAnKSdcbiAgICAgIHRoaXMudmlkZW8uY3VycmVudFRpbWUgPSByYXRpbyAqIHRoaXMudmlkZW8uZHVyYXRpb25cbiAgICAgIHRoaXMudGltZV9jdXJyZW50LnRleHRDb250ZW50ID0gdGhpcy5mb3JtYXRUaW1lKHRoaXMudmlkZW8uY3VycmVudFRpbWUpXG4gICAgfVxuICB9XG4gIFxuICB1cGRhdGVWb2x1bWUgKGUpIHtcbiAgICBsZXQgcmF0aW8gPSAoZS5wYWdlWCAtIHRoaXMudm9sdW1lX3Bvc2l0aW9ucy5sZWZ0KSAvIHRoaXMudm9sdW1lX3Bvc2l0aW9ucy53aWR0aFxuICAgIGlmIChyYXRpbyA+PSAwICYmIHJhdGlvIDwgMSkge1xuICAgICAgdGhpcy52aWRlby52b2x1bWUgPSByYXRpb1xuICAgICAgdGhpcy52b2x1bWVfc2Vla19iYXJfZmlsbC5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGVYKCcgKyByYXRpbyArICcpJ1xuICAgICAgaWYgKHRoaXMudmlkZW8ubXV0ZWQpIHtcbiAgICAgICAgdGhpcy50b2dnbGVNdXRlKClcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHJhdGlvID49IC41KSB7XG4gICAgICAgIHRoaXMuYnV0dG9uX3ZvbHVtZS5jbGFzc0xpc3QuYWRkKCd2b2x1bWUtMicpXG4gICAgICAgIHRoaXMuYnV0dG9uX3ZvbHVtZS5jbGFzc0xpc3QucmVtb3ZlKCd2b2x1bWUtMScpXG4gICAgICAgIHRoaXMuYnV0dG9uX3ZvbHVtZS5jbGFzc0xpc3QucmVtb3ZlKCd2b2x1bWUtMCcpXG4gICAgICB9XG4gICAgICBlbHNlIGlmIChyYXRpbyA8IC41ICYmIHJhdGlvID49IC4yNSkge1xuICAgICAgICB0aGlzLmJ1dHRvbl92b2x1bWUuY2xhc3NMaXN0LnJlbW92ZSgndm9sdW1lLTInKVxuICAgICAgICB0aGlzLmJ1dHRvbl92b2x1bWUuY2xhc3NMaXN0LmFkZCgndm9sdW1lLTEnKVxuICAgICAgICB0aGlzLmJ1dHRvbl92b2x1bWUuY2xhc3NMaXN0LnJlbW92ZSgndm9sdW1lLTAnKVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAocmF0aW8gPCAuMjUpIHtcbiAgICAgICAgdGhpcy5idXR0b25fdm9sdW1lLmNsYXNzTGlzdC5yZW1vdmUoJ3ZvbHVtZS0yJylcbiAgICAgICAgdGhpcy5idXR0b25fdm9sdW1lLmNsYXNzTGlzdC5yZW1vdmUoJ3ZvbHVtZS0xJylcbiAgICAgICAgdGhpcy5idXR0b25fdm9sdW1lLmNsYXNzTGlzdC5hZGQoJ3ZvbHVtZS0wJylcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHJhdGlvIDw9IDApIHtcbiAgICAgICAgdGhpcy5idXR0b25fdm9sdW1lLmNsYXNzTGlzdC5yZW1vdmUoJ3ZvbHVtZS0yJylcbiAgICAgICAgdGhpcy5idXR0b25fdm9sdW1lLmNsYXNzTGlzdC5yZW1vdmUoJ3ZvbHVtZS0xJylcbiAgICAgICAgdGhpcy5idXR0b25fdm9sdW1lLmNsYXNzTGlzdC5yZW1vdmUoJ3ZvbHVtZS0wJylcbiAgICAgICAgdGhpcy50b2dnbGVNdXRlKClcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG4gIHRvZ2dsZU11dGUgKCkge1xuICAgIGlmICh0aGlzLnZpZGVvLm11dGVkKSB7XG4gICAgICB0aGlzLnZpZGVvLm11dGVkID0gZmFsc2VcbiAgICAgIHRoaXMuYnV0dG9uX3ZvbHVtZS5jbGFzc0xpc3QucmVtb3ZlKCdtdXRlJylcbiAgICAgIHRoaXMudm9sdW1lX3NlZWtfYmFyX2ZpbGwuc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlWCgnICsgdGhpcy52aWRlby52b2x1bWUgKyAnKSdcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLnZpZGVvLm11dGVkID0gdHJ1ZVxuICAgICAgdGhpcy5idXR0b25fdm9sdW1lLmNsYXNzTGlzdC5hZGQoJ211dGUnKVxuICAgICAgdGhpcy52b2x1bWVfc2Vla19iYXJfZmlsbC5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGVYKDApJ1xuICAgIH1cbiAgfVxuICBcbiAgdG9nZ2xlRnVsbHNjcmVlbiAoKSB7XG4gICAgaWYgKGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50ID09IG51bGwgJiYgZG9jdW1lbnQubW96RnVsbHNjcmVlbkVsZW1lbnQgPT0gbnVsbCAmJiBkb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudCA9PSBudWxsICYmIGRvY3VtZW50Lm1zRnVsbHNjcmVlbkVsZW1lbnQgPT0gbnVsbCkge1xuICAgICAgaWYgKHRoaXMuY29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuKClcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHRoaXMuY29udGFpbmVyLm1velJlcXVlc3RGdWxsU2NyZWVuKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLm1velJlcXVlc3RGdWxsU2NyZWVuKClcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHRoaXMuY29udGFpbmVyLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKClcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHRoaXMuY29udGFpbmVyLm1zUmVxdWVzdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIubXNSZXF1ZXN0RnVsbHNjcmVlbigpXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaWYgKGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKSB7XG4gICAgICAgIGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKClcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGRvY3VtZW50Lm1vekV4aXRGdWxsU2NyZWVuKSB7XG4gICAgICAgIGRvY3VtZW50Lm1vekV4aXRGdWxsU2NyZWVuKClcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGRvY3VtZW50LndlYmtpdEV4aXRGdWxsc2NyZWVuKSB7XG4gICAgICAgIGRvY3VtZW50LndlYmtpdEV4aXRGdWxsc2NyZWVuKClcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgZG9jdW1lbnQubXNFeGl0RnVsbHNjcmVlbigpXG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICAvL3BsYXlsaXN0XG4gIHVwZGF0ZVBsYXlsaXN0ICgpIHtcbiAgICB0aGlzLmNvbnRhaW5lcl9wbGF5bGlzdC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgtJyArICh0aGlzLnBsYXlsaXN0X2luZGV4ICogdGhpcy5wbGF5bGlzdF9pdGVtX3dpZHRoKSArICdweCknXG4gICAgXG4gICAgaWYgKHRoaXMucGxheWxpc3RfaW5kZXggPT0gMCkge1xuICAgICAgdGhpcy5wbGF5bGlzdF9wcmV2LmNsYXNzTGlzdC5hZGQoJ2hpZGUnKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMucGxheWxpc3RfcHJldi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJylcbiAgICB9XG4gICAgXG4gICAgaWYgKHRoaXMucGxheWxpc3RfaW5kZXggPj0gKHRoaXMucGxheWxpc3RfaXRlbXMubGVuZ3RoIC0gdGhpcy5wbGF5bGlzdF9zaXplKSkge1xuICAgICAgdGhpcy5wbGF5bGlzdF9uZXh0LmNsYXNzTGlzdC5hZGQoJ2hpZGUnKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMucGxheWxpc3RfbmV4dC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJylcbiAgICB9XG4gIH1cbiAgXG4gIHNlbGVjdFZpZGVvICgpIHtcbiAgICB0aGlzLnBsYXlsaXN0X3NlbGVjdGVkLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgdGhpcy5wbGF5bGlzdF9zZWxlY3RlZCA9IHRoaXMucGxheWxpc3RfaXRlbXNbdGhpcy52aWRlb19pbmRleF1cbiAgICB0aGlzLnBsYXlsaXN0X3NlbGVjdGVkLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG4gICAgXG4gICAgdGhpcy52aWRlby5zcmMgPSB0aGlzLnBsYXlsaXN0X3NlbGVjdGVkLmRhdGFzZXQudGFyZ2V0XG4gICAgdGhpcy5pbml0KClcbiAgICBcbiAgICBpZiAodGhpcy52aWRlb19pbmRleCA+IHRoaXMucGxheWxpc3RfaW5kZXggKyB0aGlzLnBsYXlsaXN0X3NpemUgLSAxKSB7XG4gICAgICB0aGlzLnBsYXlsaXN0X2luZGV4KytcbiAgICAgIHRoaXMudXBkYXRlUGxheWxpc3QoKVxuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLnZpZGVvX2luZGV4IDwgdGhpcy5wbGF5bGlzdF9pbmRleCkge1xuICAgICAgdGhpcy5wbGF5bGlzdF9pbmRleC0tXG4gICAgICB0aGlzLnVwZGF0ZVBsYXlsaXN0KClcbiAgICB9XG4gICAgXG4gICAgaWYgKHRoaXMudmlkZW9faW5kZXggPT0gMCkge1xuICAgICAgdGhpcy52aWRlb19wcmV2LmNsYXNzTGlzdC5hZGQoJ2hpZGUnKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMudmlkZW9fcHJldi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJylcbiAgICB9XG4gICAgXG4gICAgaWYgKHRoaXMudmlkZW9faW5kZXggPj0gKHRoaXMucGxheWxpc3RfaXRlbXMubGVuZ3RoIC0gMSkpIHtcbiAgICAgIHRoaXMudmlkZW9fbmV4dC5jbGFzc0xpc3QuYWRkKCdoaWRlJylcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLnZpZGVvX25leHQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpXG4gICAgfVxuICB9XG4gIFxuICAvL3JlbmRlciBmdW5jXG4gIHJlbmRlciAoKSB7XG4gICAgaWYgKCF0aGlzLnZpZGVvLnBhdXNlZCkge1xuICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnJlbmRlci5iaW5kKHRoaXMpKVxuICAgIH1cbiAgICBcbiAgICBsZXQgcmF0aW8gPSB0aGlzLnZpZGVvLmN1cnJlbnRUaW1lIC8gdGhpcy52aWRlby5kdXJhdGlvblxuICAgIHRoaXMudGltZV9zZWVrX2Jhcl9maWxsLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZVgoJyArIHJhdGlvICsgJyknXG4gICAgXG4gICAgdGhpcy50aW1lX2N1cnJlbnQudGV4dENvbnRlbnQgPSB0aGlzLmZvcm1hdFRpbWUodGhpcy52aWRlby5jdXJyZW50VGltZSlcbiAgICBcbiAgICBpZiAodGhpcy52aWRlby5jdXJyZW50VGltZSA9PSB0aGlzLnZpZGVvLmR1cmF0aW9uKSB7XG4gICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdwbGF5aW5nJylcbiAgICB9XG4gIH1cbiAgXG4gIC8vIHVzZWZ1bGwgZnVuY1xuICBmb3JtYXRUaW1lICh0aW1lKSB7XG4gICAgdGltZSA9IE1hdGgucm91bmQodGltZSlcbiAgICBsZXQgaG91cnMgPSBNYXRoLmZsb29yKHRpbWUgLyAzNjAwKVxuICAgIGxldCBtaW51dGVzID0gTWF0aC5mbG9vcigodGltZSAtIChob3VycyAqIDM2MDApKSAvIDYwKVxuICAgIGxldCBzZWNvbmRzID0gdGltZSAtIChob3VycyAqIDM2MDApIC0gKG1pbnV0ZXMgKiA2MClcbiAgICBcbiAgICBob3VycyA9IGhvdXJzIDwgMTAgPyAnMCcgKyBob3VycyA6IGhvdXJzXG4gICAgbWludXRlcyA9IG1pbnV0ZXMgPCAxMCA/ICcwJyArIG1pbnV0ZXMgOiBtaW51dGVzXG4gICAgc2Vjb25kcyA9IHNlY29uZHMgPCAxMCA/ICcwJyArIHNlY29uZHMgOiBzZWNvbmRzXG4gICAgXG4gICAgaWYgKGhvdXJzICE9IDApIHtcbiAgICAgIHJldHVybiBob3VycyArICc6JyArIG1pbnV0ZXMgKyAnOicgKyBzZWNvbmRzXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIG1pbnV0ZXMgKyAnOicgKyBzZWNvbmRzXG4gICAgfVxuICB9XG59IiwiY2xhc3MgU2xpZGVye1xuICBjb25zdHJ1Y3Rvcihjb250YWluZXIpe1xuICAgIHRoaXMuY29udGFpbmVyICAgPSBjb250YWluZXJcbiAgICB0aGlzLml0ZW1zICAgICAgID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLnNsaWRlci1pdGVtJylcbiAgICB0aGlzLmJ1dHRvbl9uZXh0ID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnNsaWRlci1uZXh0JylcbiAgICB0aGlzLmJ1dHRvbl9wcmV2ID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnNsaWRlci1wcmV2JylcbiAgICB0aGlzLnRpbWVyX2ZpbGwgID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnNsaWRlci10aW1lci1maWxsJylcbiAgICB0aGlzLnRleHRfY3VycmVudCA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXItaW5kZXgtY3VycmVudCcpXG4gICAgdGhpcy50ZXh0X3RvdGFsID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnNsaWRlci1pbmRleC10b3RhbCcpXG4gICAgXG4gICAgdGhpcy5pbmRleCAgICAgID0gMFxuICAgIHRoaXMuc3RhY2tpbmcgICA9IDFcbiAgICB0aGlzLmxhc3RfaW5kZXggPSAwXG4gICAgXG4gICAgdGhpcy5zbGlkZV9pbnRlcnZhbCA9IDQwMDBcbiAgICB0aGlzLmxhc3RfdXBkYXRlICAgID0gMFxuICAgIHRoaXMubmVlZF91cGRhdGUgICAgPSB0cnVlXG4gICAgdGhpcy5kcmF3ICAgICAgICAgICA9IHRydWVcbiAgICBcbiAgICB0aGlzLmluaXQoKVxuICAgIHRoaXMucmVuZGVyKClcbiAgICB0aGlzLnN0YXJ0SW50ZXJ2YWwoKVxuICAgIFxuICAgIHRoaXMuYnV0dG9uX25leHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xuICAgICAgaWYoIXRoaXMuY2xpY2tlZCl7XG4gICAgICAgIGlmKHRoaXMuaW5kZXggPCB0aGlzLml0ZW1zLmxlbmd0aCAtIDEpe1xuICAgICAgICAgIHRoaXMuaW5kZXggKytcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgIHRoaXMuaW5kZXggPSAwXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGUoKVxuICAgICAgfVxuICAgIH0pXG4gICAgXG4gICAgdGhpcy5idXR0b25fcHJldi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgICBpZighdGhpcy5jbGlja2VkKXtcbiAgICAgICAgaWYodGhpcy5pbmRleCA+IDApe1xuICAgICAgICAgIHRoaXMuaW5kZXggLS1cbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgIHRoaXMuaW5kZXggPSB0aGlzLml0ZW1zLmxlbmd0aCAtIDFcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZSgpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuICBcbiAgc3RhcnRJbnRlcnZhbCgpe1xuICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRUaW1lb3V0KCgpPT57XG4gICAgICBcbiAgICAgIHRoaXMuYnV0dG9uX25leHQuY2xpY2soKVxuICAgICAgdGhpcy5zdGFydEludGVydmFsKClcbiAgICB9LCB0aGlzLnNsaWRlX2ludGVydmFsKVxuICB9XG4gIFxuICBpbml0KCl7XG4gICAgdGhpcy50ZXh0X3RvdGFsLnRleHRDb250ZW50ID0gdGhpcy5pdGVtcy5sZW5ndGggPiA5ID8gdGhpcy5pdGVtcy5sZW5ndGggOiAnMCcgKyB0aGlzLml0ZW1zLmxlbmd0aFxuICAgIHRoaXMuaW5kZXggPSAwXG4gICAgdGhpcy5pdGVtc1t0aGlzLmluZGV4XS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICAgIHRoaXMudGV4dF9jdXJyZW50LnRleHRDb250ZW50ID0gKHRoaXMuaW5kZXgrMSkgPiA5ID8gKHRoaXMuaW5kZXgrMSkgOiAnMCcgKyAodGhpcy5pbmRleCsxKVxuICB9XG4gIFxuICB1cGRhdGUoKXtcbiAgICB0aGlzLnRleHRfdG90YWwudGV4dENvbnRlbnQgPSB0aGlzLml0ZW1zLmxlbmd0aCA+IDkgPyB0aGlzLml0ZW1zLmxlbmd0aCA6ICcwJyArIHRoaXMuaXRlbXMubGVuZ3RoXG4gICAgdGhpcy50ZXh0X2N1cnJlbnQudGV4dENvbnRlbnQgPSAodGhpcy5pbmRleCsxKSA+IDkgPyAodGhpcy5pbmRleCsxKSA6ICcwJyArICh0aGlzLmluZGV4KzEpXG4gICAgXG4gICAgdGhpcy5pdGVtc1t0aGlzLmluZGV4XS5zdHlsZS56SW5kZXggPSB0aGlzLnN0YWNraW5nKytcbiAgICBcbiAgICAvLyB0aGlzLml0ZW1zW3RoaXMuaW5kZXhdLmNsYXNzTGlzdC5hZGQoJ3VwLWluZGV4JylcbiAgICAvLyB0aGlzLml0ZW1zW3RoaXMubGFzdF9pbmRleF0uY2xhc3NMaXN0LnJlbW92ZSgndXAtaW5kZXgnKVxuICAgIHRoaXMuaXRlbXNbdGhpcy5pbmRleF0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcbiAgICBcbiAgICB0aGlzLmNsaWNrZWQgPSB0cnVlXG4gICAgdGhpcy5kcmF3ICAgID0gZmFsc2VcbiAgICB0aGlzLnRpbWVyX2ZpbGwuY2xhc3NMaXN0LmFkZCgnZmlsbCcpXG4gICAgXG4gICAgXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLml0ZW1zW3RoaXMubGFzdF9pbmRleF0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICAgIHRoaXMubGFzdF9pbmRleCA9IHRoaXMuaW5kZXhcbiAgICAgIHRoaXMuY2xpY2tlZCA9IGZhbHNlXG4gICAgICBcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmludGVydmFsKVxuICAgICAgdGhpcy5zdGFydEludGVydmFsKClcbiAgICAgIFxuICAgICAgdGhpcy50aW1lcl9maWxsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZpbGwnKVxuICAgICAgdGhpcy5uZWVkX3VwZGF0ZSA9IHRydWVcbiAgICAgIHRoaXMuZHJhdyAgICAgICAgPSB0cnVlXG4gICAgfSwgNjEwKVxuICAgIFxuICB9XG4gIFxuICByZW5kZXIodGltZSl7XG4gICAgLy8gY29uc29sZS5sb2codGltZSlcbiAgICBpZih0aGlzLm5lZWRfdXBkYXRlIHx8IHRoaXMubGFzdF91cGRhdGUgPT09IHVuZGVmaW5lZCB8fCB0aW1lID09PSB1bmRlZmluZWQpe1xuICAgICAgdGhpcy5sYXN0X3VwZGF0ZSA9IHRpbWVcbiAgICAgIHRoaXMubmVlZF91cGRhdGUgPSBmYWxzZVxuICAgIH1cbiAgICAvLyBjb25zb2xlLmxvZyh0aW1lIC0gdGhpcy5sYXN0X3VwZGF0ZSAvIHRoaXMuZHVyYXRpb24pXG4gICAgaWYoKHRpbWUgLSB0aGlzLmxhc3RfdXBkYXRlKSAvIHRoaXMuc2xpZGVfaW50ZXJ2YWwgPj0gMSl7XG4gICAgICBsZXQgcmF0aW8gPSAodGltZSAtIHRoaXMubGFzdF91cGRhdGUpIC8gdGhpcy5zbGlkZV9pbnRlcnZhbFxuICAgICAgdGhpcy50aW1lcl9maWxsLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZVgoJysgcmF0aW8gKycpJ1xuICAgICAgdGhpcy5sYXN0X3VwZGF0ZSA9IHRpbWVcbiAgICB9XG4gICAgXG4gICAgaWYodGhpcy5kcmF3KXtcbiAgICAgIGxldCByYXRpbyA9ICh0aW1lIC0gdGhpcy5sYXN0X3VwZGF0ZSkgLyB0aGlzLnNsaWRlX2ludGVydmFsXG4gICAgICB0aGlzLnRpbWVyX2ZpbGwuc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlWCgnKyByYXRpbyArJyknXG4gICAgfVxuICAgIGVsc2V7XG4gICAgICB0aGlzLnRpbWVyX2ZpbGwuc3R5bGUudHJhbnNmb3JtID0gbnVsbFxuICAgIH1cbiAgICBcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucmVuZGVyLmJpbmQodGhpcykpXG4gIH1cbiAgXG59IiwiLy8gSEVBREVSIEJVUkdFUlxuY29uc3QgYnVyZ2VyX2J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItYnVyZ2VyJylcbmNvbnN0IGJ1cmdlcl9uYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLW5hdicpXG5cbmJ1cmdlcl9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gIGJ1cmdlcl9idXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgnaGVhZGVyLWJ1cmdlci1hY3RpdmUnKVxuICBidXJnZXJfbmF2LmNsYXNzTGlzdC50b2dnbGUoJ2hlYWRlci1uYXYtZXhwYW5kJylcbn0pXG5cbmNvbnN0IGhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXInKVxudmFyIGhlYWRlcl9oaWRlID0gZmFsc2VcbmRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V3aGVlbCcsIGZ1bmN0aW9uIChlKSB7XG4gIGlmICghaGVhZGVyX2hpZGUgJiYgZS5kZWx0YVkgPCAwICYmICFzY3JvbGxfZGlzYWJsZWQpIHtcbiAgICBoZWFkZXIuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpXG4gICAgaGVhZGVyX2hpZGUgPSB0cnVlXG4gIH1cbiAgZWxzZSBpZiAoaGVhZGVyX2hpZGUgJiYgZS5kZWx0YVkgPiAwICYmIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID4gODAgJiYgIXNjcm9sbF9kaXNhYmxlZCkge1xuICAgIGhlYWRlci5jbGFzc0xpc3QuYWRkKCdoaWRlJylcbiAgICBoZWFkZXJfaGlkZSA9IGZhbHNlXG4gIH1cbn0pXG4vLyBTQ1JPTEwgRElTQUJMRVxuY29uc3QgZGlzYWJsZWRfZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2Nyb2xsLWRpc2FibGUnKVxudmFyIHNjcm9sbF9kaXNhYmxlZCA9IGZhbHNlXG5mb3IgKHZhciBpID0gMDsgaSA8IGRpc2FibGVkX2VsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gIGRpc2FibGVkX2VsZW1lbnRzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCAoKSA9PiB7XG4gICAgc2Nyb2xsX2Rpc2FibGVkID0gdHJ1ZVxuICB9KVxuICBkaXNhYmxlZF9lbGVtZW50c1tpXS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xuICAgIHNjcm9sbF9kaXNhYmxlZCA9IGZhbHNlXG4gIH0pXG59XG5cbi8vIEVYSElCSVRJT05TIFNMSURFUlxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLWV4aGliaXRpb25zJykgIT0gdW5kZWZpbmVkKSB7XG4gIGNvbnN0IGV4aGliaXRpb25zX2J1dHRvbnNfaXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uLWV4aGliaXRpb25zLWNvbnRhaW5lci1zbGlkZXItbmF2LWxpc3QtLWl0ZW0nKVxuICBjb25zdCBleGhpYml0aW9uc19idXR0b25zX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLWV4aGliaXRpb25zLWNvbnRhaW5lci1zbGlkZXItbmF2LWxpc3QnKVxuICBjb25zdCBleGhpYml0aW9uc19saXN0X2ltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLWV4aGliaXRpb25zLWNvbnRhaW5lci1zbGlkZXItd3JhcHBlci1saXN0JylcbiAgY29uc3QgZXhoaWJpdGlvbnNfbGlzdF9jb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tZXhoaWJpdGlvbnMtY29udGFpbmVyLWNvbnRlbnQtd3JhcHBlci1saXN0JylcbiAgbGV0IGV4aGliaXRpb25zX2xhc3RfaW5kZXggPSAwXG4gIFxuICBmb3IgKHZhciBpID0gMDsgaSA8IGV4aGliaXRpb25zX2J1dHRvbnNfaXRlbS5sZW5ndGg7IGkrKykge1xuICAgIGV4aGliaXRpb25zX2J1dHRvbnNfaXRlbVtpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBpbmRleCA9IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoZXhoaWJpdGlvbnNfYnV0dG9uc19pdGVtLCB0aGlzKVxuICAgICAgXG4gICAgICBpZiAoZXhoaWJpdGlvbnNfYnV0dG9uc19pdGVtW2V4aGliaXRpb25zX2xhc3RfaW5kZXhdICE9IHVuZGVmaW5lZCkge1xuICAgICAgICBleGhpYml0aW9uc19idXR0b25zX2l0ZW1bZXhoaWJpdGlvbnNfbGFzdF9pbmRleF0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICAgIH1cbiAgICAgIGV4aGliaXRpb25zX2xhc3RfaW5kZXggPSBpbmRleFxuICAgICAgXG4gICAgICBleGhpYml0aW9uc19idXR0b25zX2l0ZW1baW5kZXhdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG4gICAgICBcbiAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+PSA5MDApIHtcbiAgICAgICAgZXhoaWJpdGlvbnNfbGlzdF9pbWcuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoLScgKyAoaW5kZXggKiAxMDApICsgJyUpJ1xuICAgICAgICBleGhpYml0aW9uc19saXN0X2NvbnRlbnQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoLScgKyAoaW5kZXggKiAxMDApICsgJyUpJ1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGV4aGliaXRpb25zX2xpc3RfaW1nLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKC0nICsgKGluZGV4ICogMTAwKSArICclKSdcbiAgICAgICAgZXhoaWJpdGlvbnNfbGlzdF9jb250ZW50LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKC0nICsgKGluZGV4ICogMTAwKSArICclKSdcbiAgICAgICAgZXhoaWJpdGlvbnNfYnV0dG9uc19jb250YWluZXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoLScgKyAoKChpbmRleCAtIDEpIC8gMykgKiAxMDApICsgJyUpJ1xuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cblxuLy8gSE9NRSBQTEFZRVIpXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tdmlkZW9zLXdyYXBwZXInKSAhPSB1bmRlZmluZWQpIHtcbiAgY29uc3QgcGxheWVyID0gbmV3IFBsYXllcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi12aWRlb3Mtd3JhcHBlcicpLCB0cnVlKVxufVxuXG4vLyBTTElERVJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyJykgIT0gdW5kZWZpbmVkKSB7XG4gIGNvbnN0IHNsaWRlciA9IG5ldyBTbGlkZXIoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlcicpKVxufVxuXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2luc3RhZ3JhbURhdGUnKSAhPSB1bmRlZmluZWQpIHtcbiAgbGV0IGluc3RhZ3JhbURhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5zdGFncmFtRGF0ZScpXG4gIGNvbnN0IGQgPSBpbnN0YWdyYW1EYXRlLmdldEF0dHJpYnV0ZSgnZGF0ZXRpbWUnKVxuICBpbnN0YWdyYW1EYXRlLmlubmVyVGV4dCA9IG1vbWVudChkKS5sb2NhbGUoJ2ZyJykuZnJvbU5vdygpXG59XG5uZXcgRXhoaWJpdGlvbnMoKVxubmV3IE5ld3MoKVxuIl19
