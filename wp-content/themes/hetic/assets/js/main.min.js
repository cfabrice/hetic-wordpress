"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Exhibitions=function e(){_classCallCheck(this,e);document.querySelector("#exhibitions")&&new Vue({el:"#exhibitions",data:{years:[],activeYear:2014,article:{title:"",content:""},exhibitions:[],loaderArticle:!1,loaderHeight:"400px"},mounted:function(){this.getYears()},methods:{getYears:function(){var e=this,t=new FormData;t.append("action","get_years"),axios.post(""+ajaxurl,t).then(function(t){e.years=t.data,e.setActiveYear(e.years[0].name)}).catch(function(e){console.log(e)})},getExhibitions:function(){var e=this,t=new FormData;t.append("action","get_exhibitions"),t.append("year",this.activeYear),axios.post(""+ajaxurl,t).then(function(t){e.exhibitions=t.data,t.data.length>0?(e.article.title=t.data[0].post_title,e.article.content=t.data[0].content):(e.article.title="",e.article.content="")}).catch(function(e){console.log(e)})},getArticle:function(e){var t=this,i=new FormData;i.append("action","get_exhibition"),i.append("id",e),this.loaderArticle=!0,axios.post(""+ajaxurl,i).then(function(e){t.article.title=e.data.post_title,t.article.content=e.data.content,t.loaderArticle=!1}).catch(function(e){console.log(e)})},setActiveYear:function(e){this.activeYear=e,this.getExhibitions(this.activeYear)}}})},News=function e(){_classCallCheck(this,e);document.querySelector("#news")&&new Vue({el:"#news",data:{categories:[],articles:{},activeCategory:"all",offset:0,max:0,loading:!1,loaderHeight:"400px"},mounted:function(){this.getCategories(),this.getArticles("all")},methods:{getCategories:function(){var e=this,t=new FormData;t.append("action","get_news_categories"),this.loading=!0,axios.post(""+ajaxurl,t).then(function(t){e.categories=t.data,e.loading=!1}).catch(function(e){console.log(e)})},getArticles:function(e){var t=this;this.activeCategory=e;var i=new FormData;i.append("action","get_news"),i.append("category",e),i.append("offset",this.offset),this.loading=!0,this.loaderHeight=document.querySelector(".news-container").offsetHeight+"px",axios.post(""+ajaxurl,i).then(function(e){t.articles.length>0?e.data[0].forEach(function(e){t.articles.push(e)}):t.articles=e.data[0],t.max=parseInt(e.data[1]),t.loading=!1}).catch(function(e){console.log(e)})},changeCategory:function(e){this.articles=[],this.offset=0,this.getArticles(e)},loadMore:function(){this.offset+=8,this.getArticles(this.activeCategory)}}})},_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),Player=function(){function e(t){var i=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(_classCallCheck(this,e),this.container=t,this.button_toggle=this.container.querySelector(".section-videos-wrapper-controls--toggle"),this.video=this.container.querySelector(".section-videos-wrapper-video"),this.time_seek_bar=this.container.querySelector(".section-videos-wrapper-controls-seek-bar"),this.time_seek_bar_fill=this.time_seek_bar.querySelector(".section-videos-wrapper-controls-seek-bar--fill"),this.time_drag=!1,this.time_current=this.container.querySelector(".section-videos-wrapper-controls--time-current"),this.time_duration=this.container.querySelector(".section-videos-wrapper-controls--time-duration"),this.button_volume=this.container.querySelector(".section-videos-wrapper-controls-volume--icon"),this.volume_seek_bar=this.container.querySelector(".section-videos-wrapper-controls-volume--bar"),this.volume_seek_bar_fill=this.container.querySelector(".section-videos-wrapper-controls-volume--bar-fill"),this.volume_drag=!1,this.effect_pause=this.container.querySelector(".section-videos-wrapper-effect-pause"),this.effect_play=this.container.querySelector(".section-videos-wrapper-effect-play"),this.button_fullscreen=this.container.querySelector(".section-videos-wrapper-controls--fullscreen"),this.button_toggle.addEventListener("click",function(){i.toggleState()}),this.time_seek_bar.addEventListener("click",function(e){i.time_positions=i.time_seek_bar.getBoundingClientRect(),i.updateTime(e)}),this.time_seek_bar.addEventListener("mousedown",function(){i.time_drag||(i.time_positions=i.time_seek_bar.getBoundingClientRect(),i.time_drag=!0)}),window.addEventListener("mouseup",function(){i.time_drag&&(i.time_drag=!1),i.volume_drag&&(i.volume_drag=!1)}),window.addEventListener("mousemove",function(e){i.time_drag&&i.updateTime(e),i.volume_drag&&i.updateVolume(e)}),this.button_volume.addEventListener("click",function(){i.toggleMute()}),this.volume_seek_bar.addEventListener("click",function(e){i.volume_positions=i.volume_seek_bar.getBoundingClientRect(),i.updateVolume(e)}),this.volume_seek_bar.addEventListener("mousedown",function(){i.volume_drag||(i.volume_positions=i.volume_seek_bar.getBoundingClientRect(),i.volume_drag=!0)}),this.button_fullscreen.addEventListener("click",function(){i.toggleFullscreen()}),this.video.addEventListener("dblclick",function(){i.toggleFullscreen()}),this.video.addEventListener("click",function(){i.toggleState(),i.video.paused?(i.effect_play.classList.add("active"),i.effect_pause.classList.remove("active")):(i.effect_pause.classList.add("active"),i.effect_play.classList.remove("active"))}),this.playlist=s,this.playlist){this.container_playlist=document.querySelector(".section-videos-nav-wrapper-list"),this.playlist_items=document.querySelectorAll(".section-videos-nav-wrapper-list-item"),this.playlist_next=document.querySelector(".section-videos-nav-controls--next"),this.playlist_prev=document.querySelector(".section-videos-nav-controls--prev"),this.playlist_index=0,this.playlist_selected=this.playlist_items[this.playlist_index],this.playlist_item_width=this.playlist_items[0].getBoundingClientRect().width+20,this.video_index=0,this.video_prev=this.container.querySelector(".section-videos-wrapper-controls--skip-prev"),this.video_next=this.container.querySelector(".section-videos-wrapper-controls--skip-next"),this.playlist_next.addEventListener("click",function(){i.playlist_index<i.playlist_items.length-i.playlist_size&&(i.playlist_index++,i.updatePlaylist())}),this.playlist_prev.addEventListener("click",function(){i.playlist_index>0&&(i.playlist_index--,i.updatePlaylist())});for(var n=function(){var e=i;i.playlist_items[l].addEventListener("click",function(){this!=e.playlist_selected&&(e.video_index=Array.prototype.indexOf.call(e.playlist_items,this),e.selectVideo())})},l=0;l<this.playlist_items.length;l++)n();this.video_prev.addEventListener("click",function(){i.video_index>0?(i.video_index--,i.selectVideo()):(i.video_prev.classList.add("hide"),console.log("nop prev")),i.video_next.classList.remove("hide")}),this.video_next.addEventListener("click",function(){i.video_index<i.playlist_items.length-1?(i.video_index++,i.selectVideo()):(i.video_next.classList.add("hide"),console.log("nop next")),i.video_prev.classList.remove("hide")}),this.video.addEventListener("ended",function(){i.video_index<i.playlist_items.length-1&&(i.video_index++,i.selectVideo())}),this.initPlaylist()}window.addEventListener("resize",function(){i.playlist_item_width=i.playlist_items[0].getBoundingClientRect().width+20,i.playlist&&(console.log("resize"),i.initPlaylist())}),this.init()}return _createClass(e,[{key:"init",value:function(){var e=this;this.container.classList.remove("playing"),this.effect_pause.classList.remove("active"),this.effect_play.classList.remove("active"),this.video.addEventListener("loadeddata",function(){e.video.currentTime=.45,e.time_duration.textContent=e.formatTime(e.video.duration),e.time_current.textContent=e.formatTime(e.video.currentTime),e.time_seek_bar_fill.style.transform="scaleX(0)"})}},{key:"initPlaylist",value:function(){var e=window.innerWidth;this.playlist_size=e<425?1:e<650?2:e<900?3:e<1300?5:e<2500?6:9,this.playlist_index=0,this.updatePlaylist()}},{key:"toggleState",value:function(){this.video.paused?(this.video.play(),this.container.classList.add("playing"),this.render()):(this.video.pause(),this.container.classList.remove("playing")),this.effect_pause.classList.remove("active"),this.effect_play.classList.remove("active")}},{key:"updateTime",value:function(e){var t=(e.pageX-this.time_positions.left)/this.time_positions.width;t>=0&&t<1&&(this.time_seek_bar_fill.style.transform="scaleX("+t+")",this.video.currentTime=t*this.video.duration,this.time_current.textContent=this.formatTime(this.video.currentTime))}},{key:"updateVolume",value:function(e){var t=(e.pageX-this.volume_positions.left)/this.volume_positions.width;t>=0&&t<1&&(this.video.volume=t,this.volume_seek_bar_fill.style.transform="scaleX("+t+")",this.video.muted&&this.toggleMute(),t>=.5?(this.button_volume.classList.add("volume-2"),this.button_volume.classList.remove("volume-1"),this.button_volume.classList.remove("volume-0")):t<.5&&t>=.25?(this.button_volume.classList.remove("volume-2"),this.button_volume.classList.add("volume-1"),this.button_volume.classList.remove("volume-0")):t<.25?(this.button_volume.classList.remove("volume-2"),this.button_volume.classList.remove("volume-1"),this.button_volume.classList.add("volume-0")):t<=0&&(this.button_volume.classList.remove("volume-2"),this.button_volume.classList.remove("volume-1"),this.button_volume.classList.remove("volume-0"),this.toggleMute()))}},{key:"toggleMute",value:function(){this.video.muted?(this.video.muted=!1,this.button_volume.classList.remove("mute"),this.volume_seek_bar_fill.style.transform="scaleX("+this.video.volume+")"):(this.video.muted=!0,this.button_volume.classList.add("mute"),this.volume_seek_bar_fill.style.transform="scaleX(0)")}},{key:"toggleFullscreen",value:function(){null==document.fullscreenElement&&null==document.mozFullscreenElement&&null==document.webkitFullscreenElement&&null==document.msFullscreenElement?this.container.requestFullscreen?this.container.requestFullscreen():this.container.mozRequestFullScreen?this.container.mozRequestFullScreen():this.container.webkitRequestFullscreen?this.container.webkitRequestFullscreen():this.container.msRequestFullscreen&&this.container.msRequestFullscreen():document.exitFullscreen?document.exitFullscreen():document.mozExitFullScreen?document.mozExitFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}},{key:"updatePlaylist",value:function(){this.container_playlist.style.transform="translateX(-"+this.playlist_index*this.playlist_item_width+"px)",0==this.playlist_index?this.playlist_prev.classList.add("hide"):this.playlist_prev.classList.remove("hide"),this.playlist_index>=this.playlist_items.length-this.playlist_size?this.playlist_next.classList.add("hide"):this.playlist_next.classList.remove("hide")}},{key:"selectVideo",value:function(){this.playlist_selected.classList.remove("active"),this.playlist_selected=this.playlist_items[this.video_index],this.playlist_selected.classList.add("active"),this.video.src=this.playlist_selected.dataset.target,this.init(),this.video_index>this.playlist_index+this.playlist_size-1?(this.playlist_index++,this.updatePlaylist()):this.video_index<this.playlist_index&&(this.playlist_index--,this.updatePlaylist()),0==this.video_index?this.video_prev.classList.add("hide"):this.video_prev.classList.remove("hide"),this.video_index>=this.playlist_items.length-1?this.video_next.classList.add("hide"):this.video_next.classList.remove("hide")}},{key:"render",value:function(){this.video.paused||window.requestAnimationFrame(this.render.bind(this));var e=this.video.currentTime/this.video.duration;this.time_seek_bar_fill.style.transform="scaleX("+e+")",this.time_current.textContent=this.formatTime(this.video.currentTime),this.video.currentTime==this.video.duration&&this.container.classList.remove("playing")}},{key:"formatTime",value:function(e){e=Math.round(e);var t=Math.floor(e/3600),i=Math.floor((e-3600*t)/60),s=e-3600*t-60*i;return t=t<10?"0"+t:t,i=i<10?"0"+i:i,s=s<10?"0"+s:s,0!=t?t+":"+i+":"+s:i+":"+s}}]),e}(),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),Slider=function(){function e(t){var i=this;_classCallCheck(this,e),this.container=t,this.items=this.container.querySelectorAll(".slider-item"),this.button_next=this.container.querySelector(".slider-next"),this.button_prev=this.container.querySelector(".slider-prev"),this.timer_fill=this.container.querySelector(".slider-timer-fill"),this.text_current=this.container.querySelector(".slider-index-current"),this.text_total=this.container.querySelector(".slider-index-total"),this.index=0,this.stacking=1,this.last_index=0,this.slide_interval=4e3,this.last_update=0,this.need_update=!0,this.draw=!0,this.init(),this.render(),this.startInterval(),this.button_next.addEventListener("click",function(){i.clicked||(i.index<i.items.length-1?i.index++:i.index=0,i.update())}),this.button_prev.addEventListener("click",function(){i.clicked||(i.index>0?i.index--:i.index=i.items.length-1,i.update())})}return _createClass(e,[{key:"startInterval",value:function(){var e=this;this.interval=setTimeout(function(){e.button_next.click(),e.startInterval()},this.slide_interval)}},{key:"init",value:function(){this.text_total.textContent=this.items.length>9?this.items.length:"0"+this.items.length,this.index=0,this.items[this.index].classList.add("active"),this.text_current.textContent=this.index+1>9?this.index+1:"0"+(this.index+1)}},{key:"update",value:function(){var e=this;this.text_total.textContent=this.items.length>9?this.items.length:"0"+this.items.length,this.text_current.textContent=this.index+1>9?this.index+1:"0"+(this.index+1),this.items[this.index].style.zIndex=this.stacking++,this.items[this.index].classList.add("active"),this.clicked=!0,this.draw=!1,this.timer_fill.classList.add("fill"),setTimeout(function(){e.items[e.last_index].classList.remove("active"),e.last_index=e.index,e.clicked=!1,clearTimeout(e.interval),e.startInterval(),e.timer_fill.classList.remove("fill"),e.need_update=!0,e.draw=!0},610)}},{key:"render",value:function(e){if((this.need_update||void 0===this.last_update||void 0===e)&&(this.last_update=e,this.need_update=!1),(e-this.last_update)/this.slide_interval>=1){var t=(e-this.last_update)/this.slide_interval;this.timer_fill.style.transform="scaleX("+t+")",this.last_update=e}if(this.draw){var i=(e-this.last_update)/this.slide_interval;this.timer_fill.style.transform="scaleX("+i+")"}else this.timer_fill.style.transform=null;window.requestAnimationFrame(this.render.bind(this))}}]),e}(),burger_button=document.querySelector(".header-burger"),burger_nav=document.querySelector(".header-nav");burger_button.addEventListener("click",function(){burger_button.classList.toggle("header-burger-active"),burger_nav.classList.toggle("header-nav-expand")});var header=document.querySelector(".header"),header_hide=!1;document.body.addEventListener("mousewheel",function(e){!header_hide&&e.deltaY<0&&!scroll_disabled?(header.classList.remove("hide"),header_hide=!0):header_hide&&e.deltaY>0&&document.body.scrollTop>80&&!scroll_disabled&&(header.classList.add("hide"),header_hide=!1)});for(var disabled_elements=document.querySelectorAll(".scroll-disable"),scroll_disabled=!1,i=0;i<disabled_elements.length;i++)disabled_elements[i].addEventListener("mouseenter",function(){scroll_disabled=!0}),disabled_elements[i].addEventListener("mouseleave",function(){scroll_disabled=!1});if(void 0!=document.querySelector(".section-exhibitions")){!function(){var e=document.querySelectorAll(".section-exhibitions-container-slider-nav-list--item"),t=document.querySelector(".section-exhibitions-container-slider-nav-list"),s=document.querySelector(".section-exhibitions-container-slider-wrapper-list"),n=document.querySelector(".section-exhibitions-container-content-wrapper-list"),l=0;for(i=0;i<e.length;i++)e[i].addEventListener("click",function(){var i=Array.prototype.indexOf.call(e,this);void 0!=e[l]&&e[l].classList.remove("active"),l=i,e[i].classList.add("active"),window.innerWidth>=900?(s.style.transform="translateX(-"+100*i+"%)",n.style.transform="translateX(-"+100*i+"%)"):(s.style.transform="translateX(-"+100*i+"%)",n.style.transform="translateX(-"+100*i+"%)",t.style.transform="translateX(-"+(i-1)/3*100+"%)")})}()}if(void 0!=document.querySelector(".section-videos-wrapper"))var player=new Player(document.querySelector(".section-videos-wrapper"),!0);if(void 0!=document.querySelector(".slider"))var slider=new Slider(document.querySelector(".slider"));if(void 0!=document.querySelector("#instagramDate")){var instagramDate=document.querySelector("#instagramDate"),d=instagramDate.getAttribute("datetime");instagramDate.innerText=moment(d).locale("fr").fromNow()}new Exhibitions,new News;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkV4aGliaXRpb25zLmpzIiwiTmV3cy5qcyIsIlBsYXllci5qcyIsIlNsaWRlci5qcyIsIm1haW4uanMiXSwibmFtZXMiOlsiRXhoaWJpdGlvbnMiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiVnVlIiwiZWwiLCJkYXRhIiwieWVhcnMiLCJhY3RpdmVZZWFyIiwiYXJ0aWNsZSIsInRpdGxlIiwiY29udGVudCIsImV4aGliaXRpb25zIiwibG9hZGVyQXJ0aWNsZSIsImxvYWRlckhlaWdodCIsIm1vdW50ZWQiLCJnZXRZZWFycyIsIm1ldGhvZHMiLCJfdGhpcyIsImZvcm1fZGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwiYXhpb3MiLCJwb3N0IiwiYWpheHVybCIsInRoZW4iLCJyZXMiLCJzZXRBY3RpdmVZZWFyIiwibmFtZSIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImdldEV4aGliaXRpb25zIiwiX3RoaXMyIiwibGVuZ3RoIiwicG9zdF90aXRsZSIsImdldEFydGljbGUiLCJwb3N0SWQiLCJfdGhpczMiLCJ5ZWFyIiwiTmV3cyIsImNhdGVnb3JpZXMiLCJhcnRpY2xlcyIsImFjdGl2ZUNhdGVnb3J5Iiwib2Zmc2V0IiwibWF4IiwibG9hZGluZyIsImdldENhdGVnb3JpZXMiLCJnZXRBcnRpY2xlcyIsImNhdGVnb3J5Iiwib2Zmc2V0SGVpZ2h0IiwiZm9yRWFjaCIsImUiLCJwdXNoIiwicGFyc2VJbnQiLCJjaGFuZ2VDYXRlZ29yeSIsImxvYWRNb3JlIiwiUGxheWVyIiwiY29udGFpbmVyIiwicGxheWxpc3QiLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJidXR0b25fdG9nZ2xlIiwidmlkZW8iLCJ0aW1lX3NlZWtfYmFyIiwidGltZV9zZWVrX2Jhcl9maWxsIiwidGltZV9kcmFnIiwidGltZV9jdXJyZW50IiwidGltZV9kdXJhdGlvbiIsImJ1dHRvbl92b2x1bWUiLCJ2b2x1bWVfc2Vla19iYXIiLCJ2b2x1bWVfc2Vla19iYXJfZmlsbCIsInZvbHVtZV9kcmFnIiwiZWZmZWN0X3BhdXNlIiwiZWZmZWN0X3BsYXkiLCJidXR0b25fZnVsbHNjcmVlbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0b2dnbGVTdGF0ZSIsInRpbWVfcG9zaXRpb25zIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidXBkYXRlVGltZSIsIndpbmRvdyIsInVwZGF0ZVZvbHVtZSIsInRvZ2dsZU11dGUiLCJ2b2x1bWVfcG9zaXRpb25zIiwidG9nZ2xlRnVsbHNjcmVlbiIsInBhdXNlZCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImNvbnRhaW5lcl9wbGF5bGlzdCIsInBsYXlsaXN0X2l0ZW1zIiwicXVlcnlTZWxlY3RvckFsbCIsInBsYXlsaXN0X25leHQiLCJwbGF5bGlzdF9wcmV2IiwicGxheWxpc3RfaW5kZXgiLCJwbGF5bGlzdF9zZWxlY3RlZCIsInBsYXlsaXN0X2l0ZW1fd2lkdGgiLCJ3aWR0aCIsInZpZGVvX2luZGV4IiwidmlkZW9fcHJldiIsInZpZGVvX25leHQiLCJwbGF5bGlzdF9zaXplIiwidXBkYXRlUGxheWxpc3QiLCJfbG9vcCIsInNlbGYiLCJpIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJpbmRleE9mIiwiY2FsbCIsInNlbGVjdFZpZGVvIiwiaW5pdFBsYXlsaXN0IiwiaW5pdCIsImN1cnJlbnRUaW1lIiwidGV4dENvbnRlbnQiLCJmb3JtYXRUaW1lIiwiZHVyYXRpb24iLCJzdHlsZSIsInRyYW5zZm9ybSIsImlubmVyV2lkdGgiLCJwbGF5IiwicmVuZGVyIiwicGF1c2UiLCJyYXRpbyIsInBhZ2VYIiwibGVmdCIsInZvbHVtZSIsIm11dGVkIiwiZnVsbHNjcmVlbkVsZW1lbnQiLCJtb3pGdWxsc2NyZWVuRWxlbWVudCIsIndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50IiwibXNGdWxsc2NyZWVuRWxlbWVudCIsInJlcXVlc3RGdWxsc2NyZWVuIiwibW96UmVxdWVzdEZ1bGxTY3JlZW4iLCJ3ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbiIsIm1zUmVxdWVzdEZ1bGxzY3JlZW4iLCJleGl0RnVsbHNjcmVlbiIsIm1vekV4aXRGdWxsU2NyZWVuIiwid2Via2l0RXhpdEZ1bGxzY3JlZW4iLCJtc0V4aXRGdWxsc2NyZWVuIiwic3JjIiwiZGF0YXNldCIsInRhcmdldCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImJpbmQiLCJ0aW1lIiwiTWF0aCIsInJvdW5kIiwiaG91cnMiLCJmbG9vciIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwiU2xpZGVyIiwiaXRlbXMiLCJidXR0b25fbmV4dCIsImJ1dHRvbl9wcmV2IiwidGltZXJfZmlsbCIsInRleHRfY3VycmVudCIsInRleHRfdG90YWwiLCJpbmRleCIsInN0YWNraW5nIiwibGFzdF9pbmRleCIsInNsaWRlX2ludGVydmFsIiwibGFzdF91cGRhdGUiLCJuZWVkX3VwZGF0ZSIsImRyYXciLCJzdGFydEludGVydmFsIiwiY2xpY2tlZCIsInVwZGF0ZSIsImludGVydmFsIiwic2V0VGltZW91dCIsImNsaWNrIiwiekluZGV4IiwiY2xlYXJUaW1lb3V0IiwiYnVyZ2VyX2J1dHRvbiIsImJ1cmdlcl9uYXYiLCJ0b2dnbGUiLCJoZWFkZXIiLCJoZWFkZXJfaGlkZSIsImJvZHkiLCJkZWx0YVkiLCJzY3JvbGxfZGlzYWJsZWQiLCJzY3JvbGxUb3AiLCJkaXNhYmxlZF9lbGVtZW50cyIsImV4aGliaXRpb25zX2J1dHRvbnNfaXRlbSIsImV4aGliaXRpb25zX2J1dHRvbnNfY29udGFpbmVyIiwiZXhoaWJpdGlvbnNfbGlzdF9pbWciLCJleGhpYml0aW9uc19saXN0X2NvbnRlbnQiLCJleGhpYml0aW9uc19sYXN0X2luZGV4IiwicGxheWVyIiwic2xpZGVyIiwiaW5zdGFncmFtRGF0ZSIsImQiLCJnZXRBdHRyaWJ1dGUiLCJpbm5lclRleHQiLCJtb21lbnQiLCJsb2NhbGUiLCJmcm9tTm93Il0sIm1hcHBpbmdzIjoiaWNBQU1BLFlBQ0osU0FBQUEsSUFBZUMsZ0JBQUFDLEtBQUFGLEdBQ09HLFNBQVNDLGNBQWMsaUJBRXpDLElBQUlDLEtBQ0ZDLEdBQUksZUFDSkMsTUFDRUMsU0FDQUMsV0FBWSxLQUNaQyxTQUNFQyxNQUFPLEdBQ1BDLFFBQVMsSUFFWEMsZUFDQUMsZUFBZSxFQUNmQyxhQUFjLFNBRWhCQyxRQWJNLFdBY0pkLEtBQUtlLFlBRVBDLFNBQ0VELFNBRE8sV0FDSyxJQUFBRSxFQUFBakIsS0FDTmtCLEVBQVksSUFBSUMsU0FDcEJELEVBQVVFLE9BQU8sU0FBVSxhQUMzQkMsTUFBTUMsS0FBTixHQUFjQyxRQUFXTCxHQUFXTSxLQUFLLFNBQUFDLEdBQ3ZDUixFQUFLWCxNQUFRbUIsRUFBSXBCLEtBQ2pCWSxFQUFLUyxjQUFjVCxFQUFLWCxNQUFNLEdBQUdxQixRQUNoQ0MsTUFBTSxTQUFBQyxHQUNQQyxRQUFRQyxJQUFJRixNQUdoQkcsZUFYTyxXQVdXLElBQUFDLEVBQUFqQyxLQUNaa0IsRUFBWSxJQUFJQyxTQUNwQkQsRUFBVUUsT0FBTyxTQUFVLG1CQUMzQkYsRUFBVUUsT0FBTyxPQUFRcEIsS0FBS08sWUFDOUJjLE1BQU1DLEtBQU4sR0FBY0MsUUFBV0wsR0FBV00sS0FBSyxTQUFBQyxHQUN2Q1EsRUFBS3RCLFlBQWNjLEVBQUlwQixLQUNuQm9CLEVBQUlwQixLQUFLNkIsT0FBUyxHQUNwQkQsRUFBS3pCLFFBQVFDLE1BQVFnQixFQUFJcEIsS0FBSyxHQUFHOEIsV0FDakNGLEVBQUt6QixRQUFRRSxRQUFVZSxFQUFJcEIsS0FBSyxHQUFHSyxVQUVuQ3VCLEVBQUt6QixRQUFRQyxNQUFRLEdBQ3JCd0IsRUFBS3pCLFFBQVFFLFFBQVUsTUFFeEJrQixNQUFNLFNBQUFDLEdBQ1BDLFFBQVFDLElBQUlGLE1BR2hCTyxXQTVCTyxTQTRCS0MsR0FBUSxJQUFBQyxFQUFBdEMsS0FDZGtCLEVBQVksSUFBSUMsU0FDcEJELEVBQVVFLE9BQU8sU0FBVSxrQkFDM0JGLEVBQVVFLE9BQU8sS0FBTWlCLEdBQ3ZCckMsS0FBS1ksZUFBZ0IsRUFDckJTLE1BQU1DLEtBQU4sR0FBY0MsUUFBV0wsR0FBV00sS0FBSyxTQUFBQyxHQUN2Q2EsRUFBSzlCLFFBQVFDLE1BQVFnQixFQUFJcEIsS0FBSzhCLFdBQzlCRyxFQUFLOUIsUUFBUUUsUUFBVWUsRUFBSXBCLEtBQUtLLFFBQ2hDNEIsRUFBSzFCLGVBQWdCLElBQ3BCZ0IsTUFBTSxTQUFBQyxHQUNQQyxRQUFRQyxJQUFJRixNQUdoQkgsY0F6Q08sU0F5Q1FhLEdBQ2J2QyxLQUFLTyxXQUFhZ0MsRUFDbEJ2QyxLQUFLZ0MsZUFBZWhDLEtBQUtPLGlCQy9EL0JpQyxLQUNKLFNBQUFBLElBQWV6QyxnQkFBQUMsS0FBQXdDLEdBQ0F2QyxTQUFTQyxjQUFjLFVBRWxDLElBQUlDLEtBQ0ZDLEdBQUksUUFDSkMsTUFDRW9DLGNBQ0FDLFlBQ0FDLGVBQWdCLE1BQ2hCQyxPQUFRLEVBQ1JDLElBQUssRUFDTEMsU0FBUyxFQUNUakMsYUFBYyxTQUVoQkMsUUFYTSxXQVlKZCxLQUFLK0MsZ0JBQ0wvQyxLQUFLZ0QsWUFBWSxRQUVuQmhDLFNBQ0UrQixjQURPLFdBQ1UsSUFBQTlCLEVBQUFqQixLQUNYa0IsRUFBWSxJQUFJQyxTQUNwQkQsRUFBVUUsT0FBTyxTQUFVLHVCQUMzQnBCLEtBQUs4QyxTQUFVLEVBQ2Z6QixNQUFNQyxLQUFOLEdBQWNDLFFBQVdMLEdBQVdNLEtBQUssU0FBQUMsR0FDdkNSLEVBQUt3QixXQUFhaEIsRUFBSXBCLEtBQ3RCWSxFQUFLNkIsU0FBVSxJQUNkbEIsTUFBTSxTQUFBQyxHQUNQQyxRQUFRQyxJQUFJRixNQUdoQm1CLFlBWk8sU0FZTUMsR0FBVSxJQUFBaEIsRUFBQWpDLEtBQ3JCQSxLQUFLMkMsZUFBaUJNLEVBQ3RCLElBQUkvQixFQUFZLElBQUlDLFNBQ3BCRCxFQUFVRSxPQUFPLFNBQVUsWUFDM0JGLEVBQVVFLE9BQU8sV0FBWTZCLEdBQzdCL0IsRUFBVUUsT0FBTyxTQUFVcEIsS0FBSzRDLFFBQ2hDNUMsS0FBSzhDLFNBQVUsRUFDZjlDLEtBQUthLGFBQWtCWixTQUFTQyxjQUFjLG1CQUFtQmdELGFBQWpFLEtBQ0E3QixNQUFNQyxLQUFOLEdBQWNDLFFBQVdMLEdBQVdNLEtBQUssU0FBQUMsR0FDbkNRLEVBQUtTLFNBQVNSLE9BQVMsRUFDekJULEVBQUlwQixLQUFLLEdBQUc4QyxRQUFRLFNBQUFDLEdBQ2xCbkIsRUFBS1MsU0FBU1csS0FBS0QsS0FHckJuQixFQUFLUyxTQUFXakIsRUFBSXBCLEtBQUssR0FFM0I0QixFQUFLWSxJQUFNUyxTQUFTN0IsRUFBSXBCLEtBQUssSUFDN0I0QixFQUFLYSxTQUFVLElBQ2RsQixNQUFNLFNBQUFDLEdBQ1BDLFFBQVFDLElBQUlGLE1BR2hCMEIsZUFsQ08sU0FrQ1NOLEdBQ2RqRCxLQUFLMEMsWUFDTDFDLEtBQUs0QyxPQUFTLEVBQ2Q1QyxLQUFLZ0QsWUFBWUMsSUFHbkJPLFNBeENPLFdBeUNMeEQsS0FBSzRDLFFBQVUsRUFDZjVDLEtBQUtnRCxZQUFZaEQsS0FBSzJDLHFSQzVENUJjLE9BQUFBLFdBQ0osU0FBQUEsRUFBWUMsR0FBNEIsSUFBQXpDLEVBQUFqQixLQUFqQjJELEVBQWlCQyxVQUFBMUIsT0FBQSxRQUFBMkIsSUFBQUQsVUFBQSxJQUFBQSxVQUFBLEdBK0Z0QyxHQS9Gc0M3RCxnQkFBQUMsS0FBQXlELEdBQ3RDekQsS0FBSzBELFVBQWdCQSxFQUNyQjFELEtBQUs4RCxjQUFnQjlELEtBQUswRCxVQUFVeEQsY0FBYyw0Q0FDbERGLEtBQUsrRCxNQUFnQi9ELEtBQUswRCxVQUFVeEQsY0FBYyxpQ0FFbERGLEtBQUtnRSxjQUFxQmhFLEtBQUswRCxVQUFVeEQsY0FBYyw2Q0FDdkRGLEtBQUtpRSxtQkFBcUJqRSxLQUFLZ0UsY0FBYzlELGNBQWMsbURBQzNERixLQUFLa0UsV0FBcUIsRUFFMUJsRSxLQUFLbUUsYUFBZ0JuRSxLQUFLMEQsVUFBVXhELGNBQWMsa0RBQ2xERixLQUFLb0UsY0FBZ0JwRSxLQUFLMEQsVUFBVXhELGNBQWMsbURBRWxERixLQUFLcUUsY0FBZ0JyRSxLQUFLMEQsVUFBVXhELGNBQWMsaURBQ2xERixLQUFLc0UsZ0JBQXVCdEUsS0FBSzBELFVBQVV4RCxjQUFjLGdEQUN6REYsS0FBS3VFLHFCQUF1QnZFLEtBQUswRCxVQUFVeEQsY0FBYyxxREFDekRGLEtBQUt3RSxhQUFjLEVBRW5CeEUsS0FBS3lFLGFBQWV6RSxLQUFLMEQsVUFBVXhELGNBQWMsd0NBQ2pERixLQUFLMEUsWUFBZTFFLEtBQUswRCxVQUFVeEQsY0FBYyx1Q0FFakRGLEtBQUsyRSxrQkFBb0IzRSxLQUFLMEQsVUFBVXhELGNBQWMsZ0RBRXRERixLQUFLOEQsY0FBY2MsaUJBQWlCLFFBQVMsV0FDM0MzRCxFQUFLNEQsZ0JBR1A3RSxLQUFLZ0UsY0FBY1ksaUJBQWlCLFFBQVMsU0FBQ3hCLEdBQzVDbkMsRUFBSzZELGVBQWlCN0QsRUFBSytDLGNBQWNlLHdCQUV6QzlELEVBQUsrRCxXQUFXNUIsS0FHbEJwRCxLQUFLZ0UsY0FBY1ksaUJBQWlCLFlBQWEsV0FDM0MzRCxFQUFLaUQsWUFDUGpELEVBQUs2RCxlQUFpQjdELEVBQUsrQyxjQUFjZSx3QkFDekM5RCxFQUFLaUQsV0FBWSxLQUlyQmUsT0FBT0wsaUJBQWlCLFVBQVcsV0FDOUIzRCxFQUFLaUQsWUFDTmpELEVBQUtpRCxXQUFZLEdBR2hCakQsRUFBS3VELGNBQ052RCxFQUFLdUQsYUFBYyxLQUl2QlMsT0FBT0wsaUJBQWlCLFlBQWEsU0FBQ3hCLEdBQ2pDbkMsRUFBS2lELFdBQ05qRCxFQUFLK0QsV0FBVzVCLEdBRWZuQyxFQUFLdUQsYUFDTnZELEVBQUtpRSxhQUFhOUIsS0FJdEJwRCxLQUFLcUUsY0FBY08saUJBQWlCLFFBQVMsV0FDM0MzRCxFQUFLa0UsZUFHUG5GLEtBQUtzRSxnQkFBZ0JNLGlCQUFpQixRQUFTLFNBQUN4QixHQUM5Q25DLEVBQUttRSxpQkFBbUJuRSxFQUFLcUQsZ0JBQWdCUyx3QkFDN0M5RCxFQUFLaUUsYUFBYTlCLEtBR3BCcEQsS0FBS3NFLGdCQUFnQk0saUJBQWlCLFlBQWEsV0FDN0MzRCxFQUFLdUQsY0FDUHZELEVBQUttRSxpQkFBbUJuRSxFQUFLcUQsZ0JBQWdCUyx3QkFDN0M5RCxFQUFLdUQsYUFBYyxLQUl2QnhFLEtBQUsyRSxrQkFBa0JDLGlCQUFpQixRQUFTLFdBQy9DM0QsRUFBS29FLHFCQUdQckYsS0FBSytELE1BQU1hLGlCQUFpQixXQUFZLFdBQ3RDM0QsRUFBS29FLHFCQUdQckYsS0FBSytELE1BQU1hLGlCQUFpQixRQUFTLFdBQ25DM0QsRUFBSzRELGNBQ0Y1RCxFQUFLOEMsTUFBTXVCLFFBQ1pyRSxFQUFLeUQsWUFBWWEsVUFBVUMsSUFBSSxVQUMvQnZFLEVBQUt3RCxhQUFhYyxVQUFVRSxPQUFPLFlBR25DeEUsRUFBS3dELGFBQWFjLFVBQVVDLElBQUksVUFDaEN2RSxFQUFLeUQsWUFBWWEsVUFBVUUsT0FBTyxhQUl0Q3pGLEtBQUsyRCxTQUFXQSxFQUNiM0QsS0FBSzJELFNBQVMsQ0FDZjNELEtBQUswRixtQkFBc0J6RixTQUFTQyxjQUFjLG9DQUNsREYsS0FBSzJGLGVBQXNCMUYsU0FBUzJGLGlCQUFpQix5Q0FDckQ1RixLQUFLNkYsY0FBc0I1RixTQUFTQyxjQUFjLHNDQUNsREYsS0FBSzhGLGNBQXNCN0YsU0FBU0MsY0FBYyxzQ0FDbERGLEtBQUsrRixlQUFzQixFQUMzQi9GLEtBQUtnRyxrQkFBc0JoRyxLQUFLMkYsZUFBZTNGLEtBQUsrRixnQkFDcEQvRixLQUFLaUcsb0JBQXNCakcsS0FBSzJGLGVBQWUsR0FBR1osd0JBQXdCbUIsTUFBUSxHQUVsRmxHLEtBQUttRyxZQUFnQixFQUNyQm5HLEtBQUtvRyxXQUFnQnBHLEtBQUswRCxVQUFVeEQsY0FBYywrQ0FDbERGLEtBQUtxRyxXQUFnQnJHLEtBQUswRCxVQUFVeEQsY0FBYywrQ0FFbERGLEtBQUs2RixjQUFjakIsaUJBQWlCLFFBQVMsV0FDeEMzRCxFQUFLOEUsZUFBaUI5RSxFQUFLMEUsZUFBZXpELE9BQVNqQixFQUFLcUYsZ0JBQ3pEckYsRUFBSzhFLGlCQUNMOUUsRUFBS3NGLG9CQUlUdkcsS0FBSzhGLGNBQWNsQixpQkFBaUIsUUFBUyxXQUN4QzNELEVBQUs4RSxlQUFpQixJQUN2QjlFLEVBQUs4RSxpQkFDTDlFLEVBQUtzRixvQkFJVCxJQUFLLElBM0JVQyxFQUFBLFdBNEJiLElBQU1DLEVBQUFBLEVBQ054RixFQUFLMEUsZUFBZWUsR0FBRzlCLGlCQUFpQixRQUFTLFdBQzVDNUUsTUFBUXlHLEVBQUtULG9CQUNkUyxFQUFLTixZQUFjUSxNQUFNQyxVQUFVQyxRQUFRQyxLQUFLTCxFQUFLZCxlQUFnQjNGLE1BQ3JFeUcsRUFBS00sa0JBTEZMLEVBQUksRUFBR0EsRUFBSTFHLEtBQUsyRixlQUFlekQsT0FBUXdFLElBQUtGLElBVXJEeEcsS0FBS29HLFdBQVd4QixpQkFBaUIsUUFBUyxXQUNyQzNELEVBQUtrRixZQUFjLEdBQ3BCbEYsRUFBS2tGLGNBQ0xsRixFQUFLOEYsZ0JBR0w5RixFQUFLbUYsV0FBV2IsVUFBVUMsSUFBSSxRQUM5QjFELFFBQVFDLElBQUksYUFFZGQsRUFBS29GLFdBQVdkLFVBQVVFLE9BQU8sVUFHbkN6RixLQUFLcUcsV0FBV3pCLGlCQUFpQixRQUFTLFdBQ3JDM0QsRUFBS2tGLFlBQWNsRixFQUFLMEUsZUFBZXpELE9BQVMsR0FDakRqQixFQUFLa0YsY0FDTGxGLEVBQUs4RixnQkFHTDlGLEVBQUtvRixXQUFXZCxVQUFVQyxJQUFJLFFBQzlCMUQsUUFBUUMsSUFBSSxhQUVkZCxFQUFLbUYsV0FBV2IsVUFBVUUsT0FBTyxVQUduQ3pGLEtBQUsrRCxNQUFNYSxpQkFBaUIsUUFBUyxXQUNoQzNELEVBQUtrRixZQUFjbEYsRUFBSzBFLGVBQWV6RCxPQUFTLElBQ2pEakIsRUFBS2tGLGNBQ0xsRixFQUFLOEYsaUJBSVQvRyxLQUFLZ0gsZUFHUC9CLE9BQU9MLGlCQUFpQixTQUFVLFdBQ2hDM0QsRUFBS2dGLG9CQUFzQmhGLEVBQUswRSxlQUFlLEdBQUdaLHdCQUF3Qm1CLE1BQVEsR0FDL0VqRixFQUFLMEMsV0FDTjdCLFFBQVFDLElBQUksVUFDWmQsRUFBSytGLGtCQUlUaEgsS0FBS2lILDJEQUtELElBQUFoRixFQUFBakMsS0FDSkEsS0FBSzBELFVBQVU2QixVQUFVRSxPQUFPLFdBQ2hDekYsS0FBS3lFLGFBQWFjLFVBQVVFLE9BQU8sVUFDbkN6RixLQUFLMEUsWUFBWWEsVUFBVUUsT0FBTyxVQUNsQ3pGLEtBQUsrRCxNQUFNYSxpQkFBaUIsYUFBYyxXQUN4QzNDLEVBQUs4QixNQUFNbUQsWUFBYyxJQUN6QmpGLEVBQUttQyxjQUFjK0MsWUFBY2xGLEVBQUttRixXQUFXbkYsRUFBSzhCLE1BQU1zRCxVQUM1RHBGLEVBQUtrQyxhQUFhZ0QsWUFBY2xGLEVBQUttRixXQUFXbkYsRUFBSzhCLE1BQU1tRCxhQUUzRGpGLEVBQUtnQyxtQkFBbUJxRCxNQUFNQyxVQUFZLHFEQUs1QyxJQUFJckIsRUFBUWpCLE9BQU91QyxXQUVqQnhILEtBQUtzRyxjQURKSixFQUFRLElBQ1ksRUFFZkEsRUFBUSxJQUNPLEVBRWZBLEVBQVEsSUFDTyxFQUVmQSxFQUFRLEtBQ08sRUFFZkEsRUFBUSxLQUNPLEVBR0EsRUFHdkJsRyxLQUFLK0YsZUFBaUIsRUFDdEIvRixLQUFLdUcsdURBTUZ2RyxLQUFLK0QsTUFBTXVCLFFBQ1p0RixLQUFLK0QsTUFBTTBELE9BQ1h6SCxLQUFLMEQsVUFBVTZCLFVBQVVDLElBQUksV0FDN0J4RixLQUFLMEgsV0FHTDFILEtBQUsrRCxNQUFNNEQsUUFDWDNILEtBQUswRCxVQUFVNkIsVUFBVUUsT0FBTyxZQUVsQ3pGLEtBQUt5RSxhQUFhYyxVQUFVRSxPQUFPLFVBQ25DekYsS0FBSzBFLFlBQVlhLFVBQVVFLE9BQU8sNkNBR3pCckMsR0FDVCxJQUFJd0UsR0FBU3hFLEVBQUV5RSxNQUFRN0gsS0FBSzhFLGVBQWVnRCxNQUFROUgsS0FBSzhFLGVBQWVvQixNQUNwRTBCLEdBQVMsR0FBS0EsRUFBUSxJQUN2QjVILEtBQUtpRSxtQkFBbUJxRCxNQUFNQyxVQUFZLFVBQVdLLEVBQU8sSUFDNUQ1SCxLQUFLK0QsTUFBTW1ELFlBQWNVLEVBQVE1SCxLQUFLK0QsTUFBTXNELFNBQzVDckgsS0FBS21FLGFBQWFnRCxZQUFjbkgsS0FBS29ILFdBQVdwSCxLQUFLK0QsTUFBTW1ELG1EQUlsRDlELEdBQ1gsSUFBSXdFLEdBQVN4RSxFQUFFeUUsTUFBUTdILEtBQUtvRixpQkFBaUIwQyxNQUFROUgsS0FBS29GLGlCQUFpQmMsTUFDeEUwQixHQUFTLEdBQUtBLEVBQVEsSUFDdkI1SCxLQUFLK0QsTUFBTWdFLE9BQVNILEVBQ3BCNUgsS0FBS3VFLHFCQUFxQitDLE1BQU1DLFVBQVksVUFBV0ssRUFBTyxJQUMzRDVILEtBQUsrRCxNQUFNaUUsT0FDWmhJLEtBQUttRixhQUdKeUMsR0FBUyxJQUNWNUgsS0FBS3FFLGNBQWNrQixVQUFVQyxJQUFJLFlBQ2pDeEYsS0FBS3FFLGNBQWNrQixVQUFVRSxPQUFPLFlBQ3BDekYsS0FBS3FFLGNBQWNrQixVQUFVRSxPQUFPLGFBRTlCbUMsRUFBUSxJQUFNQSxHQUFTLEtBQzdCNUgsS0FBS3FFLGNBQWNrQixVQUFVRSxPQUFPLFlBQ3BDekYsS0FBS3FFLGNBQWNrQixVQUFVQyxJQUFJLFlBQ2pDeEYsS0FBS3FFLGNBQWNrQixVQUFVRSxPQUFPLGFBRTlCbUMsRUFBUSxLQUNkNUgsS0FBS3FFLGNBQWNrQixVQUFVRSxPQUFPLFlBQ3BDekYsS0FBS3FFLGNBQWNrQixVQUFVRSxPQUFPLFlBQ3BDekYsS0FBS3FFLGNBQWNrQixVQUFVQyxJQUFJLGFBRTNCb0MsR0FBUyxJQUNmNUgsS0FBS3FFLGNBQWNrQixVQUFVRSxPQUFPLFlBQ3BDekYsS0FBS3FFLGNBQWNrQixVQUFVRSxPQUFPLFlBQ3BDekYsS0FBS3FFLGNBQWNrQixVQUFVRSxPQUFPLFlBQ3BDekYsS0FBS21GLG9EQU1ObkYsS0FBSytELE1BQU1pRSxPQUNaaEksS0FBSytELE1BQU1pRSxPQUFRLEVBQ25CaEksS0FBS3FFLGNBQWNrQixVQUFVRSxPQUFPLFFBQ3BDekYsS0FBS3VFLHFCQUFxQitDLE1BQU1DLFVBQVksVUFBV3ZILEtBQUsrRCxNQUFNZ0UsT0FBUSxNQUcxRS9ILEtBQUsrRCxNQUFNaUUsT0FBUSxFQUNuQmhJLEtBQUtxRSxjQUFja0IsVUFBVUMsSUFBSSxRQUNqQ3hGLEtBQUt1RSxxQkFBcUIrQyxNQUFNQyxVQUFZLHdEQUtiLE1BQTlCdEgsU0FBU2dJLG1CQUE4RCxNQUFqQ2hJLFNBQVNpSSxzQkFBb0UsTUFBcENqSSxTQUFTa0kseUJBQWtFLE1BQS9CbEksU0FBU21JLG9CQUNsSXBJLEtBQUswRCxVQUFVMkUsa0JBQ2hCckksS0FBSzBELFVBQVUyRSxvQkFFVHJJLEtBQUswRCxVQUFVNEUscUJBQ3JCdEksS0FBSzBELFVBQVU0RSx1QkFFVHRJLEtBQUswRCxVQUFVNkUsd0JBQ3JCdkksS0FBSzBELFVBQVU2RSwwQkFFVHZJLEtBQUswRCxVQUFVOEUscUJBQ3JCeEksS0FBSzBELFVBQVU4RSxzQkFJZHZJLFNBQVN3SSxlQUNWeEksU0FBU3dJLGlCQUVIeEksU0FBU3lJLGtCQUNmekksU0FBU3lJLG9CQUVIekksU0FBUzBJLHFCQUNmMUksU0FBUzBJLHVCQUVIMUksU0FBUzJJLGtCQUNmM0ksU0FBUzJJLDREQU9iNUksS0FBSzBGLG1CQUFtQjRCLE1BQU1DLFVBQVksZUFBaUJ2SCxLQUFLK0YsZUFBaUIvRixLQUFLaUcsb0JBQXNCLE1BRWxGLEdBQXZCakcsS0FBSytGLGVBQ04vRixLQUFLOEYsY0FBY1AsVUFBVUMsSUFBSSxRQUdqQ3hGLEtBQUs4RixjQUFjUCxVQUFVRSxPQUFPLFFBR25DekYsS0FBSytGLGdCQUFvQi9GLEtBQUsyRixlQUFlekQsT0FBU2xDLEtBQUtzRyxjQUM1RHRHLEtBQUs2RixjQUFjTixVQUFVQyxJQUFJLFFBR2pDeEYsS0FBSzZGLGNBQWNOLFVBQVVFLE9BQU8sOENBS3RDekYsS0FBS2dHLGtCQUFrQlQsVUFBVUUsT0FBTyxVQUN4Q3pGLEtBQUtnRyxrQkFBb0JoRyxLQUFLMkYsZUFBZTNGLEtBQUttRyxhQUNsRG5HLEtBQUtnRyxrQkFBa0JULFVBQVVDLElBQUksVUFFckN4RixLQUFLK0QsTUFBTThFLElBQU03SSxLQUFLZ0csa0JBQWtCOEMsUUFBUUMsT0FDaEQvSSxLQUFLaUgsT0FFRmpILEtBQUttRyxZQUFjbkcsS0FBSytGLGVBQWlCL0YsS0FBS3NHLGNBQWdCLEdBQy9EdEcsS0FBSytGLGlCQUNML0YsS0FBS3VHLGtCQUVDdkcsS0FBS21HLFlBQWNuRyxLQUFLK0YsaUJBQzlCL0YsS0FBSytGLGlCQUNML0YsS0FBS3VHLGtCQUdnQixHQUFwQnZHLEtBQUttRyxZQUNObkcsS0FBS29HLFdBQVdiLFVBQVVDLElBQUksUUFHOUJ4RixLQUFLb0csV0FBV2IsVUFBVUUsT0FBTyxRQUdoQ3pGLEtBQUttRyxhQUFpQm5HLEtBQUsyRixlQUFlekQsT0FBUyxFQUNwRGxDLEtBQUtxRyxXQUFXZCxVQUFVQyxJQUFJLFFBRzlCeEYsS0FBS3FHLFdBQVdkLFVBQVVFLE9BQU8seUNBUS9CekYsS0FBSytELE1BQU11QixRQUNiTCxPQUFPK0Qsc0JBQXNCaEosS0FBSzBILE9BQU91QixLQUFLakosT0FHaEQsSUFBSTRILEVBQVE1SCxLQUFLK0QsTUFBTW1ELFlBQWNsSCxLQUFLK0QsTUFBTXNELFNBQ2hEckgsS0FBS2lFLG1CQUFtQnFELE1BQU1DLFVBQVksVUFBV0ssRUFBTyxJQUU1RDVILEtBQUttRSxhQUFhZ0QsWUFBY25ILEtBQUtvSCxXQUFXcEgsS0FBSytELE1BQU1tRCxhQUV4RGxILEtBQUsrRCxNQUFNbUQsYUFBZWxILEtBQUsrRCxNQUFNc0QsVUFDdENySCxLQUFLMEQsVUFBVTZCLFVBQVVFLE9BQU8sOENBTXpCeUQsR0FDVEEsRUFBUUMsS0FBS0MsTUFBTUYsR0FDbkIsSUFBSUcsRUFBVUYsS0FBS0csTUFBTUosRUFBTyxNQUM1QkssRUFBVUosS0FBS0csT0FBT0osRUFBZ0IsS0FBUkcsR0FBaUIsSUFDL0NHLEVBQVVOLEVBQWdCLEtBQVJHLEVBQTJCLEdBQVZFLEVBTXZDLE9BSkFGLEVBQVVBLEVBQVUsR0FBSyxJQUFJQSxFQUFRQSxFQUNyQ0UsRUFBVUEsRUFBVSxHQUFLLElBQUlBLEVBQVVBLEVBQ3ZDQyxFQUFVQSxFQUFVLEdBQUssSUFBSUEsRUFBVUEsRUFFM0IsR0FBVEgsRUFDTUEsRUFBTSxJQUFJRSxFQUFRLElBQUlDLEVBR3RCRCxFQUFRLElBQUlDLFFBclpuQi9GLG1RQ0RBZ0csT0FBQUEsV0FDSixTQUFBQSxFQUFZL0YsR0FBVSxJQUFBekMsRUFBQWpCLEtBQUFELGdCQUFBQyxLQUFBeUosR0FDcEJ6SixLQUFLMEQsVUFBY0EsRUFDbkIxRCxLQUFLMEosTUFBYzFKLEtBQUswRCxVQUFVa0MsaUJBQWlCLGdCQUNuRDVGLEtBQUsySixZQUFjM0osS0FBSzBELFVBQVV4RCxjQUFjLGdCQUNoREYsS0FBSzRKLFlBQWM1SixLQUFLMEQsVUFBVXhELGNBQWMsZ0JBQ2hERixLQUFLNkosV0FBYzdKLEtBQUswRCxVQUFVeEQsY0FBYyxzQkFDaERGLEtBQUs4SixhQUFlOUosS0FBSzBELFVBQVV4RCxjQUFjLHlCQUNqREYsS0FBSytKLFdBQWEvSixLQUFLMEQsVUFBVXhELGNBQWMsdUJBRS9DRixLQUFLZ0ssTUFBYSxFQUNsQmhLLEtBQUtpSyxTQUFhLEVBQ2xCakssS0FBS2tLLFdBQWEsRUFFbEJsSyxLQUFLbUssZUFBaUIsSUFDdEJuSyxLQUFLb0ssWUFBaUIsRUFDdEJwSyxLQUFLcUssYUFBaUIsRUFDdEJySyxLQUFLc0ssTUFBaUIsRUFFdEJ0SyxLQUFLaUgsT0FDTGpILEtBQUswSCxTQUNMMUgsS0FBS3VLLGdCQUVMdkssS0FBSzJKLFlBQVkvRSxpQkFBaUIsUUFBUyxXQUNyQzNELEVBQUt1SixVQUNKdkosRUFBSytJLE1BQVEvSSxFQUFLeUksTUFBTXhILE9BQVMsRUFDbENqQixFQUFLK0ksUUFHTC9JLEVBQUsrSSxNQUFRLEVBRWYvSSxFQUFLd0osWUFJVHpLLEtBQUs0SixZQUFZaEYsaUJBQWlCLFFBQVMsV0FDckMzRCxFQUFLdUosVUFDSnZKLEVBQUsrSSxNQUFRLEVBQ2QvSSxFQUFLK0ksUUFHTC9JLEVBQUsrSSxNQUFRL0ksRUFBS3lJLE1BQU14SCxPQUFTLEVBRW5DakIsRUFBS3dKLHlFQUtJLElBQUF4SSxFQUFBakMsS0FDYkEsS0FBSzBLLFNBQVdDLFdBQVcsV0FFekIxSSxFQUFLMEgsWUFBWWlCLFFBQ2pCM0ksRUFBS3NJLGlCQUNKdkssS0FBS21LLCtDQUlSbkssS0FBSytKLFdBQVc1QyxZQUFjbkgsS0FBSzBKLE1BQU14SCxPQUFTLEVBQUlsQyxLQUFLMEosTUFBTXhILE9BQVMsSUFBTWxDLEtBQUswSixNQUFNeEgsT0FDM0ZsQyxLQUFLZ0ssTUFBUSxFQUNiaEssS0FBSzBKLE1BQU0xSixLQUFLZ0ssT0FBT3pFLFVBQVVDLElBQUksVUFDckN4RixLQUFLOEosYUFBYTNDLFlBQWVuSCxLQUFLZ0ssTUFBTSxFQUFLLEVBQUtoSyxLQUFLZ0ssTUFBTSxFQUFLLEtBQU9oSyxLQUFLZ0ssTUFBTSxvQ0FHbEYsSUFBQTFILEVBQUF0QyxLQUNOQSxLQUFLK0osV0FBVzVDLFlBQWNuSCxLQUFLMEosTUFBTXhILE9BQVMsRUFBSWxDLEtBQUswSixNQUFNeEgsT0FBUyxJQUFNbEMsS0FBSzBKLE1BQU14SCxPQUMzRmxDLEtBQUs4SixhQUFhM0MsWUFBZW5ILEtBQUtnSyxNQUFNLEVBQUssRUFBS2hLLEtBQUtnSyxNQUFNLEVBQUssS0FBT2hLLEtBQUtnSyxNQUFNLEdBRXhGaEssS0FBSzBKLE1BQU0xSixLQUFLZ0ssT0FBTzFDLE1BQU11RCxPQUFTN0ssS0FBS2lLLFdBSTNDakssS0FBSzBKLE1BQU0xSixLQUFLZ0ssT0FBT3pFLFVBQVVDLElBQUksVUFFckN4RixLQUFLd0ssU0FBVSxFQUNmeEssS0FBS3NLLE1BQVUsRUFDZnRLLEtBQUs2SixXQUFXdEUsVUFBVUMsSUFBSSxRQUc5Qm1GLFdBQVcsV0FDVHJJLEVBQUtvSCxNQUFNcEgsRUFBSzRILFlBQVkzRSxVQUFVRSxPQUFPLFVBQzdDbkQsRUFBSzRILFdBQWE1SCxFQUFLMEgsTUFDdkIxSCxFQUFLa0ksU0FBVSxFQUVmTSxhQUFheEksRUFBS29JLFVBQ2xCcEksRUFBS2lJLGdCQUVMakksRUFBS3VILFdBQVd0RSxVQUFVRSxPQUFPLFFBQ2pDbkQsRUFBSytILGFBQWMsRUFDbkIvSCxFQUFLZ0ksTUFBYyxHQUNsQixvQ0FJRXBCLEdBT0wsSUFMR2xKLEtBQUtxSyxrQkFBb0N4RyxJQUFyQjdELEtBQUtvSyxrQkFBc0N2RyxJQUFUcUYsS0FDdkRsSixLQUFLb0ssWUFBY2xCLEVBQ25CbEosS0FBS3FLLGFBQWMsSUFHakJuQixFQUFPbEosS0FBS29LLGFBQWVwSyxLQUFLbUssZ0JBQWtCLEVBQUUsQ0FDdEQsSUFBSXZDLEdBQVNzQixFQUFPbEosS0FBS29LLGFBQWVwSyxLQUFLbUssZUFDN0NuSyxLQUFLNkosV0FBV3ZDLE1BQU1DLFVBQVksVUFBV0ssRUFBTyxJQUNwRDVILEtBQUtvSyxZQUFjbEIsRUFHckIsR0FBR2xKLEtBQUtzSyxLQUFLLENBQ1gsSUFBSTFDLEdBQVNzQixFQUFPbEosS0FBS29LLGFBQWVwSyxLQUFLbUssZUFDN0NuSyxLQUFLNkosV0FBV3ZDLE1BQU1DLFVBQVksVUFBV0ssRUFBTyxTQUdwRDVILEtBQUs2SixXQUFXdkMsTUFBTUMsVUFBWSxLQUdwQ3RDLE9BQU8rRCxzQkFBc0JoSixLQUFLMEgsT0FBT3VCLEtBQUtqSixhQWxINUN5SixHQ0NBc0IsY0FBZ0I5SyxTQUFTQyxjQUFjLGtCQUN2QzhLLFdBQWEvSyxTQUFTQyxjQUFjLGVBRTFDNkssY0FBY25HLGlCQUFpQixRQUFTLFdBQ3RDbUcsY0FBY3hGLFVBQVUwRixPQUFPLHdCQUMvQkQsV0FBV3pGLFVBQVUwRixPQUFPLHVCQUc5QixJQUFNQyxPQUFTakwsU0FBU0MsY0FBYyxXQUNsQ2lMLGFBQWMsRUFDbEJsTCxTQUFTbUwsS0FBS3hHLGlCQUFpQixhQUFjLFNBQVV4QixJQUNoRCtILGFBQWUvSCxFQUFFaUksT0FBUyxJQUFNQyxpQkFDbkNKLE9BQU8zRixVQUFVRSxPQUFPLFFBQ3hCMEYsYUFBYyxHQUVQQSxhQUFlL0gsRUFBRWlJLE9BQVMsR0FBS3BMLFNBQVNtTCxLQUFLRyxVQUFZLEtBQU9ELGtCQUN2RUosT0FBTzNGLFVBQVVDLElBQUksUUFDckIyRixhQUFjLEtBTWxCLElBQUssSUFGQ0ssa0JBQW9CdkwsU0FBUzJGLGlCQUFpQixtQkFDaEQwRixpQkFBa0IsRUFDYjVFLEVBQUksRUFBR0EsRUFBSThFLGtCQUFrQnRKLE9BQVF3RSxJQUM1QzhFLGtCQUFrQjlFLEdBQUc5QixpQkFBaUIsYUFBYyxXQUNsRDBHLGlCQUFrQixJQUVwQkUsa0JBQWtCOUUsR0FBRzlCLGlCQUFpQixhQUFjLFdBQ2xEMEcsaUJBQWtCLElBS3RCLFFBQXNEekgsR0FBbEQ1RCxTQUFTQyxjQUFjLHdCQUFzQyxFQUFBLFdBQy9ELElBQU11TCxFQUEyQnhMLFNBQVMyRixpQkFBaUIsd0RBQ3JEOEYsRUFBZ0N6TCxTQUFTQyxjQUFjLGtEQUN2RHlMLEVBQXVCMUwsU0FBU0MsY0FBYyxzREFDOUMwTCxFQUEyQjNMLFNBQVNDLGNBQWMsdURBQ3BEMkwsRUFBeUIsRUFFN0IsSUFBU25GLEVBQUksRUFBR0EsRUFBSStFLEVBQXlCdkosT0FBUXdFLElBQ25EK0UsRUFBeUIvRSxHQUFHOUIsaUJBQWlCLFFBQVMsV0FDcEQsSUFBSW9GLEVBQVFyRCxNQUFNQyxVQUFVQyxRQUFRQyxLQUFLMkUsRUFBMEJ6TCxXQUVYNkQsR0FBcEQ0SCxFQUF5QkksSUFDM0JKLEVBQXlCSSxHQUF3QnRHLFVBQVVFLE9BQU8sVUFFcEVvRyxFQUF5QjdCLEVBRXpCeUIsRUFBeUJ6QixHQUFPekUsVUFBVUMsSUFBSSxVQUUxQ1AsT0FBT3VDLFlBQWMsS0FDdkJtRSxFQUFxQnJFLE1BQU1DLFVBQVksZUFBMEIsSUFBUnlDLEVBQWUsS0FDeEU0QixFQUF5QnRFLE1BQU1DLFVBQVksZUFBMEIsSUFBUnlDLEVBQWUsT0FHNUUyQixFQUFxQnJFLE1BQU1DLFVBQVksZUFBMEIsSUFBUnlDLEVBQWUsS0FDeEU0QixFQUF5QnRFLE1BQU1DLFVBQVksZUFBMEIsSUFBUnlDLEVBQWUsS0FDNUUwQixFQUE4QnBFLE1BQU1DLFVBQVksZ0JBQW9CeUMsRUFBUSxHQUFLLEVBQUssSUFBTyxRQXpCcEMsR0FnQ2pFLFFBQXlEbkcsR0FBckQ1RCxTQUFTQyxjQUFjLDJCQUN6QixJQUFNNEwsT0FBUyxJQUFJckksT0FBT3hELFNBQVNDLGNBQWMsNEJBQTRCLEdBSS9FLFFBQXlDMkQsR0FBckM1RCxTQUFTQyxjQUFjLFdBQ3pCLElBQU02TCxPQUFTLElBQUl0QyxPQUFPeEosU0FBU0MsY0FBYyxZQUduRCxRQUFnRDJELEdBQTVDNUQsU0FBU0MsY0FBYyxrQkFBZ0MsQ0FDekQsSUFBSThMLGNBQWdCL0wsU0FBU0MsY0FBYyxrQkFDckMrTCxFQUFJRCxjQUFjRSxhQUFhLFlBQ3JDRixjQUFjRyxVQUFZQyxPQUFPSCxHQUFHSSxPQUFPLE1BQU1DLFVBRW5ELElBQUl4TSxZQUNKLElBQUkwQyIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEV4aGliaXRpb25zIHtcbiAgY29uc3RydWN0b3IgKCkge1xuICAgIGNvbnN0IGV4aGliaXRpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2V4aGliaXRpb25zJylcbiAgICBpZiAoZXhoaWJpdGlvbnMpIHtcbiAgICAgIG5ldyBWdWUoe1xuICAgICAgICBlbDogJyNleGhpYml0aW9ucycsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB5ZWFyczogW10sXG4gICAgICAgICAgYWN0aXZlWWVhcjogMjAxNCxcbiAgICAgICAgICBhcnRpY2xlOiB7XG4gICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICBjb250ZW50OiAnJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZXhoaWJpdGlvbnM6IFtdLFxuICAgICAgICAgIGxvYWRlckFydGljbGU6IGZhbHNlLFxuICAgICAgICAgIGxvYWRlckhlaWdodDogJzQwMHB4J1xuICAgICAgICB9LFxuICAgICAgICBtb3VudGVkICgpIHtcbiAgICAgICAgICB0aGlzLmdldFllYXJzKClcbiAgICAgICAgfSxcbiAgICAgICAgbWV0aG9kczoge1xuICAgICAgICAgIGdldFllYXJzICgpIHtcbiAgICAgICAgICAgIGxldCBmb3JtX2RhdGEgPSBuZXcgRm9ybURhdGFcbiAgICAgICAgICAgIGZvcm1fZGF0YS5hcHBlbmQoJ2FjdGlvbicsICdnZXRfeWVhcnMnKVxuICAgICAgICAgICAgYXhpb3MucG9zdChgJHthamF4dXJsfWAsIGZvcm1fZGF0YSkudGhlbihyZXMgPT4ge1xuICAgICAgICAgICAgICB0aGlzLnllYXJzID0gcmVzLmRhdGFcbiAgICAgICAgICAgICAgdGhpcy5zZXRBY3RpdmVZZWFyKHRoaXMueWVhcnNbMF0ubmFtZSlcbiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXRFeGhpYml0aW9ucyAoKSB7XG4gICAgICAgICAgICBsZXQgZm9ybV9kYXRhID0gbmV3IEZvcm1EYXRhXG4gICAgICAgICAgICBmb3JtX2RhdGEuYXBwZW5kKCdhY3Rpb24nLCAnZ2V0X2V4aGliaXRpb25zJylcbiAgICAgICAgICAgIGZvcm1fZGF0YS5hcHBlbmQoJ3llYXInLCB0aGlzLmFjdGl2ZVllYXIpXG4gICAgICAgICAgICBheGlvcy5wb3N0KGAke2FqYXh1cmx9YCwgZm9ybV9kYXRhKS50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuZXhoaWJpdGlvbnMgPSByZXMuZGF0YVxuICAgICAgICAgICAgICBpZiAocmVzLmRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXJ0aWNsZS50aXRsZSA9IHJlcy5kYXRhWzBdLnBvc3RfdGl0bGVcbiAgICAgICAgICAgICAgICB0aGlzLmFydGljbGUuY29udGVudCA9IHJlcy5kYXRhWzBdLmNvbnRlbnRcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFydGljbGUudGl0bGUgPSAnJ1xuICAgICAgICAgICAgICAgIHRoaXMuYXJ0aWNsZS5jb250ZW50ID0gJydcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9LFxuICAgICAgICAgIGdldEFydGljbGUgKHBvc3RJZCkge1xuICAgICAgICAgICAgbGV0IGZvcm1fZGF0YSA9IG5ldyBGb3JtRGF0YVxuICAgICAgICAgICAgZm9ybV9kYXRhLmFwcGVuZCgnYWN0aW9uJywgJ2dldF9leGhpYml0aW9uJylcbiAgICAgICAgICAgIGZvcm1fZGF0YS5hcHBlbmQoJ2lkJywgcG9zdElkKVxuICAgICAgICAgICAgdGhpcy5sb2FkZXJBcnRpY2xlID0gdHJ1ZVxuICAgICAgICAgICAgYXhpb3MucG9zdChgJHthamF4dXJsfWAsIGZvcm1fZGF0YSkudGhlbihyZXMgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmFydGljbGUudGl0bGUgPSByZXMuZGF0YS5wb3N0X3RpdGxlXG4gICAgICAgICAgICAgIHRoaXMuYXJ0aWNsZS5jb250ZW50ID0gcmVzLmRhdGEuY29udGVudFxuICAgICAgICAgICAgICB0aGlzLmxvYWRlckFydGljbGUgPSBmYWxzZVxuICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldEFjdGl2ZVllYXIgKHllYXIpIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlWWVhciA9IHllYXJcbiAgICAgICAgICAgIHRoaXMuZ2V0RXhoaWJpdGlvbnModGhpcy5hY3RpdmVZZWFyKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH1cbn0iLCJjbGFzcyBOZXdzIHtcbiAgY29uc3RydWN0b3IgKCkge1xuICAgIGNvbnN0IG5ld3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmV3cycpXG4gICAgaWYgKG5ld3MpIHtcbiAgICAgIG5ldyBWdWUoe1xuICAgICAgICBlbDogJyNuZXdzJyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGNhdGVnb3JpZXM6IFtdLFxuICAgICAgICAgIGFydGljbGVzOiB7fSxcbiAgICAgICAgICBhY3RpdmVDYXRlZ29yeTogJ2FsbCcsXG4gICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgIG1heDogMCxcbiAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICBsb2FkZXJIZWlnaHQ6ICc0MDBweCdcbiAgICAgICAgfSxcbiAgICAgICAgbW91bnRlZCAoKSB7XG4gICAgICAgICAgdGhpcy5nZXRDYXRlZ29yaWVzKClcbiAgICAgICAgICB0aGlzLmdldEFydGljbGVzKCdhbGwnKVxuICAgICAgICB9LFxuICAgICAgICBtZXRob2RzOiB7XG4gICAgICAgICAgZ2V0Q2F0ZWdvcmllcyAoKSB7XG4gICAgICAgICAgICBsZXQgZm9ybV9kYXRhID0gbmV3IEZvcm1EYXRhXG4gICAgICAgICAgICBmb3JtX2RhdGEuYXBwZW5kKCdhY3Rpb24nLCAnZ2V0X25ld3NfY2F0ZWdvcmllcycpXG4gICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlXG4gICAgICAgICAgICBheGlvcy5wb3N0KGAke2FqYXh1cmx9YCwgZm9ybV9kYXRhKS50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcmllcyA9IHJlcy5kYXRhXG4gICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlXG4gICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0QXJ0aWNsZXMgKGNhdGVnb3J5KSB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZUNhdGVnb3J5ID0gY2F0ZWdvcnlcbiAgICAgICAgICAgIGxldCBmb3JtX2RhdGEgPSBuZXcgRm9ybURhdGFcbiAgICAgICAgICAgIGZvcm1fZGF0YS5hcHBlbmQoJ2FjdGlvbicsICdnZXRfbmV3cycpXG4gICAgICAgICAgICBmb3JtX2RhdGEuYXBwZW5kKCdjYXRlZ29yeScsIGNhdGVnb3J5KVxuICAgICAgICAgICAgZm9ybV9kYXRhLmFwcGVuZCgnb2Zmc2V0JywgdGhpcy5vZmZzZXQpXG4gICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlXG4gICAgICAgICAgICB0aGlzLmxvYWRlckhlaWdodCA9IGAke2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXdzLWNvbnRhaW5lcicpLm9mZnNldEhlaWdodH1weGBcbiAgICAgICAgICAgIGF4aW9zLnBvc3QoYCR7YWpheHVybH1gLCBmb3JtX2RhdGEpLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgICAgaWYgKHRoaXMuYXJ0aWNsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHJlcy5kYXRhWzBdLmZvckVhY2goZSA9PiB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmFydGljbGVzLnB1c2goZSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYXJ0aWNsZXMgPSByZXMuZGF0YVswXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRoaXMubWF4ID0gcGFyc2VJbnQocmVzLmRhdGFbMV0pXG4gICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlXG4gICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0sXG4gICAgICAgICAgY2hhbmdlQ2F0ZWdvcnkgKGNhdGVnb3J5KSB7XG4gICAgICAgICAgICB0aGlzLmFydGljbGVzID0gW11cbiAgICAgICAgICAgIHRoaXMub2Zmc2V0ID0gMFxuICAgICAgICAgICAgdGhpcy5nZXRBcnRpY2xlcyhjYXRlZ29yeSlcbiAgICAgICAgICAgIFxuICAgICAgICAgIH0sXG4gICAgICAgICAgbG9hZE1vcmUgKCkge1xuICAgICAgICAgICAgdGhpcy5vZmZzZXQgKz0gOFxuICAgICAgICAgICAgdGhpcy5nZXRBcnRpY2xlcyh0aGlzLmFjdGl2ZUNhdGVnb3J5KVxuICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG59IiwiXG5jbGFzcyBQbGF5ZXJ7XG4gIGNvbnN0cnVjdG9yKGNvbnRhaW5lciwgcGxheWxpc3QgPSBmYWxzZSl7XG4gICAgdGhpcy5jb250YWluZXIgICAgID0gY29udGFpbmVyXG4gICAgdGhpcy5idXR0b25fdG9nZ2xlID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tdmlkZW9zLXdyYXBwZXItY29udHJvbHMtLXRvZ2dsZScpXG4gICAgdGhpcy52aWRlbyAgICAgICAgID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tdmlkZW9zLXdyYXBwZXItdmlkZW8nKVxuICAgIFxuICAgIHRoaXMudGltZV9zZWVrX2JhciAgICAgID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tdmlkZW9zLXdyYXBwZXItY29udHJvbHMtc2Vlay1iYXInKVxuICAgIHRoaXMudGltZV9zZWVrX2Jhcl9maWxsID0gdGhpcy50aW1lX3NlZWtfYmFyLnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLXZpZGVvcy13cmFwcGVyLWNvbnRyb2xzLXNlZWstYmFyLS1maWxsJylcbiAgICB0aGlzLnRpbWVfZHJhZyAgICAgICAgICA9IGZhbHNlXG4gICAgXG4gICAgdGhpcy50aW1lX2N1cnJlbnQgID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tdmlkZW9zLXdyYXBwZXItY29udHJvbHMtLXRpbWUtY3VycmVudCcpXG4gICAgdGhpcy50aW1lX2R1cmF0aW9uID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tdmlkZW9zLXdyYXBwZXItY29udHJvbHMtLXRpbWUtZHVyYXRpb24nKVxuICAgIFxuICAgIHRoaXMuYnV0dG9uX3ZvbHVtZSA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLXZpZGVvcy13cmFwcGVyLWNvbnRyb2xzLXZvbHVtZS0taWNvbicpXG4gICAgdGhpcy52b2x1bWVfc2Vla19iYXIgICAgICA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLXZpZGVvcy13cmFwcGVyLWNvbnRyb2xzLXZvbHVtZS0tYmFyJylcbiAgICB0aGlzLnZvbHVtZV9zZWVrX2Jhcl9maWxsID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tdmlkZW9zLXdyYXBwZXItY29udHJvbHMtdm9sdW1lLS1iYXItZmlsbCcpXG4gICAgdGhpcy52b2x1bWVfZHJhZyA9IGZhbHNlXG4gICAgXG4gICAgdGhpcy5lZmZlY3RfcGF1c2UgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi12aWRlb3Mtd3JhcHBlci1lZmZlY3QtcGF1c2UnKVxuICAgIHRoaXMuZWZmZWN0X3BsYXkgID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tdmlkZW9zLXdyYXBwZXItZWZmZWN0LXBsYXknKVxuICAgIFxuICAgIHRoaXMuYnV0dG9uX2Z1bGxzY3JlZW4gPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi12aWRlb3Mtd3JhcHBlci1jb250cm9scy0tZnVsbHNjcmVlbicpXG4gICAgXG4gICAgdGhpcy5idXR0b25fdG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcbiAgICAgIHRoaXMudG9nZ2xlU3RhdGUoKVxuICAgIH0pXG4gICAgXG4gICAgdGhpcy50aW1lX3NlZWtfYmFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpPT57XG4gICAgICB0aGlzLnRpbWVfcG9zaXRpb25zID0gdGhpcy50aW1lX3NlZWtfYmFyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICBcbiAgICAgIHRoaXMudXBkYXRlVGltZShlKVxuICAgIH0pXG4gICAgXG4gICAgdGhpcy50aW1lX3NlZWtfYmFyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsICgpPT57XG4gICAgICBpZighdGhpcy50aW1lX2RyYWcpe1xuICAgICAgICB0aGlzLnRpbWVfcG9zaXRpb25zID0gdGhpcy50aW1lX3NlZWtfYmFyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgIHRoaXMudGltZV9kcmFnID0gdHJ1ZVxuICAgICAgfVxuICAgIH0pXG4gICAgXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoKT0+e1xuICAgICAgaWYodGhpcy50aW1lX2RyYWcpe1xuICAgICAgICB0aGlzLnRpbWVfZHJhZyA9IGZhbHNlXG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmKHRoaXMudm9sdW1lX2RyYWcpe1xuICAgICAgICB0aGlzLnZvbHVtZV9kcmFnID0gZmFsc2VcbiAgICAgIH1cbiAgICB9KVxuICAgIFxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCAoZSk9PntcbiAgICAgIGlmKHRoaXMudGltZV9kcmFnKXtcbiAgICAgICAgdGhpcy51cGRhdGVUaW1lKGUpXG4gICAgICB9XG4gICAgICBpZih0aGlzLnZvbHVtZV9kcmFnKXtcbiAgICAgICAgdGhpcy51cGRhdGVWb2x1bWUoZSlcbiAgICAgIH1cbiAgICB9KVxuICAgIFxuICAgIHRoaXMuYnV0dG9uX3ZvbHVtZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+e1xuICAgICAgdGhpcy50b2dnbGVNdXRlKClcbiAgICB9KVxuICAgIFxuICAgIHRoaXMudm9sdW1lX3NlZWtfYmFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+e1xuICAgICAgdGhpcy52b2x1bWVfcG9zaXRpb25zID0gdGhpcy52b2x1bWVfc2Vla19iYXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgIHRoaXMudXBkYXRlVm9sdW1lKGUpXG4gICAgfSlcbiAgICBcbiAgICB0aGlzLnZvbHVtZV9zZWVrX2Jhci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoKT0+e1xuICAgICAgaWYoIXRoaXMudm9sdW1lX2RyYWcpe1xuICAgICAgICB0aGlzLnZvbHVtZV9wb3NpdGlvbnMgPSB0aGlzLnZvbHVtZV9zZWVrX2Jhci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgICB0aGlzLnZvbHVtZV9kcmFnID0gdHJ1ZVxuICAgICAgfVxuICAgIH0pXG4gICAgXG4gICAgdGhpcy5idXR0b25fZnVsbHNjcmVlbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgICB0aGlzLnRvZ2dsZUZ1bGxzY3JlZW4oKVxuICAgIH0pXG4gICAgXG4gICAgdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsICgpPT57XG4gICAgICB0aGlzLnRvZ2dsZUZ1bGxzY3JlZW4oKVxuICAgIH0pXG4gICAgXG4gICAgdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgICB0aGlzLnRvZ2dsZVN0YXRlKClcbiAgICAgIGlmKHRoaXMudmlkZW8ucGF1c2VkKXtcbiAgICAgICAgdGhpcy5lZmZlY3RfcGxheS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICAgICAgICB0aGlzLmVmZmVjdF9wYXVzZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgICAgfVxuICAgICAgZWxzZXtcbiAgICAgICAgdGhpcy5lZmZlY3RfcGF1c2UuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcbiAgICAgICAgdGhpcy5lZmZlY3RfcGxheS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgICAgfVxuICAgIH0pXG4gICAgXG4gICAgdGhpcy5wbGF5bGlzdCA9IHBsYXlsaXN0XG4gICAgaWYodGhpcy5wbGF5bGlzdCl7XG4gICAgICB0aGlzLmNvbnRhaW5lcl9wbGF5bGlzdCAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi12aWRlb3MtbmF2LXdyYXBwZXItbGlzdCcpXG4gICAgICB0aGlzLnBsYXlsaXN0X2l0ZW1zICAgICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbi12aWRlb3MtbmF2LXdyYXBwZXItbGlzdC1pdGVtJylcbiAgICAgIHRoaXMucGxheWxpc3RfbmV4dCAgICAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLXZpZGVvcy1uYXYtY29udHJvbHMtLW5leHQnKVxuICAgICAgdGhpcy5wbGF5bGlzdF9wcmV2ICAgICAgID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tdmlkZW9zLW5hdi1jb250cm9scy0tcHJldicpXG4gICAgICB0aGlzLnBsYXlsaXN0X2luZGV4ICAgICAgPSAwXG4gICAgICB0aGlzLnBsYXlsaXN0X3NlbGVjdGVkICAgPSB0aGlzLnBsYXlsaXN0X2l0ZW1zW3RoaXMucGxheWxpc3RfaW5kZXhdXG4gICAgICB0aGlzLnBsYXlsaXN0X2l0ZW1fd2lkdGggPSB0aGlzLnBsYXlsaXN0X2l0ZW1zWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICsgMjBcbiAgICAgIFxuICAgICAgdGhpcy52aWRlb19pbmRleCAgID0gMFxuICAgICAgdGhpcy52aWRlb19wcmV2ICAgID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tdmlkZW9zLXdyYXBwZXItY29udHJvbHMtLXNraXAtcHJldicpXG4gICAgICB0aGlzLnZpZGVvX25leHQgICAgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi12aWRlb3Mtd3JhcHBlci1jb250cm9scy0tc2tpcC1uZXh0JylcbiAgICAgIFxuICAgICAgdGhpcy5wbGF5bGlzdF9uZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcbiAgICAgICAgaWYodGhpcy5wbGF5bGlzdF9pbmRleCA8IHRoaXMucGxheWxpc3RfaXRlbXMubGVuZ3RoIC0gdGhpcy5wbGF5bGlzdF9zaXplKXtcbiAgICAgICAgICB0aGlzLnBsYXlsaXN0X2luZGV4KytcbiAgICAgICAgICB0aGlzLnVwZGF0ZVBsYXlsaXN0KClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIFxuICAgICAgdGhpcy5wbGF5bGlzdF9wcmV2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcbiAgICAgICAgaWYodGhpcy5wbGF5bGlzdF9pbmRleCA+IDApe1xuICAgICAgICAgIHRoaXMucGxheWxpc3RfaW5kZXgtLVxuICAgICAgICAgIHRoaXMudXBkYXRlUGxheWxpc3QoKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGxheWxpc3RfaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXNcbiAgICAgICAgdGhpcy5wbGF5bGlzdF9pdGVtc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgaWYodGhpcyAhPSBzZWxmLnBsYXlsaXN0X3NlbGVjdGVkKXtcbiAgICAgICAgICAgIHNlbGYudmlkZW9faW5kZXggPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHNlbGYucGxheWxpc3RfaXRlbXMsIHRoaXMpXG4gICAgICAgICAgICBzZWxmLnNlbGVjdFZpZGVvKClcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBcbiAgICAgIHRoaXMudmlkZW9fcHJldi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgICAgIGlmKHRoaXMudmlkZW9faW5kZXggPiAwKXtcbiAgICAgICAgICB0aGlzLnZpZGVvX2luZGV4LS1cbiAgICAgICAgICB0aGlzLnNlbGVjdFZpZGVvKClcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgIHRoaXMudmlkZW9fcHJldi5jbGFzc0xpc3QuYWRkKCdoaWRlJylcbiAgICAgICAgICBjb25zb2xlLmxvZygnbm9wIHByZXYnKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlkZW9fbmV4dC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJylcbiAgICAgIH0pXG4gICAgICBcbiAgICAgIHRoaXMudmlkZW9fbmV4dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgICAgIGlmKHRoaXMudmlkZW9faW5kZXggPCB0aGlzLnBsYXlsaXN0X2l0ZW1zLmxlbmd0aCAtIDEpe1xuICAgICAgICAgIHRoaXMudmlkZW9faW5kZXgrK1xuICAgICAgICAgIHRoaXMuc2VsZWN0VmlkZW8oKVxuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgdGhpcy52aWRlb19uZXh0LmNsYXNzTGlzdC5hZGQoJ2hpZGUnKVxuICAgICAgICAgIGNvbnNvbGUubG9nKCdub3AgbmV4dCcpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWRlb19wcmV2LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKVxuICAgICAgfSlcbiAgICAgIFxuICAgICAgdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsICgpPT57XG4gICAgICAgIGlmKHRoaXMudmlkZW9faW5kZXggPCB0aGlzLnBsYXlsaXN0X2l0ZW1zLmxlbmd0aCAtIDEpe1xuICAgICAgICAgIHRoaXMudmlkZW9faW5kZXgrK1xuICAgICAgICAgIHRoaXMuc2VsZWN0VmlkZW8oKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgXG4gICAgICB0aGlzLmluaXRQbGF5bGlzdCgpXG4gICAgfVxuICAgIFxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKT0+e1xuICAgICAgdGhpcy5wbGF5bGlzdF9pdGVtX3dpZHRoID0gdGhpcy5wbGF5bGlzdF9pdGVtc1swXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCArIDIwXG4gICAgICBpZih0aGlzLnBsYXlsaXN0KXtcbiAgICAgICAgY29uc29sZS5sb2coJ3Jlc2l6ZScpXG4gICAgICAgIHRoaXMuaW5pdFBsYXlsaXN0KClcbiAgICAgIH1cbiAgICB9KVxuICAgIFxuICAgIHRoaXMuaW5pdCgpXG4gICAgXG4gIH1cbiAgXG4gIC8vIGluaXQgbmV3IHZpZGVvXG4gIGluaXQoKXtcbiAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdwbGF5aW5nJylcbiAgICB0aGlzLmVmZmVjdF9wYXVzZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgIHRoaXMuZWZmZWN0X3BsYXkuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICB0aGlzLnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZGRhdGEnLCAoKSA9PntcbiAgICAgIHRoaXMudmlkZW8uY3VycmVudFRpbWUgPSAuNDVcbiAgICAgIHRoaXMudGltZV9kdXJhdGlvbi50ZXh0Q29udGVudCA9IHRoaXMuZm9ybWF0VGltZSh0aGlzLnZpZGVvLmR1cmF0aW9uKVxuICAgICAgdGhpcy50aW1lX2N1cnJlbnQudGV4dENvbnRlbnQgPSB0aGlzLmZvcm1hdFRpbWUodGhpcy52aWRlby5jdXJyZW50VGltZSlcbiAgICAgIFxuICAgICAgdGhpcy50aW1lX3NlZWtfYmFyX2ZpbGwuc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlWCgwKSdcbiAgICB9KVxuICB9XG4gIFxuICBpbml0UGxheWxpc3QoKXtcbiAgICBsZXQgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aFxuICAgIGlmKHdpZHRoIDwgNDI1KXtcbiAgICAgIHRoaXMucGxheWxpc3Rfc2l6ZSA9IDFcbiAgICB9XG4gICAgZWxzZSBpZih3aWR0aCA8IDY1MCl7XG4gICAgICB0aGlzLnBsYXlsaXN0X3NpemUgPSAyXG4gICAgfVxuICAgIGVsc2UgaWYod2lkdGggPCA5MDApe1xuICAgICAgdGhpcy5wbGF5bGlzdF9zaXplID0gM1xuICAgIH1cbiAgICBlbHNlIGlmKHdpZHRoIDwgMTMwMCl7XG4gICAgICB0aGlzLnBsYXlsaXN0X3NpemUgPSA1XG4gICAgfVxuICAgIGVsc2UgaWYod2lkdGggPCAyNTAwKXtcbiAgICAgIHRoaXMucGxheWxpc3Rfc2l6ZSA9IDZcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgIHRoaXMucGxheWxpc3Rfc2l6ZSA9IDlcbiAgICB9XG4gICAgXG4gICAgdGhpcy5wbGF5bGlzdF9pbmRleCA9IDBcbiAgICB0aGlzLnVwZGF0ZVBsYXlsaXN0KClcbiAgfVxuICBcbiAgXG4gIC8vdXBkYXRlIGZ1bmNcbiAgdG9nZ2xlU3RhdGUoKXtcbiAgICBpZih0aGlzLnZpZGVvLnBhdXNlZCl7XG4gICAgICB0aGlzLnZpZGVvLnBsYXkoKVxuICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZCgncGxheWluZycpXG4gICAgICB0aGlzLnJlbmRlcigpXG4gICAgfVxuICAgIGVsc2V7XG4gICAgICB0aGlzLnZpZGVvLnBhdXNlKClcbiAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ3BsYXlpbmcnKVxuICAgIH1cbiAgICB0aGlzLmVmZmVjdF9wYXVzZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgIHRoaXMuZWZmZWN0X3BsYXkuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgfVxuICBcbiAgdXBkYXRlVGltZShlKXtcbiAgICBsZXQgcmF0aW8gPSAoZS5wYWdlWCAtIHRoaXMudGltZV9wb3NpdGlvbnMubGVmdCkgLyB0aGlzLnRpbWVfcG9zaXRpb25zLndpZHRoXG4gICAgaWYocmF0aW8gPj0gMCAmJiByYXRpbyA8IDEpe1xuICAgICAgdGhpcy50aW1lX3NlZWtfYmFyX2ZpbGwuc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlWCgnKyByYXRpbyArJyknXG4gICAgICB0aGlzLnZpZGVvLmN1cnJlbnRUaW1lID0gcmF0aW8gKiB0aGlzLnZpZGVvLmR1cmF0aW9uXG4gICAgICB0aGlzLnRpbWVfY3VycmVudC50ZXh0Q29udGVudCA9IHRoaXMuZm9ybWF0VGltZSh0aGlzLnZpZGVvLmN1cnJlbnRUaW1lKVxuICAgIH1cbiAgfVxuICBcbiAgdXBkYXRlVm9sdW1lKGUpe1xuICAgIGxldCByYXRpbyA9IChlLnBhZ2VYIC0gdGhpcy52b2x1bWVfcG9zaXRpb25zLmxlZnQpIC8gdGhpcy52b2x1bWVfcG9zaXRpb25zLndpZHRoXG4gICAgaWYocmF0aW8gPj0gMCAmJiByYXRpbyA8IDEpe1xuICAgICAgdGhpcy52aWRlby52b2x1bWUgPSByYXRpb1xuICAgICAgdGhpcy52b2x1bWVfc2Vla19iYXJfZmlsbC5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGVYKCcrIHJhdGlvICsnKSdcbiAgICAgIGlmKHRoaXMudmlkZW8ubXV0ZWQpe1xuICAgICAgICB0aGlzLnRvZ2dsZU11dGUoKVxuICAgICAgfVxuICAgICAgXG4gICAgICBpZihyYXRpbyA+PSAuNSl7XG4gICAgICAgIHRoaXMuYnV0dG9uX3ZvbHVtZS5jbGFzc0xpc3QuYWRkKCd2b2x1bWUtMicpXG4gICAgICAgIHRoaXMuYnV0dG9uX3ZvbHVtZS5jbGFzc0xpc3QucmVtb3ZlKCd2b2x1bWUtMScpXG4gICAgICAgIHRoaXMuYnV0dG9uX3ZvbHVtZS5jbGFzc0xpc3QucmVtb3ZlKCd2b2x1bWUtMCcpXG4gICAgICB9XG4gICAgICBlbHNlIGlmKHJhdGlvIDwgLjUgJiYgcmF0aW8gPj0gLjI1KXtcbiAgICAgICAgdGhpcy5idXR0b25fdm9sdW1lLmNsYXNzTGlzdC5yZW1vdmUoJ3ZvbHVtZS0yJylcbiAgICAgICAgdGhpcy5idXR0b25fdm9sdW1lLmNsYXNzTGlzdC5hZGQoJ3ZvbHVtZS0xJylcbiAgICAgICAgdGhpcy5idXR0b25fdm9sdW1lLmNsYXNzTGlzdC5yZW1vdmUoJ3ZvbHVtZS0wJylcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYocmF0aW8gPCAuMjUpe1xuICAgICAgICB0aGlzLmJ1dHRvbl92b2x1bWUuY2xhc3NMaXN0LnJlbW92ZSgndm9sdW1lLTInKVxuICAgICAgICB0aGlzLmJ1dHRvbl92b2x1bWUuY2xhc3NMaXN0LnJlbW92ZSgndm9sdW1lLTEnKVxuICAgICAgICB0aGlzLmJ1dHRvbl92b2x1bWUuY2xhc3NMaXN0LmFkZCgndm9sdW1lLTAnKVxuICAgICAgfVxuICAgICAgZWxzZSBpZihyYXRpbyA8PSAwKXtcbiAgICAgICAgdGhpcy5idXR0b25fdm9sdW1lLmNsYXNzTGlzdC5yZW1vdmUoJ3ZvbHVtZS0yJylcbiAgICAgICAgdGhpcy5idXR0b25fdm9sdW1lLmNsYXNzTGlzdC5yZW1vdmUoJ3ZvbHVtZS0xJylcbiAgICAgICAgdGhpcy5idXR0b25fdm9sdW1lLmNsYXNzTGlzdC5yZW1vdmUoJ3ZvbHVtZS0wJylcbiAgICAgICAgdGhpcy50b2dnbGVNdXRlKClcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG4gIHRvZ2dsZU11dGUoKXtcbiAgICBpZih0aGlzLnZpZGVvLm11dGVkKXtcbiAgICAgIHRoaXMudmlkZW8ubXV0ZWQgPSBmYWxzZVxuICAgICAgdGhpcy5idXR0b25fdm9sdW1lLmNsYXNzTGlzdC5yZW1vdmUoJ211dGUnKVxuICAgICAgdGhpcy52b2x1bWVfc2Vla19iYXJfZmlsbC5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGVYKCcrIHRoaXMudmlkZW8udm9sdW1lICsnKSdcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgIHRoaXMudmlkZW8ubXV0ZWQgPSB0cnVlXG4gICAgICB0aGlzLmJ1dHRvbl92b2x1bWUuY2xhc3NMaXN0LmFkZCgnbXV0ZScpXG4gICAgICB0aGlzLnZvbHVtZV9zZWVrX2Jhcl9maWxsLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZVgoMCknXG4gICAgfVxuICB9XG4gIFxuICB0b2dnbGVGdWxsc2NyZWVuKCl7XG4gICAgaWYoZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQgPT0gbnVsbCAmJiBkb2N1bWVudC5tb3pGdWxsc2NyZWVuRWxlbWVudCA9PSBudWxsICYmIGRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50ID09IG51bGwgJiYgZG9jdW1lbnQubXNGdWxsc2NyZWVuRWxlbWVudD09IG51bGwgKXtcbiAgICAgIGlmKHRoaXMuY29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuKXtcbiAgICAgICAgdGhpcy5jb250YWluZXIucmVxdWVzdEZ1bGxzY3JlZW4oKVxuICAgICAgfVxuICAgICAgZWxzZSBpZih0aGlzLmNvbnRhaW5lci5tb3pSZXF1ZXN0RnVsbFNjcmVlbil7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLm1velJlcXVlc3RGdWxsU2NyZWVuKClcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYodGhpcy5jb250YWluZXIud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4pe1xuICAgICAgICB0aGlzLmNvbnRhaW5lci53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbigpXG4gICAgICB9XG4gICAgICBlbHNlIGlmKHRoaXMuY29udGFpbmVyLm1zUmVxdWVzdEZ1bGxzY3JlZW4pe1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5tc1JlcXVlc3RGdWxsc2NyZWVuKClcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZXtcbiAgICAgIGlmKGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKXtcbiAgICAgICAgZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKVxuICAgICAgfVxuICAgICAgZWxzZSBpZihkb2N1bWVudC5tb3pFeGl0RnVsbFNjcmVlbil7XG4gICAgICAgIGRvY3VtZW50Lm1vekV4aXRGdWxsU2NyZWVuKClcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYoZG9jdW1lbnQud2Via2l0RXhpdEZ1bGxzY3JlZW4pe1xuICAgICAgICBkb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlbigpXG4gICAgICB9XG4gICAgICBlbHNlIGlmKGRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4pe1xuICAgICAgICBkb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuKClcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG4gIC8vcGxheWxpc3RcbiAgdXBkYXRlUGxheWxpc3QoKXtcbiAgICB0aGlzLmNvbnRhaW5lcl9wbGF5bGlzdC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgtJysgKHRoaXMucGxheWxpc3RfaW5kZXggKiB0aGlzLnBsYXlsaXN0X2l0ZW1fd2lkdGgpICsncHgpJ1xuICAgIFxuICAgIGlmKHRoaXMucGxheWxpc3RfaW5kZXggPT0gMCl7XG4gICAgICB0aGlzLnBsYXlsaXN0X3ByZXYuY2xhc3NMaXN0LmFkZCgnaGlkZScpXG4gICAgfVxuICAgIGVsc2V7XG4gICAgICB0aGlzLnBsYXlsaXN0X3ByZXYuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpXG4gICAgfVxuICAgIFxuICAgIGlmKHRoaXMucGxheWxpc3RfaW5kZXggID49ICh0aGlzLnBsYXlsaXN0X2l0ZW1zLmxlbmd0aCAtIHRoaXMucGxheWxpc3Rfc2l6ZSkpe1xuICAgICAgdGhpcy5wbGF5bGlzdF9uZXh0LmNsYXNzTGlzdC5hZGQoJ2hpZGUnKVxuICAgIH1cbiAgICBlbHNle1xuICAgICAgdGhpcy5wbGF5bGlzdF9uZXh0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKVxuICAgIH1cbiAgfVxuICBcbiAgc2VsZWN0VmlkZW8oKXtcbiAgICB0aGlzLnBsYXlsaXN0X3NlbGVjdGVkLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgdGhpcy5wbGF5bGlzdF9zZWxlY3RlZCA9IHRoaXMucGxheWxpc3RfaXRlbXNbdGhpcy52aWRlb19pbmRleF1cbiAgICB0aGlzLnBsYXlsaXN0X3NlbGVjdGVkLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG4gICAgXG4gICAgdGhpcy52aWRlby5zcmMgPSB0aGlzLnBsYXlsaXN0X3NlbGVjdGVkLmRhdGFzZXQudGFyZ2V0XG4gICAgdGhpcy5pbml0KClcbiAgICBcbiAgICBpZih0aGlzLnZpZGVvX2luZGV4ID4gdGhpcy5wbGF5bGlzdF9pbmRleCArIHRoaXMucGxheWxpc3Rfc2l6ZSAtIDEpe1xuICAgICAgdGhpcy5wbGF5bGlzdF9pbmRleCsrXG4gICAgICB0aGlzLnVwZGF0ZVBsYXlsaXN0KClcbiAgICB9XG4gICAgZWxzZSBpZih0aGlzLnZpZGVvX2luZGV4IDwgdGhpcy5wbGF5bGlzdF9pbmRleCl7XG4gICAgICB0aGlzLnBsYXlsaXN0X2luZGV4LS1cbiAgICAgIHRoaXMudXBkYXRlUGxheWxpc3QoKVxuICAgIH1cbiAgICBcbiAgICBpZih0aGlzLnZpZGVvX2luZGV4ID09IDApe1xuICAgICAgdGhpcy52aWRlb19wcmV2LmNsYXNzTGlzdC5hZGQoJ2hpZGUnKVxuICAgIH1cbiAgICBlbHNle1xuICAgICAgdGhpcy52aWRlb19wcmV2LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKVxuICAgIH1cbiAgICBcbiAgICBpZih0aGlzLnZpZGVvX2luZGV4ICA+PSAodGhpcy5wbGF5bGlzdF9pdGVtcy5sZW5ndGggLSAxKSl7XG4gICAgICB0aGlzLnZpZGVvX25leHQuY2xhc3NMaXN0LmFkZCgnaGlkZScpXG4gICAgfVxuICAgIGVsc2V7XG4gICAgICB0aGlzLnZpZGVvX25leHQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpXG4gICAgfVxuICB9XG4gIFxuICBcbiAgXG4gIC8vcmVuZGVyIGZ1bmNcbiAgcmVuZGVyKCl7XG4gICAgaWYoIXRoaXMudmlkZW8ucGF1c2VkKXtcbiAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5yZW5kZXIuYmluZCh0aGlzKSlcbiAgICB9XG4gICAgXG4gICAgbGV0IHJhdGlvID0gdGhpcy52aWRlby5jdXJyZW50VGltZSAvIHRoaXMudmlkZW8uZHVyYXRpb25cbiAgICB0aGlzLnRpbWVfc2Vla19iYXJfZmlsbC5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGVYKCcrIHJhdGlvICsnKSdcbiAgICBcbiAgICB0aGlzLnRpbWVfY3VycmVudC50ZXh0Q29udGVudCA9IHRoaXMuZm9ybWF0VGltZSh0aGlzLnZpZGVvLmN1cnJlbnRUaW1lKVxuICAgIFxuICAgIGlmKHRoaXMudmlkZW8uY3VycmVudFRpbWUgPT0gdGhpcy52aWRlby5kdXJhdGlvbil7XG4gICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdwbGF5aW5nJylcbiAgICB9XG4gIH1cbiAgXG4gIFxuICAvLyB1c2VmdWxsIGZ1bmNcbiAgZm9ybWF0VGltZSh0aW1lKXtcbiAgICB0aW1lICA9IE1hdGgucm91bmQodGltZSlcbiAgICBsZXQgaG91cnMgICA9IE1hdGguZmxvb3IodGltZSAvIDM2MDApO1xuICAgIGxldCBtaW51dGVzID0gTWF0aC5mbG9vcigodGltZSAtIChob3VycyAqIDM2MDApKSAvIDYwKTtcbiAgICBsZXQgc2Vjb25kcyA9IHRpbWUgLSAoaG91cnMgKiAzNjAwKSAtIChtaW51dGVzICogNjApO1xuICAgIFxuICAgIGhvdXJzICAgPSBob3VycyAgIDwgMTAgPyBcIjBcIitob3VycyA6IGhvdXJzXG4gICAgbWludXRlcyA9IG1pbnV0ZXMgPCAxMCA/IFwiMFwiK21pbnV0ZXMgOiBtaW51dGVzXG4gICAgc2Vjb25kcyA9IHNlY29uZHMgPCAxMCA/IFwiMFwiK3NlY29uZHMgOiBzZWNvbmRzXG4gICAgXG4gICAgaWYoaG91cnMgIT0gMCl7XG4gICAgICByZXR1cm4gaG91cnMrJzonK21pbnV0ZXMrJzonK3NlY29uZHNcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgIHJldHVybiBtaW51dGVzKyc6JytzZWNvbmRzXG4gICAgfVxuICB9XG59IiwiY2xhc3MgU2xpZGVye1xuICBjb25zdHJ1Y3Rvcihjb250YWluZXIpe1xuICAgIHRoaXMuY29udGFpbmVyICAgPSBjb250YWluZXJcbiAgICB0aGlzLml0ZW1zICAgICAgID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLnNsaWRlci1pdGVtJylcbiAgICB0aGlzLmJ1dHRvbl9uZXh0ID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnNsaWRlci1uZXh0JylcbiAgICB0aGlzLmJ1dHRvbl9wcmV2ID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnNsaWRlci1wcmV2JylcbiAgICB0aGlzLnRpbWVyX2ZpbGwgID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnNsaWRlci10aW1lci1maWxsJylcbiAgICB0aGlzLnRleHRfY3VycmVudCA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXItaW5kZXgtY3VycmVudCcpXG4gICAgdGhpcy50ZXh0X3RvdGFsID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnNsaWRlci1pbmRleC10b3RhbCcpXG4gICAgXG4gICAgdGhpcy5pbmRleCAgICAgID0gMFxuICAgIHRoaXMuc3RhY2tpbmcgICA9IDFcbiAgICB0aGlzLmxhc3RfaW5kZXggPSAwXG4gICAgXG4gICAgdGhpcy5zbGlkZV9pbnRlcnZhbCA9IDQwMDBcbiAgICB0aGlzLmxhc3RfdXBkYXRlICAgID0gMFxuICAgIHRoaXMubmVlZF91cGRhdGUgICAgPSB0cnVlXG4gICAgdGhpcy5kcmF3ICAgICAgICAgICA9IHRydWVcbiAgICBcbiAgICB0aGlzLmluaXQoKVxuICAgIHRoaXMucmVuZGVyKClcbiAgICB0aGlzLnN0YXJ0SW50ZXJ2YWwoKVxuICAgIFxuICAgIHRoaXMuYnV0dG9uX25leHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xuICAgICAgaWYoIXRoaXMuY2xpY2tlZCl7XG4gICAgICAgIGlmKHRoaXMuaW5kZXggPCB0aGlzLml0ZW1zLmxlbmd0aCAtIDEpe1xuICAgICAgICAgIHRoaXMuaW5kZXggKytcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgIHRoaXMuaW5kZXggPSAwXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGUoKVxuICAgICAgfVxuICAgIH0pXG4gICAgXG4gICAgdGhpcy5idXR0b25fcHJldi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgICBpZighdGhpcy5jbGlja2VkKXtcbiAgICAgICAgaWYodGhpcy5pbmRleCA+IDApe1xuICAgICAgICAgIHRoaXMuaW5kZXggLS1cbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgIHRoaXMuaW5kZXggPSB0aGlzLml0ZW1zLmxlbmd0aCAtIDFcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZSgpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuICBcbiAgc3RhcnRJbnRlcnZhbCgpe1xuICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRUaW1lb3V0KCgpPT57XG4gICAgICBcbiAgICAgIHRoaXMuYnV0dG9uX25leHQuY2xpY2soKVxuICAgICAgdGhpcy5zdGFydEludGVydmFsKClcbiAgICB9LCB0aGlzLnNsaWRlX2ludGVydmFsKVxuICB9XG4gIFxuICBpbml0KCl7XG4gICAgdGhpcy50ZXh0X3RvdGFsLnRleHRDb250ZW50ID0gdGhpcy5pdGVtcy5sZW5ndGggPiA5ID8gdGhpcy5pdGVtcy5sZW5ndGggOiAnMCcgKyB0aGlzLml0ZW1zLmxlbmd0aFxuICAgIHRoaXMuaW5kZXggPSAwXG4gICAgdGhpcy5pdGVtc1t0aGlzLmluZGV4XS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICAgIHRoaXMudGV4dF9jdXJyZW50LnRleHRDb250ZW50ID0gKHRoaXMuaW5kZXgrMSkgPiA5ID8gKHRoaXMuaW5kZXgrMSkgOiAnMCcgKyAodGhpcy5pbmRleCsxKVxuICB9XG4gIFxuICB1cGRhdGUoKXtcbiAgICB0aGlzLnRleHRfdG90YWwudGV4dENvbnRlbnQgPSB0aGlzLml0ZW1zLmxlbmd0aCA+IDkgPyB0aGlzLml0ZW1zLmxlbmd0aCA6ICcwJyArIHRoaXMuaXRlbXMubGVuZ3RoXG4gICAgdGhpcy50ZXh0X2N1cnJlbnQudGV4dENvbnRlbnQgPSAodGhpcy5pbmRleCsxKSA+IDkgPyAodGhpcy5pbmRleCsxKSA6ICcwJyArICh0aGlzLmluZGV4KzEpXG4gICAgXG4gICAgdGhpcy5pdGVtc1t0aGlzLmluZGV4XS5zdHlsZS56SW5kZXggPSB0aGlzLnN0YWNraW5nKytcbiAgICBcbiAgICAvLyB0aGlzLml0ZW1zW3RoaXMuaW5kZXhdLmNsYXNzTGlzdC5hZGQoJ3VwLWluZGV4JylcbiAgICAvLyB0aGlzLml0ZW1zW3RoaXMubGFzdF9pbmRleF0uY2xhc3NMaXN0LnJlbW92ZSgndXAtaW5kZXgnKVxuICAgIHRoaXMuaXRlbXNbdGhpcy5pbmRleF0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcbiAgICBcbiAgICB0aGlzLmNsaWNrZWQgPSB0cnVlXG4gICAgdGhpcy5kcmF3ICAgID0gZmFsc2VcbiAgICB0aGlzLnRpbWVyX2ZpbGwuY2xhc3NMaXN0LmFkZCgnZmlsbCcpXG4gICAgXG4gICAgXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLml0ZW1zW3RoaXMubGFzdF9pbmRleF0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICAgIHRoaXMubGFzdF9pbmRleCA9IHRoaXMuaW5kZXhcbiAgICAgIHRoaXMuY2xpY2tlZCA9IGZhbHNlXG4gICAgICBcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmludGVydmFsKVxuICAgICAgdGhpcy5zdGFydEludGVydmFsKClcbiAgICAgIFxuICAgICAgdGhpcy50aW1lcl9maWxsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZpbGwnKVxuICAgICAgdGhpcy5uZWVkX3VwZGF0ZSA9IHRydWVcbiAgICAgIHRoaXMuZHJhdyAgICAgICAgPSB0cnVlXG4gICAgfSwgNjEwKVxuICAgIFxuICB9XG4gIFxuICByZW5kZXIodGltZSl7XG4gICAgLy8gY29uc29sZS5sb2codGltZSlcbiAgICBpZih0aGlzLm5lZWRfdXBkYXRlIHx8IHRoaXMubGFzdF91cGRhdGUgPT09IHVuZGVmaW5lZCB8fCB0aW1lID09PSB1bmRlZmluZWQpe1xuICAgICAgdGhpcy5sYXN0X3VwZGF0ZSA9IHRpbWVcbiAgICAgIHRoaXMubmVlZF91cGRhdGUgPSBmYWxzZVxuICAgIH1cbiAgICAvLyBjb25zb2xlLmxvZyh0aW1lIC0gdGhpcy5sYXN0X3VwZGF0ZSAvIHRoaXMuZHVyYXRpb24pXG4gICAgaWYoKHRpbWUgLSB0aGlzLmxhc3RfdXBkYXRlKSAvIHRoaXMuc2xpZGVfaW50ZXJ2YWwgPj0gMSl7XG4gICAgICBsZXQgcmF0aW8gPSAodGltZSAtIHRoaXMubGFzdF91cGRhdGUpIC8gdGhpcy5zbGlkZV9pbnRlcnZhbFxuICAgICAgdGhpcy50aW1lcl9maWxsLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZVgoJysgcmF0aW8gKycpJ1xuICAgICAgdGhpcy5sYXN0X3VwZGF0ZSA9IHRpbWVcbiAgICB9XG4gICAgXG4gICAgaWYodGhpcy5kcmF3KXtcbiAgICAgIGxldCByYXRpbyA9ICh0aW1lIC0gdGhpcy5sYXN0X3VwZGF0ZSkgLyB0aGlzLnNsaWRlX2ludGVydmFsXG4gICAgICB0aGlzLnRpbWVyX2ZpbGwuc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlWCgnKyByYXRpbyArJyknXG4gICAgfVxuICAgIGVsc2V7XG4gICAgICB0aGlzLnRpbWVyX2ZpbGwuc3R5bGUudHJhbnNmb3JtID0gbnVsbFxuICAgIH1cbiAgICBcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucmVuZGVyLmJpbmQodGhpcykpXG4gIH1cbiAgXG59IiwiLy8gSEVBREVSIEJVUkdFUlxuY29uc3QgYnVyZ2VyX2J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItYnVyZ2VyJylcbmNvbnN0IGJ1cmdlcl9uYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLW5hdicpXG5cbmJ1cmdlcl9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gIGJ1cmdlcl9idXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgnaGVhZGVyLWJ1cmdlci1hY3RpdmUnKVxuICBidXJnZXJfbmF2LmNsYXNzTGlzdC50b2dnbGUoJ2hlYWRlci1uYXYtZXhwYW5kJylcbn0pXG5cbmNvbnN0IGhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXInKVxudmFyIGhlYWRlcl9oaWRlID0gZmFsc2VcbmRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V3aGVlbCcsIGZ1bmN0aW9uIChlKSB7XG4gIGlmICghaGVhZGVyX2hpZGUgJiYgZS5kZWx0YVkgPCAwICYmICFzY3JvbGxfZGlzYWJsZWQpIHtcbiAgICBoZWFkZXIuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpXG4gICAgaGVhZGVyX2hpZGUgPSB0cnVlXG4gIH1cbiAgZWxzZSBpZiAoaGVhZGVyX2hpZGUgJiYgZS5kZWx0YVkgPiAwICYmIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID4gODAgJiYgIXNjcm9sbF9kaXNhYmxlZCkge1xuICAgIGhlYWRlci5jbGFzc0xpc3QuYWRkKCdoaWRlJylcbiAgICBoZWFkZXJfaGlkZSA9IGZhbHNlXG4gIH1cbn0pXG4vLyBTQ1JPTEwgRElTQUJMRVxuY29uc3QgZGlzYWJsZWRfZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2Nyb2xsLWRpc2FibGUnKVxudmFyIHNjcm9sbF9kaXNhYmxlZCA9IGZhbHNlXG5mb3IgKHZhciBpID0gMDsgaSA8IGRpc2FibGVkX2VsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gIGRpc2FibGVkX2VsZW1lbnRzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCAoKSA9PiB7XG4gICAgc2Nyb2xsX2Rpc2FibGVkID0gdHJ1ZVxuICB9KVxuICBkaXNhYmxlZF9lbGVtZW50c1tpXS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xuICAgIHNjcm9sbF9kaXNhYmxlZCA9IGZhbHNlXG4gIH0pXG59XG5cbi8vIEVYSElCSVRJT05TIFNMSURFUlxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLWV4aGliaXRpb25zJykgIT0gdW5kZWZpbmVkKSB7XG4gIGNvbnN0IGV4aGliaXRpb25zX2J1dHRvbnNfaXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uLWV4aGliaXRpb25zLWNvbnRhaW5lci1zbGlkZXItbmF2LWxpc3QtLWl0ZW0nKVxuICBjb25zdCBleGhpYml0aW9uc19idXR0b25zX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLWV4aGliaXRpb25zLWNvbnRhaW5lci1zbGlkZXItbmF2LWxpc3QnKVxuICBjb25zdCBleGhpYml0aW9uc19saXN0X2ltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLWV4aGliaXRpb25zLWNvbnRhaW5lci1zbGlkZXItd3JhcHBlci1saXN0JylcbiAgY29uc3QgZXhoaWJpdGlvbnNfbGlzdF9jb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tZXhoaWJpdGlvbnMtY29udGFpbmVyLWNvbnRlbnQtd3JhcHBlci1saXN0JylcbiAgbGV0IGV4aGliaXRpb25zX2xhc3RfaW5kZXggPSAwXG4gIFxuICBmb3IgKHZhciBpID0gMDsgaSA8IGV4aGliaXRpb25zX2J1dHRvbnNfaXRlbS5sZW5ndGg7IGkrKykge1xuICAgIGV4aGliaXRpb25zX2J1dHRvbnNfaXRlbVtpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBpbmRleCA9IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoZXhoaWJpdGlvbnNfYnV0dG9uc19pdGVtLCB0aGlzKVxuICAgICAgXG4gICAgICBpZiAoZXhoaWJpdGlvbnNfYnV0dG9uc19pdGVtW2V4aGliaXRpb25zX2xhc3RfaW5kZXhdICE9IHVuZGVmaW5lZCkge1xuICAgICAgICBleGhpYml0aW9uc19idXR0b25zX2l0ZW1bZXhoaWJpdGlvbnNfbGFzdF9pbmRleF0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICAgIH1cbiAgICAgIGV4aGliaXRpb25zX2xhc3RfaW5kZXggPSBpbmRleFxuICAgICAgXG4gICAgICBleGhpYml0aW9uc19idXR0b25zX2l0ZW1baW5kZXhdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG4gICAgICBcbiAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+PSA5MDApIHtcbiAgICAgICAgZXhoaWJpdGlvbnNfbGlzdF9pbWcuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoLScgKyAoaW5kZXggKiAxMDApICsgJyUpJ1xuICAgICAgICBleGhpYml0aW9uc19saXN0X2NvbnRlbnQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoLScgKyAoaW5kZXggKiAxMDApICsgJyUpJ1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGV4aGliaXRpb25zX2xpc3RfaW1nLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKC0nICsgKGluZGV4ICogMTAwKSArICclKSdcbiAgICAgICAgZXhoaWJpdGlvbnNfbGlzdF9jb250ZW50LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKC0nICsgKGluZGV4ICogMTAwKSArICclKSdcbiAgICAgICAgZXhoaWJpdGlvbnNfYnV0dG9uc19jb250YWluZXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoLScgKyAoKChpbmRleCAtIDEpIC8gMykgKiAxMDApICsgJyUpJ1xuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cblxuLy8gSE9NRSBQTEFZRVIpXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tdmlkZW9zLXdyYXBwZXInKSAhPSB1bmRlZmluZWQpIHtcbiAgY29uc3QgcGxheWVyID0gbmV3IFBsYXllcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi12aWRlb3Mtd3JhcHBlcicpLCB0cnVlKVxufVxuXG4vLyBTTElERVJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyJykgIT0gdW5kZWZpbmVkKSB7XG4gIGNvbnN0IHNsaWRlciA9IG5ldyBTbGlkZXIoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlcicpKVxufVxuXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2luc3RhZ3JhbURhdGUnKSAhPSB1bmRlZmluZWQpIHtcbiAgbGV0IGluc3RhZ3JhbURhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5zdGFncmFtRGF0ZScpXG4gIGNvbnN0IGQgPSBpbnN0YWdyYW1EYXRlLmdldEF0dHJpYnV0ZSgnZGF0ZXRpbWUnKVxuICBpbnN0YWdyYW1EYXRlLmlubmVyVGV4dCA9IG1vbWVudChkKS5sb2NhbGUoJ2ZyJykuZnJvbU5vdygpXG59XG5uZXcgRXhoaWJpdGlvbnMoKVxubmV3IE5ld3MoKVxuIl19
