"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Controller=function(){function e(t){var i=this;_classCallCheck(this,e),this.container=t,this.button_toggle=this.container.querySelector(".section-videos-wrapper-controls--toggle"),this.video=this.container.querySelector(".section-videos-wrapper-video"),this.seek_bar=this.container.querySelector(".section-videos-wrapper-controls-seek-bar"),this.seek_bar_fill=this.seek_bar.querySelector(".section-videos-wrapper-controls-seek-bar--fill"),this.time_current=this.container.querySelector(".section-videos-wrapper-controls-time-current"),this.time_duration=this.container.querySelector(".section-videos-wrapper-controls-time-duration"),this.time_drag=!1,this.video.volume=0,this.time_duration.textContent=this.video.duration,this.button_toggle.addEventListener("click",function(){i.toggleState()}),this.seek_bar.addEventListener("click",function(e){i.container_positions=i.seek_bar.getBoundingClientRect(),i.updateTime(e)}),this.seek_bar.addEventListener("mousedown",function(){i.time_drag||(i.container_positions=i.seek_bar.getBoundingClientRect(),i.time_drag=!0)}),window.addEventListener("mouseup",function(){i.time_drag&&(i.time_drag=!1)}),window.addEventListener("mousemove",function(e){i.time_drag&&i.updateTime(e)})}return _createClass(e,[{key:"init",value:function(){var e=this;this.video.addEventListener("loadeddata",function(){e.video.pause(),e.video.currentTime=0,e.time_duration.textContent=e.formatTime(e.video.duration),e.time_current.textContent=e.formatTime(e.video.currentTime),e.seek_bar_fill.style.transform="scaleX(0)"})}},{key:"toggleState",value:function(){this.video.paused?(this.video.play(),this.container.classList.add("playing"),this.render()):(this.video.pause(),this.container.classList.remove("playing"))}},{key:"updateTime",value:function(e){var t=(e.pageX-this.container_positions.left)/this.container_positions.width;this.seek_bar_fill.style.transform="scaleX("+t+")",this.video.currentTime=t*this.video.duration,this.time_current.textContent=this.formatTime(this.video.currentTime)}},{key:"render",value:function(){this.video.paused||window.requestAnimationFrame(this.render.bind(this));var e=this.video.currentTime/this.video.duration;this.seek_bar_fill.style.transform="scaleX("+e+")",this.time_current.textContent=this.formatTime(this.video.currentTime),this.video.currentTime==this.video.duration&&this.container.classList.remove("playing")}},{key:"formatTime",value:function(e){e=Math.round(e);var t=Math.floor(e/3600),i=Math.floor((e-3600*t)/60),n=e-3600*t-60*i;return t=t<10?"0"+t:t,i=i<10?"0"+i:i,n=n<10?"0"+n:n,0!=t?t+":"+i+":"+n:i+":"+n}}]),e}(),controller=new Controller(document.querySelector(".section-videos-wrapper"));controller.init(),console.log(controller);var burger_button=document.querySelector(".header-burger"),burger_nav=document.querySelector(".header-nav");burger_button.addEventListener("click",function(){burger_button.classList.toggle("header-burger-active"),burger_nav.classList.toggle("header-nav-expand")});for(var exhibitions_buttons_item=document.querySelectorAll(".section-exhibitions-container-slider-nav-list--item"),exhibitions_buttons_container=document.querySelector(".section-exhibitions-container-slider-nav-list"),exhibitions_list_img=document.querySelector(".section-exhibitions-container-slider-wrapper-list"),exhibitions_list_content=document.querySelector(".section-exhibitions-container-content-wrapper-list"),exhibitions_last_index=0,i=0;i<exhibitions_buttons_item.length;i++)exhibitions_buttons_item[i].addEventListener("click",function(){var e=Array.prototype.indexOf.call(exhibitions_buttons_item,this);void 0!=exhibitions_buttons_item[exhibitions_last_index]&&exhibitions_buttons_item[exhibitions_last_index].classList.remove("active"),exhibitions_last_index=e,exhibitions_buttons_item[e].classList.add("active"),window.innerWidth>=900?(exhibitions_list_img.style.transform="translateX(-"+100*e+"%)",exhibitions_list_content.style.transform="translateX(-"+100*e+"%)"):(exhibitions_list_img.style.transform="translateX(-"+100*e+"%)",exhibitions_list_content.style.transform="translateX(-"+100*e+"%)",exhibitions_buttons_container.style.transform="translateX(-"+(e-1)/3*100+"%)")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNvbnRyb2xsZXIuanMiLCJtYWluLmpzIl0sIm5hbWVzIjpbIkNvbnRyb2xsZXIiLCJjb250YWluZXIiLCJfdGhpcyIsInRoaXMiLCJfY2xhc3NDYWxsQ2hlY2siLCJidXR0b25fdG9nZ2xlIiwicXVlcnlTZWxlY3RvciIsInZpZGVvIiwic2Vla19iYXIiLCJzZWVrX2Jhcl9maWxsIiwidGltZV9jdXJyZW50IiwidGltZV9kdXJhdGlvbiIsInRpbWVfZHJhZyIsInZvbHVtZSIsInRleHRDb250ZW50IiwiZHVyYXRpb24iLCJhZGRFdmVudExpc3RlbmVyIiwidG9nZ2xlU3RhdGUiLCJlIiwiY29udGFpbmVyX3Bvc2l0aW9ucyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInVwZGF0ZVRpbWUiLCJ3aW5kb3ciLCJfdGhpczIiLCJwYXVzZSIsImN1cnJlbnRUaW1lIiwiZm9ybWF0VGltZSIsInN0eWxlIiwidHJhbnNmb3JtIiwicGF1c2VkIiwicGxheSIsImNsYXNzTGlzdCIsImFkZCIsInJlbmRlciIsInJlbW92ZSIsInJhdGlvIiwicGFnZVgiLCJsZWZ0Iiwid2lkdGgiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJiaW5kIiwidGltZSIsIk1hdGgiLCJyb3VuZCIsImhvdXJzIiwiZmxvb3IiLCJtaW51dGVzIiwic2Vjb25kcyIsImNvbnRyb2xsZXIiLCJkb2N1bWVudCIsImluaXQiLCJjb25zb2xlIiwibG9nIiwiYnVyZ2VyX2J1dHRvbiIsImJ1cmdlcl9uYXYiLCJ0b2dnbGUiLCJleGhpYml0aW9uc19idXR0b25zX2l0ZW0iLCJxdWVyeVNlbGVjdG9yQWxsIiwiZXhoaWJpdGlvbnNfYnV0dG9uc19jb250YWluZXIiLCJleGhpYml0aW9uc19saXN0X2ltZyIsImV4aGliaXRpb25zX2xpc3RfY29udGVudCIsImV4aGliaXRpb25zX2xhc3RfaW5kZXgiLCJpIiwibGVuZ3RoIiwiaW5kZXgiLCJBcnJheSIsInByb3RvdHlwZSIsImluZGV4T2YiLCJjYWxsIiwi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WSxlQUF5QixJQUFSb0MsRUFBYyxLQUN0RUoseUJBQXlCakMsTUFBTUMsVUFBWSxlQUF5QixJQUFSb0MsRUFBYyxLQUMxRU4sOEJBQThCL0IsTUFBTUMsVUFBWSxnQkFBbUJvQyxFQUFNLEdBQUcsRUFBSyxJQUFNIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQ29udHJvbGxlcntcbiAgY29uc3RydWN0b3IoY29udGFpbmVyKXtcbiAgICB0aGlzLmNvbnRhaW5lciAgICAgPSBjb250YWluZXJcbiAgICB0aGlzLmJ1dHRvbl90b2dnbGUgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi12aWRlb3Mtd3JhcHBlci1jb250cm9scy0tdG9nZ2xlJylcbiAgICB0aGlzLnZpZGVvICAgICAgICAgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi12aWRlb3Mtd3JhcHBlci12aWRlbycpXG4gICAgdGhpcy5zZWVrX2JhciAgICAgID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tdmlkZW9zLXdyYXBwZXItY29udHJvbHMtc2Vlay1iYXInKVxuICAgIHRoaXMuc2Vla19iYXJfZmlsbCA9IHRoaXMuc2Vla19iYXIucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tdmlkZW9zLXdyYXBwZXItY29udHJvbHMtc2Vlay1iYXItLWZpbGwnKVxuICAgIHRoaXMudGltZV9jdXJyZW50ICA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLXZpZGVvcy13cmFwcGVyLWNvbnRyb2xzLXRpbWUtY3VycmVudCcpXG4gICAgdGhpcy50aW1lX2R1cmF0aW9uID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tdmlkZW9zLXdyYXBwZXItY29udHJvbHMtdGltZS1kdXJhdGlvbicpXG4gICAgdGhpcy50aW1lX2RyYWcgICAgID0gZmFsc2UgICAgXG4gICAgdGhpcy52aWRlby52b2x1bWUgPSAwXG4gICAgXG5cbiAgICB0aGlzLnRpbWVfZHVyYXRpb24udGV4dENvbnRlbnQgPSB0aGlzLnZpZGVvLmR1cmF0aW9uICAgIFxuXG4gICAgdGhpcy5idXR0b25fdG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcbiAgICAgIHRoaXMudG9nZ2xlU3RhdGUoKVxuICAgIH0pXG5cbiAgICB0aGlzLnNlZWtfYmFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpPT57XG4gICAgICB0aGlzLmNvbnRhaW5lcl9wb3NpdGlvbnMgPSB0aGlzLnNlZWtfYmFyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICBcbiAgICAgIHRoaXMudXBkYXRlVGltZShlKVxuXG4gICAgICAvLyBpZih0aGlzLnZpZGVvLnBhdXNlZCl7XG4gICAgICAvLyAgIHRoaXMudG9nZ2xlU3RhdGUoKVxuICAgICAgLy8gfVxuICAgIH0pXG5cbiAgICB0aGlzLnNlZWtfYmFyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsICgpPT57XG4gICAgICBpZighdGhpcy50aW1lX2RyYWcpe1xuICAgICAgICB0aGlzLmNvbnRhaW5lcl9wb3NpdGlvbnMgPSB0aGlzLnNlZWtfYmFyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpICAgICAgXG4gICAgICAgIHRoaXMudGltZV9kcmFnID0gdHJ1ZVxuICAgICAgfVxuICAgIH0pXG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsICgpPT57XG4gICAgICBpZih0aGlzLnRpbWVfZHJhZyl7XG4gICAgICAgIHRoaXMudGltZV9kcmFnID0gZmFsc2VcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIChlKT0+e1xuICAgICAgaWYodGhpcy50aW1lX2RyYWcpe1xuICAgICAgICB0aGlzLnVwZGF0ZVRpbWUoZSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLy8gaW5pdCBuZXcgdmlkZW9cbiAgaW5pdCgpe1xuICAgIHRoaXMudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkZGF0YScsICgpID0+e1xuICAgICAgdGhpcy52aWRlby5wYXVzZSgpXG4gICAgICB0aGlzLnZpZGVvLmN1cnJlbnRUaW1lID0gMFxuICAgICAgdGhpcy50aW1lX2R1cmF0aW9uLnRleHRDb250ZW50ID0gdGhpcy5mb3JtYXRUaW1lKHRoaXMudmlkZW8uZHVyYXRpb24pICAgXG4gICAgICB0aGlzLnRpbWVfY3VycmVudC50ZXh0Q29udGVudCA9IHRoaXMuZm9ybWF0VGltZSh0aGlzLnZpZGVvLmN1cnJlbnRUaW1lKSAgICAgICBcbiAgICAgIFxuICAgICAgdGhpcy5zZWVrX2Jhcl9maWxsLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZVgoMCknICAgIFxuICAgIH0pICAgIFxuICB9XG5cblxuICAvL3VwZGF0ZSBmdW5jXG4gIHRvZ2dsZVN0YXRlKCl7XG4gICAgaWYodGhpcy52aWRlby5wYXVzZWQpe1xuICAgICAgdGhpcy52aWRlby5wbGF5KClcbiAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3BsYXlpbmcnKVxuICAgICAgdGhpcy5yZW5kZXIoKVxuICAgIH1cbiAgICBlbHNle1xuICAgICAgdGhpcy52aWRlby5wYXVzZSgpXG4gICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdwbGF5aW5nJylcbiAgICB9XG4gIH1cblxuICB1cGRhdGVUaW1lKGUpe1xuICAgIGxldCByYXRpbyA9IChlLnBhZ2VYIC0gdGhpcy5jb250YWluZXJfcG9zaXRpb25zLmxlZnQpIC8gdGhpcy5jb250YWluZXJfcG9zaXRpb25zLndpZHRoXG4gICAgdGhpcy5zZWVrX2Jhcl9maWxsLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZVgoJysgcmF0aW8gKycpJ1xuICAgIHRoaXMudmlkZW8uY3VycmVudFRpbWUgPSByYXRpbyAqIHRoaXMudmlkZW8uZHVyYXRpb25cbiAgICB0aGlzLnRpbWVfY3VycmVudC50ZXh0Q29udGVudCA9IHRoaXMuZm9ybWF0VGltZSh0aGlzLnZpZGVvLmN1cnJlbnRUaW1lKSAgICBcbiAgfVxuXG5cbiAgLy9yZW5kZXIgZnVuY1xuICByZW5kZXIoKXtcbiAgICBpZighdGhpcy52aWRlby5wYXVzZWQpe1xuICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnJlbmRlci5iaW5kKHRoaXMpKVxuICAgIH1cblxuICAgIGxldCByYXRpbyA9IHRoaXMudmlkZW8uY3VycmVudFRpbWUgLyB0aGlzLnZpZGVvLmR1cmF0aW9uXG4gICAgdGhpcy5zZWVrX2Jhcl9maWxsLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZVgoJysgcmF0aW8gKycpJ1xuXG4gICAgdGhpcy50aW1lX2N1cnJlbnQudGV4dENvbnRlbnQgPSB0aGlzLmZvcm1hdFRpbWUodGhpcy52aWRlby5jdXJyZW50VGltZSlcbiAgICBcbiAgICBpZih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lID09IHRoaXMudmlkZW8uZHVyYXRpb24pe1xuICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgncGxheWluZycpICAgICAgXG4gICAgfVxuICB9XG5cblxuICAvLyB1c2VmdWxsIGZ1bmNcbiAgZm9ybWF0VGltZSh0aW1lKXtcbiAgICB0aW1lICA9IE1hdGgucm91bmQodGltZSlcbiAgICBsZXQgaG91cnMgICA9IE1hdGguZmxvb3IodGltZSAvIDM2MDApO1xuICAgIGxldCBtaW51dGVzID0gTWF0aC5mbG9vcigodGltZSAtIChob3VycyAqIDM2MDApKSAvIDYwKTtcbiAgICBsZXQgc2Vjb25kcyA9IHRpbWUgLSAoaG91cnMgKiAzNjAwKSAtIChtaW51dGVzICogNjApO1xuXG4gICAgaG91cnMgICA9IGhvdXJzICAgPCAxMCA/IFwiMFwiK2hvdXJzIDogaG91cnNcbiAgICBtaW51dGVzID0gbWludXRlcyA8IDEwID8gXCIwXCIrbWludXRlcyA6IG1pbnV0ZXNcbiAgICBzZWNvbmRzID0gc2Vjb25kcyA8IDEwID8gXCIwXCIrc2Vjb25kcyA6IHNlY29uZHNcblxuICAgIGlmKGhvdXJzICE9IDApe1xuICAgICAgcmV0dXJuIGhvdXJzKyc6JyttaW51dGVzKyc6JytzZWNvbmRzXG4gICAgfVxuICAgIGVsc2V7XG4gICAgICByZXR1cm4gbWludXRlcysnOicrc2Vjb25kc1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBjb250cm9sbGVyID0gbmV3IENvbnRyb2xsZXIoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tdmlkZW9zLXdyYXBwZXInKSlcbmNvbnRyb2xsZXIuaW5pdCgpXG5jb25zb2xlLmxvZyhjb250cm9sbGVyKSIsImNvbnN0IGJ1cmdlcl9idXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLWJ1cmdlcicpXG5jb25zdCBidXJnZXJfbmF2ICAgID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1uYXYnKVxuXG5idXJnZXJfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgYnVyZ2VyX2J1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdoZWFkZXItYnVyZ2VyLWFjdGl2ZScpXG4gIGJ1cmdlcl9uYXYuY2xhc3NMaXN0LnRvZ2dsZSgnaGVhZGVyLW5hdi1leHBhbmQnKVxufSlcblxuXG5cbmNvbnN0IGV4aGliaXRpb25zX2J1dHRvbnNfaXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uLWV4aGliaXRpb25zLWNvbnRhaW5lci1zbGlkZXItbmF2LWxpc3QtLWl0ZW0nKVxuY29uc3QgZXhoaWJpdGlvbnNfYnV0dG9uc19jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi1leGhpYml0aW9ucy1jb250YWluZXItc2xpZGVyLW5hdi1saXN0JylcbmNvbnN0IGV4aGliaXRpb25zX2xpc3RfaW1nICAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLWV4aGliaXRpb25zLWNvbnRhaW5lci1zbGlkZXItd3JhcHBlci1saXN0JylcbmNvbnN0IGV4aGliaXRpb25zX2xpc3RfY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLWV4aGliaXRpb25zLWNvbnRhaW5lci1jb250ZW50LXdyYXBwZXItbGlzdCcpXG5sZXQgZXhoaWJpdGlvbnNfbGFzdF9pbmRleCA9IDBcblxuZm9yICh2YXIgaSA9IDA7IGkgPCBleGhpYml0aW9uc19idXR0b25zX2l0ZW0ubGVuZ3RoOyBpKyspIHtcbiAgZXhoaWJpdGlvbnNfYnV0dG9uc19pdGVtW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICBsZXQgaW5kZXggPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGV4aGliaXRpb25zX2J1dHRvbnNfaXRlbSwgdGhpcylcblxuICAgIGlmKGV4aGliaXRpb25zX2J1dHRvbnNfaXRlbVtleGhpYml0aW9uc19sYXN0X2luZGV4XSAhPSB1bmRlZmluZWQpe1xuICAgICAgZXhoaWJpdGlvbnNfYnV0dG9uc19pdGVtW2V4aGliaXRpb25zX2xhc3RfaW5kZXhdLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgfVxuICAgIGV4aGliaXRpb25zX2xhc3RfaW5kZXggPSBpbmRleFxuXG4gICAgZXhoaWJpdGlvbnNfYnV0dG9uc19pdGVtW2luZGV4XS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuXG5cbiAgICBpZih3aW5kb3cuaW5uZXJXaWR0aCA+PSA5MDApe1xuICAgICAgZXhoaWJpdGlvbnNfbGlzdF9pbWcuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoLScrIChpbmRleCAqIDEwMCkgKyclKSdcbiAgICAgIGV4aGliaXRpb25zX2xpc3RfY29udGVudC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgtJysgKGluZGV4ICogMTAwKSArJyUpJ1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgZXhoaWJpdGlvbnNfbGlzdF9pbWcuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoLScrIChpbmRleCAqIDEwMCkgKyclKSdcbiAgICAgIGV4aGliaXRpb25zX2xpc3RfY29udGVudC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgtJysgKGluZGV4ICogMTAwKSArJyUpJ1xuICAgICAgZXhoaWJpdGlvbnNfYnV0dG9uc19jb250YWluZXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoLScrICgoKGluZGV4LTEpLzMpICogMTAwKSArJyUpJ1xuICAgIH1cbiAgfSlcbn0iXX0=
