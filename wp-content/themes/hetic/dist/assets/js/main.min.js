"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),Player=function(){function e(t){var i=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(_classCallCheck(this,e),this.container=t,this.button_toggle=this.container.querySelector(".section-videos-wrapper-controls--toggle"),this.video=this.container.querySelector(".section-videos-wrapper-video"),this.time_seek_bar=this.container.querySelector(".section-videos-wrapper-controls-seek-bar"),this.time_seek_bar_fill=this.time_seek_bar.querySelector(".section-videos-wrapper-controls-seek-bar--fill"),this.time_drag=!1,this.time_current=this.container.querySelector(".section-videos-wrapper-controls--time-current"),this.time_duration=this.container.querySelector(".section-videos-wrapper-controls--time-duration"),this.button_volume=this.container.querySelector(".section-videos-wrapper-controls-volume--icon"),this.volume_seek_bar=this.container.querySelector(".section-videos-wrapper-controls-volume--bar"),this.volume_seek_bar_fill=this.container.querySelector(".section-videos-wrapper-controls-volume--bar-fill"),this.volume_drag=!1,this.effect_pause=this.container.querySelector(".section-videos-wrapper-effect-pause"),this.effect_play=this.container.querySelector(".section-videos-wrapper-effect-play"),this.button_fullscreen=this.container.querySelector(".section-videos-wrapper-controls--fullscreen"),this.button_toggle.addEventListener("click",function(){i.toggleState()}),this.time_seek_bar.addEventListener("click",function(e){i.time_positions=i.time_seek_bar.getBoundingClientRect(),i.updateTime(e)}),this.time_seek_bar.addEventListener("mousedown",function(){i.time_drag||(i.time_positions=i.time_seek_bar.getBoundingClientRect(),i.time_drag=!0)}),window.addEventListener("mouseup",function(){i.time_drag&&(i.time_drag=!1),i.volume_drag&&(i.volume_drag=!1)}),window.addEventListener("mousemove",function(e){i.time_drag&&i.updateTime(e),i.volume_drag&&i.updateVolume(e)}),this.button_volume.addEventListener("click",function(){i.toggleMute()}),this.volume_seek_bar.addEventListener("click",function(e){i.volume_positions=i.volume_seek_bar.getBoundingClientRect(),i.updateVolume(e)}),this.volume_seek_bar.addEventListener("mousedown",function(){i.volume_drag||(i.volume_positions=i.volume_seek_bar.getBoundingClientRect(),i.volume_drag=!0)}),this.button_fullscreen.addEventListener("click",function(){i.toggleFullscreen()}),this.video.addEventListener("dblclick",function(){i.toggleFullscreen()}),this.video.addEventListener("click",function(){i.toggleState(),i.video.paused?(i.effect_play.classList.add("active"),i.effect_pause.classList.remove("active")):(i.effect_pause.classList.add("active"),i.effect_play.classList.remove("active"))}),this.playlist=s,this.playlist){this.container_playlist=document.querySelector(".section-videos-nav-wrapper-list"),this.playlist_items=document.querySelectorAll(".section-videos-nav-wrapper-list-item"),this.playlist_next=document.querySelector(".section-videos-nav-controls--next"),this.playlist_prev=document.querySelector(".section-videos-nav-controls--prev"),this.playlist_index=0,this.playlist_selected=this.playlist_items[this.playlist_index],this.playlist_item_width=this.playlist_items[0].getBoundingClientRect().width+20,this.video_index=0,this.video_prev=this.container.querySelector(".section-videos-wrapper-controls--skip-prev"),this.video_next=this.container.querySelector(".section-videos-wrapper-controls--skip-next"),this.playlist_next.addEventListener("click",function(){i.playlist_index<i.playlist_items.length-i.playlist_size&&(i.playlist_index++,i.updatePlaylist())}),this.playlist_prev.addEventListener("click",function(){i.playlist_index>0&&(i.playlist_index--,i.updatePlaylist())});for(var n=0;n<this.playlist_items.length;n++)!function(){var e=i;i.playlist_items[n].addEventListener("click",function(){this!=e.playlist_selected&&(e.video_index=Array.prototype.indexOf.call(e.playlist_items,this),e.selectVideo())})}();this.video_prev.addEventListener("click",function(){i.video_index>0?(i.video_index--,i.selectVideo()):(i.video_prev.classList.add("hide"),console.log("nop prev")),i.video_next.classList.remove("hide")}),this.video_next.addEventListener("click",function(){i.video_index<i.playlist_items.length-1?(i.video_index++,i.selectVideo()):(i.video_next.classList.add("hide"),console.log("nop next")),i.video_prev.classList.remove("hide")}),this.video.addEventListener("ended",function(){i.video_index<i.playlist_items.length-1&&(i.video_index++,i.selectVideo())}),this.initPlaylist()}window.addEventListener("resize",function(){i.playlist_item_width=i.playlist_items[0].getBoundingClientRect().width+20,i.playlist&&(console.log("resize"),i.initPlaylist())}),this.init()}return _createClass(e,[{key:"init",value:function(){var e=this;this.container.classList.remove("playing"),this.effect_pause.classList.remove("active"),this.effect_play.classList.remove("active"),this.video.addEventListener("loadeddata",function(){e.video.currentTime=.45,e.time_duration.textContent=e.formatTime(e.video.duration),e.time_current.textContent=e.formatTime(e.video.currentTime),e.time_seek_bar_fill.style.transform="scaleX(0)"})}},{key:"initPlaylist",value:function(){var e=window.innerWidth;this.playlist_size=e<425?1:e<650?2:e<900?3:e<1300?5:e<2500?6:9,this.playlist_index=0,this.updatePlaylist()}},{key:"toggleState",value:function(){this.video.paused?(this.video.play(),this.container.classList.add("playing"),this.render()):(this.video.pause(),this.container.classList.remove("playing")),this.effect_pause.classList.remove("active"),this.effect_play.classList.remove("active")}},{key:"updateTime",value:function(e){var t=(e.pageX-this.time_positions.left)/this.time_positions.width;t>=0&&t<1&&(this.time_seek_bar_fill.style.transform="scaleX("+t+")",this.video.currentTime=t*this.video.duration,this.time_current.textContent=this.formatTime(this.video.currentTime))}},{key:"updateVolume",value:function(e){var t=(e.pageX-this.volume_positions.left)/this.volume_positions.width;t>=0&&t<1&&(this.video.volume=t,this.volume_seek_bar_fill.style.transform="scaleX("+t+")",this.video.muted&&this.toggleMute(),t>=.5?(this.button_volume.classList.add("volume-2"),this.button_volume.classList.remove("volume-1"),this.button_volume.classList.remove("volume-0")):t<.5&&t>=.25?(this.button_volume.classList.remove("volume-2"),this.button_volume.classList.add("volume-1"),this.button_volume.classList.remove("volume-0")):t<.25?(this.button_volume.classList.remove("volume-2"),this.button_volume.classList.remove("volume-1"),this.button_volume.classList.add("volume-0")):t<=0&&(this.button_volume.classList.remove("volume-2"),this.button_volume.classList.remove("volume-1"),this.button_volume.classList.remove("volume-0"),this.toggleMute()))}},{key:"toggleMute",value:function(){this.video.muted?(this.video.muted=!1,this.button_volume.classList.remove("mute"),this.volume_seek_bar_fill.style.transform="scaleX("+this.video.volume+")"):(this.video.muted=!0,this.button_volume.classList.add("mute"),this.volume_seek_bar_fill.style.transform="scaleX(0)")}},{key:"toggleFullscreen",value:function(){null==document.fullscreenElement&&null==document.mozFullscreenElement&&null==document.webkitFullscreenElement&&null==document.msFullscreenElement?this.container.requestFullscreen?this.container.requestFullscreen():this.container.mozRequestFullScreen?this.container.mozRequestFullScreen():this.container.webkitRequestFullscreen?this.container.webkitRequestFullscreen():this.container.msRequestFullscreen&&this.container.msRequestFullscreen():document.exitFullscreen?document.exitFullscreen():document.mozExitFullScreen?document.mozExitFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}},{key:"updatePlaylist",value:function(){this.container_playlist.style.transform="translateX(-"+this.playlist_index*this.playlist_item_width+"px)",0==this.playlist_index?this.playlist_prev.classList.add("hide"):this.playlist_prev.classList.remove("hide"),this.playlist_index>=this.playlist_items.length-this.playlist_size?this.playlist_next.classList.add("hide"):this.playlist_next.classList.remove("hide")}},{key:"selectVideo",value:function(){this.playlist_selected.classList.remove("active"),this.playlist_selected=this.playlist_items[this.video_index],this.playlist_selected.classList.add("active"),this.video.src=this.playlist_selected.dataset.target,this.init(),this.video_index>this.playlist_index+this.playlist_size-1?(this.playlist_index++,this.updatePlaylist()):this.video_index<this.playlist_index&&(this.playlist_index--,this.updatePlaylist()),0==this.video_index?this.video_prev.classList.add("hide"):this.video_prev.classList.remove("hide"),this.video_index>=this.playlist_items.length-1?this.video_next.classList.add("hide"):this.video_next.classList.remove("hide")}},{key:"render",value:function(){this.video.paused||window.requestAnimationFrame(this.render.bind(this));var e=this.video.currentTime/this.video.duration;this.time_seek_bar_fill.style.transform="scaleX("+e+")",this.time_current.textContent=this.formatTime(this.video.currentTime),this.video.currentTime==this.video.duration&&this.container.classList.remove("playing")}},{key:"formatTime",value:function(e){e=Math.round(e);var t=Math.floor(e/3600),i=Math.floor((e-3600*t)/60),s=e-3600*t-60*i;return t=t<10?"0"+t:t,i=i<10?"0"+i:i,s=s<10?"0"+s:s,0!=t?t+":"+i+":"+s:i+":"+s}}]),e}(),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),Slider=function(){function e(t){var i=this;_classCallCheck(this,e),this.container=t,this.items=this.container.querySelectorAll(".slider-item"),this.button_next=this.container.querySelector(".slider-next"),this.button_prev=this.container.querySelector(".slider-prev"),this.timer_fill=this.container.querySelector(".slider-timer-fill"),this.text_current=this.container.querySelector(".slider-index-current"),this.text_total=this.container.querySelector(".slider-index-total"),this.index=0,this.stacking=1,this.last_index=0,this.slide_interval=4e3,this.last_update=0,this.need_update=!0,this.draw=!0,this.init(),this.render(),this.startInterval(),this.button_next.addEventListener("click",function(){i.clicked||(i.index<i.items.length-1?i.index++:i.index=0,i.update())}),this.button_prev.addEventListener("click",function(){i.clicked||(i.index>0?i.index--:i.index=i.items.length-1,i.update())})}return _createClass(e,[{key:"startInterval",value:function(){var e=this;this.interval=setTimeout(function(){e.button_next.click(),e.startInterval()},this.slide_interval)}},{key:"init",value:function(){this.text_total.textContent=this.items.length>9?this.items.length:"0"+this.items.length,this.index=0,this.items[this.index].classList.add("active"),this.text_current.textContent=this.index+1>9?this.index+1:"0"+(this.index+1)}},{key:"update",value:function(){var e=this;this.text_total.textContent=this.items.length>9?this.items.length:"0"+this.items.length,this.text_current.textContent=this.index+1>9?this.index+1:"0"+(this.index+1),this.items[this.index].style.zIndex=this.stacking++,this.items[this.index].classList.add("active"),this.clicked=!0,this.draw=!1,this.timer_fill.classList.add("fill"),setTimeout(function(){e.items[e.last_index].classList.remove("active"),e.last_index=e.index,e.clicked=!1,clearTimeout(e.interval),e.startInterval(),e.timer_fill.classList.remove("fill"),e.need_update=!0,e.draw=!0},610),console.log("-------")}},{key:"render",value:function(e){if((this.need_update||void 0===this.last_update||void 0===e)&&(this.last_update=e,this.need_update=!1),(e-this.last_update)/this.slide_interval>=1){var t=(e-this.last_update)/this.slide_interval;this.timer_fill.style.transform="scaleX("+t+")",this.last_update=e}if(this.draw){var i=(e-this.last_update)/this.slide_interval;this.timer_fill.style.transform="scaleX("+i+")"}else this.timer_fill.style.transform=null;window.requestAnimationFrame(this.render.bind(this))}}]),e}(),burger_button=document.querySelector(".header-burger"),burger_nav=document.querySelector(".header-nav");burger_button.addEventListener("click",function(){burger_button.classList.toggle("header-burger-active"),burger_nav.classList.toggle("header-nav-expand")});var header=document.querySelector(".header"),header_hide=!1;document.body.addEventListener("mousewheel",function(e){!header_hide&&e.deltaY<0&&!scroll_disabled?(header.classList.remove("hide"),header_hide=!0):header_hide&&e.deltaY>0&&document.body.scrollTop>80&&!scroll_disabled&&(header.classList.add("hide"),header_hide=!1)});for(var disabled_elements=document.querySelectorAll(".scroll-disable"),scroll_disabled=!1,i=0;i<disabled_elements.length;i++)disabled_elements[i].addEventListener("mouseenter",function(){scroll_disabled=!0}),disabled_elements[i].addEventListener("mouseleave",function(){scroll_disabled=!1});if(void 0!=document.querySelector(".section-exhibitions")){var i;!function(){var e=document.querySelectorAll(".section-exhibitions-container-slider-nav-list--item"),t=document.querySelector(".section-exhibitions-container-slider-nav-list"),s=document.querySelector(".section-exhibitions-container-slider-wrapper-list"),n=document.querySelector(".section-exhibitions-container-content-wrapper-list"),l=0;for(i=0;i<e.length;i++)e[i].addEventListener("click",function(){var i=Array.prototype.indexOf.call(e,this);void 0!=e[l]&&e[l].classList.remove("active"),l=i,e[i].classList.add("active"),window.innerWidth>=900?(s.style.transform="translateX(-"+100*i+"%)",n.style.transform="translateX(-"+100*i+"%)"):(s.style.transform="translateX(-"+100*i+"%)",n.style.transform="translateX(-"+100*i+"%)",t.style.transform="translateX(-"+(i-1)/3*100+"%)")})}()}if(void 0!=document.querySelector(".section-videos-wrapper"))var player=new Player(document.querySelector(".section-videos-wrapper"),!0);if(void 0!=document.querySelector(".slider"))var slider=new Slider(document.querySelector(".slider"));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBsYXllci5qcyIsIlNsaWRlci5qcyIsIm1haW4uanMiXSwibmFtZXMiOlsiUGxheWVyIiwiY29udGFpbmVyIiwiX3RoaXMiLCJ0aGlzIiwicGxheWxpc3QiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJfY2xhc3NDYWxsQ2hlY2siLCJidXR0b25fdG9nZ2xlIiwicXVlcnlTZWxlY3RvciIsInZpZGVvIiwidGltZV9zZWVrX2JhciIsInRpbWVfc2Vla19iYXJfZmlsbCIsInRpbWVfZHJhZyIsInRpbWVfY3VycmVudCIsInRpbWVfZHVyYXRpb24iLCJidXR0b25fdm9sdW1lIiwidm9sdW1lX3NlZWtfYmFyIiwidm9sdW1lX3NlZWtfYmFyX2ZpbGwiLCJ2b2x1bWVfZHJhZyIsImVmZmVjdF9wYXVzZSIsImVmZmVjdF9wbGF5IiwiYnV0dG9uX2Z1bGxzY3JlZW4iLCJhZGRFdmVudExpc3RlbmVyIiwidG9nZ2xlU3RhdGUiLCJlIiwidGltZV9wb3NpdGlvbnMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ1cGRhdGVUaW1lIiwid2luZG93IiwidXBkYXRlVm9sdW1lIiwidG9nZ2xlTXV0ZSIsInZvbHVtZV9wb3NpdGlvbnMiLCJ0b2dnbGVGdWxsc2NyZWVuIiwicGF1c2VkIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiY29udGFpbmVyX3BsYXlsaXN0IiwiZG9jdW1lbnQiLCJwbGF5bGlzdF9pdGVtcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwbGF5bGlzdF9uZXh0IiwicGxheWxpc3RfcHJldiIsInBsYXlsaXN0X2luZGV4IiwicGxheWxpc3Rfc2VsZWN0ZWQiLCJwbGF5bGlzdF9pdGVtX3dpZHRoIiwid2lkdGgiLCJ2aWRlb19pbmRleCIsInZpZGVvX3ByZXYiLCJ2aWRlb19uZXh0IiwicGxheWxpc3Rfc2l6ZSIsInVwZGF0ZVBsYXlsaXN0IiwiaSIsInNlbGYiLCJBcnJheSIsInByb3RvdHlwZSIsImluZGV4T2YiLCJjYWxsIiwic2VsZWN0VmlkZW8iLCJfbG9vcCIsImNvbnNvbGUiLCJsb2ciLCJpbml0UGxheWxpc3QiLCJpbml0IiwiX3RoaXMyIiwiY3VycmVudFRpbWUiLCJ0ZXh0Q29udGVudCIsImZvcm1hdFRpbWUiLCJkdXJhdGlvbiIsInN0eWxlIiwidHJhbnNmb3JtIiwiaW5uZXJXaWR0aCIsInBsYXkiLCJyZW5kZXIiLCJwYXVzZSIsInJhdGlvIiwicGFnZVgiLCJsZWZ0Iiwidm9sdW1lIiwibXV0ZWQiLCJmdWxsc2NyZWVuRWxlbWVudCIsIm1vekZ1bGxzY3JlZW5FbGVtZW50Iiwid2Via2l0RnVsbHNjcmVlbkVsZW1lbnQiLCJtc0Z1bGxzY3JlZW5FbGVtZW50IiwicmVxdWVzdEZ1bGxzY3JlZW4iLCJtb3pSZXF1ZXN0RnVsbFNjcmVlbiIsIndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuIiwibXNSZXF1ZXN0RnVsbHNjcmVlbiIsImV4aXRGdWxsc2NyZWVuIiwibW96RXhpdEZ1bGxTY3JlZW4iLCJ3ZWJraXRFeGl0RnVsbHNjcmVlbiIsIm1zRXhpdEZ1bGxzY3JlZW4iLCJzcmMiLCJkYXRhc2V0IiwidGFyZ2V0IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYmluZCIsInRpbWUiLCJNYXRoIiwicm91bmQiLCJob3VycyIsImZsb29yIiwibWludXRlcyIsInNlY29uZHMiLCJTbGlkZXIiLCJpdGVtcyIsImJ1dHRvbl9uZXh0IiwiYnV0dG9uX3ByZXYiLCJ0aW1lcl9maWxsIiwidGV4dF9jdXJyZW50IiwidGV4dF90b3RhbCIsImluZGV4Iiwic3RhY2tpbmciLCJsYXN0X2luZGV4Iiwic2xpZGVfaW50ZXJ2YWwiLCJsYXN0X3VwZGF0ZSIsIm5lZWRfdXBkYXRlIiwiZHJhdyIsInN0YXJ0SW50ZXJ2YWwiLCJjbGlja2VkIiwidXBkYXRlIiwiaW50ZXJ2YWwiLCJzZXRUaW1lb3V0IiwiY2xpY2siLCJfdGhpczMiLCJ6SW5kZXgiLCJjbGVhclRpbWVvdXQiLCJidXJnZXJfYnV0dG9uIiwiYnVyZ2VyX25hdiIsInRvZ2dsZSIsImhlYWRlciIsImhlYWRlcl9oaWRlIiwiYm9keSIsImRlbHRhWSIsInNjcm9sbF9kaXNhYmxlZCIsInNjcm9sbFRvcCIsImRpc2FibGVkX2VsZW1lbnRzIiwiZXhoaWJpdGlvbnNfYnV0dG9uc19pdGVtIiwiZXhoaWJpdGlvbnNfYnV0dG9uc19jb250YWluZXIiLCJleGhpYml0aW9uc19saXN0X2ltZyIsImV4aGliaXRpb25zX2xpc3RfY29udGVudCIsImV4aGliaXRpb25zX2xhc3RfaW5kZXgiLCJwbGF5ZXIiLCJzbGlkZXIiXSwibWFwcGluZ3MiOiJ5ZUFBTUEsT0FBQUEsV0FDSixTQUFBQSxFQUFZQyxHQUE0QixJQUFBQyxFQUFBQyxLQUFqQkMsRUFBaUJDLFVBQUFDLE9BQUEsUUFBQUMsSUFBQUYsVUFBQSxJQUFBQSxVQUFBLEdBK0Z0QyxHQS9Gc0NHLGdCQUFBTCxLQUFBSCxHQUN0Q0csS0FBS0YsVUFBZ0JBLEVBQ3JCRSxLQUFLTSxjQUFnQk4sS0FBS0YsVUFBVVMsY0FBYyw0Q0FDbERQLEtBQUtRLE1BQWdCUixLQUFLRixVQUFVUyxjQUFjLGlDQUVsRFAsS0FBS1MsY0FBcUJULEtBQUtGLFVBQVVTLGNBQWMsNkNBQ3ZEUCxLQUFLVSxtQkFBcUJWLEtBQUtTLGNBQWNGLGNBQWMsbURBQzNEUCxLQUFLVyxXQUFxQixFQUUxQlgsS0FBS1ksYUFBZ0JaLEtBQUtGLFVBQVVTLGNBQWMsa0RBQ2xEUCxLQUFLYSxjQUFnQmIsS0FBS0YsVUFBVVMsY0FBYyxtREFFbERQLEtBQUtjLGNBQWdCZCxLQUFLRixVQUFVUyxjQUFjLGlEQUNsRFAsS0FBS2UsZ0JBQXVCZixLQUFLRixVQUFVUyxjQUFjLGdEQUN6RFAsS0FBS2dCLHFCQUF1QmhCLEtBQUtGLFVBQVVTLGNBQWMscURBQ3pEUCxLQUFLaUIsYUFBYyxFQUVuQmpCLEtBQUtrQixhQUFlbEIsS0FBS0YsVUFBVVMsY0FBYyx3Q0FDakRQLEtBQUttQixZQUFlbkIsS0FBS0YsVUFBVVMsY0FBYyx1Q0FFakRQLEtBQUtvQixrQkFBb0JwQixLQUFLRixVQUFVUyxj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RixFQUFJLEVBQUdBLEVBQUlxRixFQUF5QnJJLE9BQVFnRCxJQUNuRHFGLEVBQXlCckYsR0FBRzlCLGlCQUFpQixRQUFTLFdBQ3BELElBQUl5RixFQUFRekQsTUFBTUMsVUFBVUMsUUFBUUMsS0FBS2dGLEVBQTBCeEksV0FFWkksR0FBcERvSSxFQUF5QkksSUFDMUJKLEVBQXlCSSxHQUF3QjNHLFVBQVVFLE9BQU8sVUFFcEV5RyxFQUF5QjlCLEVBRXpCMEIsRUFBeUIxQixHQUFPN0UsVUFBVUMsSUFBSSxVQUUzQ1AsT0FBTzJDLFlBQWMsS0FDdEJvRSxFQUFxQnRFLE1BQU1DLFVBQVksZUFBeUIsSUFBUnlDLEVBQWMsS0FDdEU2QixFQUF5QnZFLE1BQU1DLFVBQVksZUFBeUIsSUFBUnlDLEVBQWMsT0FHMUU0QixFQUFxQnRFLE1BQU1DLFVBQVksZUFBeUIsSUFBUnlDLEVBQWMsS0FDdEU2QixFQUF5QnZFLE1BQU1DLFVBQVksZUFBeUIsSUFBUnlDLEVBQWMsS0FDMUUyQixFQUE4QnJFLE1BQU1DLFVBQVksZ0JBQW1CeUMsRUFBTSxHQUFHLEVBQUssSUFBTSxRQXpCaEMsR0FpQy9ELFFBQXdEMUcsR0FBckRpQyxTQUFTOUIsY0FBYywyQkFDeEIsSUFBTXNJLE9BQVMsSUFBSWhKLE9BQU93QyxTQUFTOUIsY0FBYyw0QkFBNEIsR0FHL0UsUUFBd0NILEdBQXJDaUMsU0FBUzlCLGNBQWMsV0FDeEIsSUFBTXVJLE9BQVMsSUFBSXZDLE9BQU9sRSxTQUFTOUIsY0FBYyIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIFBsYXllcntcbiAgY29uc3RydWN0b3IoY29udGFpbmVyLCBwbGF5bGlzdCA9IGZhbHNlKXtcbiAgICB0aGlzLmNvbnRhaW5lciAgICAgPSBjb250YWluZXJcbiAgICB0aGlzLmJ1dHRvbl90b2dnbGUgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi12aWRlb3Mtd3JhcHBlci1jb250cm9scy0tdG9nZ2xlJylcbiAgICB0aGlzLnZpZGVvICAgICAgICAgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi12aWRlb3Mtd3JhcHBlci12aWRlbycpXG4gICAgXG4gICAgdGhpcy50aW1lX3NlZWtfYmFyICAgICAgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi12aWRlb3Mtd3JhcHBlci1jb250cm9scy1zZWVrLWJhcicpXG4gICAgdGhpcy50aW1lX3NlZWtfYmFyX2ZpbGwgPSB0aGlzLnRpbWVfc2Vla19iYXIucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tdmlkZW9zLXdyYXBwZXItY29udHJvbHMtc2Vlay1iYXItLWZpbGwnKVxuICAgIHRoaXMudGltZV9kcmFnICAgICAgICAgID0gZmFsc2VcblxuICAgIHRoaXMudGltZV9jdXJyZW50ICA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLXZpZGVvcy13cmFwcGVyLWNvbnRyb2xzLS10aW1lLWN1cnJlbnQnKVxuICAgIHRoaXMudGltZV9kdXJhdGlvbiA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLXZpZGVvcy13cmFwcGVyLWNvbnRyb2xzLS10aW1lLWR1cmF0aW9uJylcbiAgICBcbiAgICB0aGlzLmJ1dHRvbl92b2x1bWUgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi12aWRlb3Mtd3JhcHBlci1jb250cm9scy12b2x1bWUtLWljb24nKVxuICAgIHRoaXMudm9sdW1lX3NlZWtfYmFyICAgICAgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi12aWRlb3Mtd3JhcHBlci1jb250cm9scy12b2x1bWUtLWJhcicpXG4gICAgdGhpcy52b2x1bWVfc2Vla19iYXJfZmlsbCA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLXZpZGVvcy13cmFwcGVyLWNvbnRyb2xzLXZvbHVtZS0tYmFyLWZpbGwnKVxuICAgIHRoaXMudm9sdW1lX2RyYWcgPSBmYWxzZVxuXG4gICAgdGhpcy5lZmZlY3RfcGF1c2UgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi12aWRlb3Mtd3JhcHBlci1lZmZlY3QtcGF1c2UnKVxuICAgIHRoaXMuZWZmZWN0X3BsYXkgID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tdmlkZW9zLXdyYXBwZXItZWZmZWN0LXBsYXknKVxuICAgIFxuICAgIHRoaXMuYnV0dG9uX2Z1bGxzY3JlZW4gPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi12aWRlb3Mtd3JhcHBlci1jb250cm9scy0tZnVsbHNjcmVlbicpXG5cbiAgICB0aGlzLmJ1dHRvbl90b2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xuICAgICAgdGhpcy50b2dnbGVTdGF0ZSgpXG4gICAgfSlcblxuICAgIHRoaXMudGltZV9zZWVrX2Jhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKT0+e1xuICAgICAgdGhpcy50aW1lX3Bvc2l0aW9ucyA9IHRoaXMudGltZV9zZWVrX2Jhci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgXG4gICAgICB0aGlzLnVwZGF0ZVRpbWUoZSlcbiAgICB9KVxuXG4gICAgdGhpcy50aW1lX3NlZWtfYmFyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsICgpPT57XG4gICAgICBpZighdGhpcy50aW1lX2RyYWcpe1xuICAgICAgICB0aGlzLnRpbWVfcG9zaXRpb25zID0gdGhpcy50aW1lX3NlZWtfYmFyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpICAgICAgXG4gICAgICAgIHRoaXMudGltZV9kcmFnID0gdHJ1ZVxuICAgICAgfVxuICAgIH0pXG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsICgpPT57XG4gICAgICBpZih0aGlzLnRpbWVfZHJhZyl7XG4gICAgICAgIHRoaXMudGltZV9kcmFnID0gZmFsc2VcbiAgICAgIH1cblxuICAgICAgaWYodGhpcy52b2x1bWVfZHJhZyl7XG4gICAgICAgIHRoaXMudm9sdW1lX2RyYWcgPSBmYWxzZVxuICAgICAgfVxuICAgIH0pXG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGUpPT57XG4gICAgICBpZih0aGlzLnRpbWVfZHJhZyl7XG4gICAgICAgIHRoaXMudXBkYXRlVGltZShlKVxuICAgICAgfVxuICAgICAgaWYodGhpcy52b2x1bWVfZHJhZyl7XG4gICAgICAgIHRoaXMudXBkYXRlVm9sdW1lKGUpICAgICAgICBcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgdGhpcy5idXR0b25fdm9sdW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT57XG4gICAgICB0aGlzLnRvZ2dsZU11dGUoKVxuICAgIH0pXG5cbiAgICB0aGlzLnZvbHVtZV9zZWVrX2Jhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PntcbiAgICAgIHRoaXMudm9sdW1lX3Bvc2l0aW9ucyA9IHRoaXMudm9sdW1lX3NlZWtfYmFyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICB0aGlzLnVwZGF0ZVZvbHVtZShlKVxuICAgIH0pXG5cbiAgICB0aGlzLnZvbHVtZV9zZWVrX2Jhci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoKT0+e1xuICAgICAgaWYoIXRoaXMudm9sdW1lX2RyYWcpe1xuICAgICAgICB0aGlzLnZvbHVtZV9wb3NpdGlvbnMgPSB0aGlzLnZvbHVtZV9zZWVrX2Jhci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSAgICAgIFxuICAgICAgICB0aGlzLnZvbHVtZV9kcmFnID0gdHJ1ZVxuICAgICAgfVxuICAgIH0pXG5cbiAgICB0aGlzLmJ1dHRvbl9mdWxsc2NyZWVuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcbiAgICAgIHRoaXMudG9nZ2xlRnVsbHNjcmVlbigpXG4gICAgfSlcblxuICAgIHRoaXMudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCAoKT0+e1xuICAgICAgdGhpcy50b2dnbGVGdWxsc2NyZWVuKCkgICAgICBcbiAgICB9KVxuXG4gICAgdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgICB0aGlzLnRvZ2dsZVN0YXRlKClcbiAgICAgIGlmKHRoaXMudmlkZW8ucGF1c2VkKXtcbiAgICAgICAgdGhpcy5lZmZlY3RfcGxheS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICAgICAgICB0aGlzLmVmZmVjdF9wYXVzZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgICAgfVxuICAgICAgZWxzZXtcbiAgICAgICAgdGhpcy5lZmZlY3RfcGF1c2UuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcbiAgICAgICAgdGhpcy5lZmZlY3RfcGxheS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICB0aGlzLnBsYXlsaXN0ID0gcGxheWxpc3QgICAgXG4gICAgaWYodGhpcy5wbGF5bGlzdCl7XG4gICAgICB0aGlzLmNvbnRhaW5lcl9wbGF5bGlzdCAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi12aWRlb3MtbmF2LXdyYXBwZXItbGlzdCcpXG4gICAgICB0aGlzLnBsYXlsaXN0X2l0ZW1zICAgICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbi12aWRlb3MtbmF2LXdyYXBwZXItbGlzdC1pdGVtJylcbiAgICAgIHRoaXMucGxheWxpc3RfbmV4dCAgICAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLXZpZGVvcy1uYXYtY29udHJvbHMtLW5leHQnKVxuICAgICAgdGhpcy5wbGF5bGlzdF9wcmV2ICAgICAgID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tdmlkZW9zLW5hdi1jb250cm9scy0tcHJldicpXG4gICAgICB0aGlzLnBsYXlsaXN0X2luZGV4ICAgICAgPSAwXG4gICAgICB0aGlzLnBsYXlsaXN0X3NlbGVjdGVkICAgPSB0aGlzLnBsYXlsaXN0X2l0ZW1zW3RoaXMucGxheWxpc3RfaW5kZXhdXG4gICAgICB0aGlzLnBsYXlsaXN0X2l0ZW1fd2lkdGggPSB0aGlzLnBsYXlsaXN0X2l0ZW1zWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICsgMjBcbiAgICAgIFxuICAgICAgdGhpcy52aWRlb19pbmRleCAgID0gMFxuICAgICAgdGhpcy52aWRlb19wcmV2ICAgID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tdmlkZW9zLXdyYXBwZXItY29udHJvbHMtLXNraXAtcHJldicpXG4gICAgICB0aGlzLnZpZGVvX25leHQgICAgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi12aWRlb3Mtd3JhcHBlci1jb250cm9scy0tc2tpcC1uZXh0JylcblxuICAgICAgdGhpcy5wbGF5bGlzdF9uZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcbiAgICAgICAgaWYodGhpcy5wbGF5bGlzdF9pbmRleCA8IHRoaXMucGxheWxpc3RfaXRlbXMubGVuZ3RoIC0gdGhpcy5wbGF5bGlzdF9zaXplKXtcbiAgICAgICAgICB0aGlzLnBsYXlsaXN0X2luZGV4KytcbiAgICAgICAgICB0aGlzLnVwZGF0ZVBsYXlsaXN0KClcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgdGhpcy5wbGF5bGlzdF9wcmV2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcbiAgICAgICAgaWYodGhpcy5wbGF5bGlzdF9pbmRleCA+IDApe1xuICAgICAgICAgIHRoaXMucGxheWxpc3RfaW5kZXgtLSBcbiAgICAgICAgICB0aGlzLnVwZGF0ZVBsYXlsaXN0KClcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBsYXlsaXN0X2l0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzXG4gICAgICAgIHRoaXMucGxheWxpc3RfaXRlbXNbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAgIGlmKHRoaXMgIT0gc2VsZi5wbGF5bGlzdF9zZWxlY3RlZCl7XG4gICAgICAgICAgICBzZWxmLnZpZGVvX2luZGV4ID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChzZWxmLnBsYXlsaXN0X2l0ZW1zLCB0aGlzKVxuICAgICAgICAgICAgc2VsZi5zZWxlY3RWaWRlbygpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICB0aGlzLnZpZGVvX3ByZXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xuICAgICAgICBpZih0aGlzLnZpZGVvX2luZGV4ID4gMCl7XG4gICAgICAgICAgdGhpcy52aWRlb19pbmRleC0tXG4gICAgICAgICAgdGhpcy5zZWxlY3RWaWRlbygpXG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICB0aGlzLnZpZGVvX3ByZXYuY2xhc3NMaXN0LmFkZCgnaGlkZScpXG4gICAgICAgICAgY29uc29sZS5sb2coJ25vcCBwcmV2JylcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZGVvX25leHQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpICBcbiAgICAgIH0pXG5cbiAgICAgIHRoaXMudmlkZW9fbmV4dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgICAgIGlmKHRoaXMudmlkZW9faW5kZXggPCB0aGlzLnBsYXlsaXN0X2l0ZW1zLmxlbmd0aCAtIDEpe1xuICAgICAgICAgIHRoaXMudmlkZW9faW5kZXgrK1xuICAgICAgICAgIHRoaXMuc2VsZWN0VmlkZW8oKVxuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgdGhpcy52aWRlb19uZXh0LmNsYXNzTGlzdC5hZGQoJ2hpZGUnKVxuICAgICAgICAgIGNvbnNvbGUubG9nKCdub3AgbmV4dCcpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWRlb19wcmV2LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKVxuICAgICAgfSlcblxuICAgICAgdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsICgpPT57XG4gICAgICAgIGlmKHRoaXMudmlkZW9faW5kZXggPCB0aGlzLnBsYXlsaXN0X2l0ZW1zLmxlbmd0aCAtIDEpe1xuICAgICAgICAgIHRoaXMudmlkZW9faW5kZXgrK1xuICAgICAgICAgIHRoaXMuc2VsZWN0VmlkZW8oKVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICB0aGlzLmluaXRQbGF5bGlzdCgpXG4gICAgfVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpPT57XG4gICAgICB0aGlzLnBsYXlsaXN0X2l0ZW1fd2lkdGggPSB0aGlzLnBsYXlsaXN0X2l0ZW1zWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICsgMjAgICAgICBcbiAgICAgIGlmKHRoaXMucGxheWxpc3Qpe1xuICAgICAgICBjb25zb2xlLmxvZygncmVzaXplJylcbiAgICAgICAgdGhpcy5pbml0UGxheWxpc3QoKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICB0aGlzLmluaXQoKVxuICAgICAgXG4gIH1cblxuICAvLyBpbml0IG5ldyB2aWRlb1xuICBpbml0KCl7XG4gICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgncGxheWluZycpXG4gICAgdGhpcy5lZmZlY3RfcGF1c2UuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICB0aGlzLmVmZmVjdF9wbGF5LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWRkYXRhJywgKCkgPT57XG4gICAgICB0aGlzLnZpZGVvLmN1cnJlbnRUaW1lID0gLjQ1XG4gICAgICB0aGlzLnRpbWVfZHVyYXRpb24udGV4dENvbnRlbnQgPSB0aGlzLmZvcm1hdFRpbWUodGhpcy52aWRlby5kdXJhdGlvbikgICBcbiAgICAgIHRoaXMudGltZV9jdXJyZW50LnRleHRDb250ZW50ID0gdGhpcy5mb3JtYXRUaW1lKHRoaXMudmlkZW8uY3VycmVudFRpbWUpICAgICAgIFxuICAgICAgXG4gICAgICB0aGlzLnRpbWVfc2Vla19iYXJfZmlsbC5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGVYKDApJyAgICBcbiAgICB9KSAgICBcbiAgfVxuXG4gIGluaXRQbGF5bGlzdCgpe1xuICAgIGxldCB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXG4gICAgaWYod2lkdGggPCA0MjUpe1xuICAgICAgdGhpcy5wbGF5bGlzdF9zaXplID0gMVxuICAgIH1cbiAgICBlbHNlIGlmKHdpZHRoIDwgNjUwKXtcbiAgICAgIHRoaXMucGxheWxpc3Rfc2l6ZSA9IDJcbiAgICB9XG4gICAgZWxzZSBpZih3aWR0aCA8IDkwMCl7XG4gICAgICB0aGlzLnBsYXlsaXN0X3NpemUgPSAzXG4gICAgfVxuICAgIGVsc2UgaWYod2lkdGggPCAxMzAwKXtcbiAgICAgIHRoaXMucGxheWxpc3Rfc2l6ZSA9IDVcbiAgICB9XG4gICAgZWxzZSBpZih3aWR0aCA8IDI1MDApe1xuICAgICAgdGhpcy5wbGF5bGlzdF9zaXplID0gNlxuICAgIH1cbiAgICBlbHNle1xuICAgICAgdGhpcy5wbGF5bGlzdF9zaXplID0gOSAgICAgIFxuICAgIH1cblxuICAgIHRoaXMucGxheWxpc3RfaW5kZXggPSAwICAgIFxuICAgIHRoaXMudXBkYXRlUGxheWxpc3QoKVxuICB9XG5cblxuICAvL3VwZGF0ZSBmdW5jXG4gIHRvZ2dsZVN0YXRlKCl7XG4gICAgaWYodGhpcy52aWRlby5wYXVzZWQpe1xuICAgICAgdGhpcy52aWRlby5wbGF5KClcbiAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3BsYXlpbmcnKVxuICAgICAgdGhpcy5yZW5kZXIoKVxuICAgIH1cbiAgICBlbHNle1xuICAgICAgdGhpcy52aWRlby5wYXVzZSgpXG4gICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdwbGF5aW5nJylcbiAgICB9XG4gICAgdGhpcy5lZmZlY3RfcGF1c2UuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICB0aGlzLmVmZmVjdF9wbGF5LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gIH1cblxuICB1cGRhdGVUaW1lKGUpe1xuICAgIGxldCByYXRpbyA9IChlLnBhZ2VYIC0gdGhpcy50aW1lX3Bvc2l0aW9ucy5sZWZ0KSAvIHRoaXMudGltZV9wb3NpdGlvbnMud2lkdGhcbiAgICBpZihyYXRpbyA+PSAwICYmIHJhdGlvIDwgMSl7ICAgICAgXG4gICAgICB0aGlzLnRpbWVfc2Vla19iYXJfZmlsbC5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGVYKCcrIHJhdGlvICsnKSdcbiAgICAgIHRoaXMudmlkZW8uY3VycmVudFRpbWUgPSByYXRpbyAqIHRoaXMudmlkZW8uZHVyYXRpb25cbiAgICAgIHRoaXMudGltZV9jdXJyZW50LnRleHRDb250ZW50ID0gdGhpcy5mb3JtYXRUaW1lKHRoaXMudmlkZW8uY3VycmVudFRpbWUpXG4gICAgfVxuICB9XG5cbiAgdXBkYXRlVm9sdW1lKGUpe1xuICAgIGxldCByYXRpbyA9IChlLnBhZ2VYIC0gdGhpcy52b2x1bWVfcG9zaXRpb25zLmxlZnQpIC8gdGhpcy52b2x1bWVfcG9zaXRpb25zLndpZHRoXG4gICAgICBpZihyYXRpbyA+PSAwICYmIHJhdGlvIDwgMSl7XG4gICAgICB0aGlzLnZpZGVvLnZvbHVtZSA9IHJhdGlvXG4gICAgICB0aGlzLnZvbHVtZV9zZWVrX2Jhcl9maWxsLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZVgoJysgcmF0aW8gKycpJyAgICBcbiAgICAgIGlmKHRoaXMudmlkZW8ubXV0ZWQpe1xuICAgICAgICB0aGlzLnRvZ2dsZU11dGUoKVxuICAgICAgfVxuXG4gICAgICBpZihyYXRpbyA+PSAuNSl7XG4gICAgICAgIHRoaXMuYnV0dG9uX3ZvbHVtZS5jbGFzc0xpc3QuYWRkKCd2b2x1bWUtMicpXG4gICAgICAgIHRoaXMuYnV0dG9uX3ZvbHVtZS5jbGFzc0xpc3QucmVtb3ZlKCd2b2x1bWUtMScpXG4gICAgICAgIHRoaXMuYnV0dG9uX3ZvbHVtZS5jbGFzc0xpc3QucmVtb3ZlKCd2b2x1bWUtMCcpXG4gICAgICB9XG4gICAgICBlbHNlIGlmKHJhdGlvIDwgLjUgJiYgcmF0aW8gPj0gLjI1KXtcbiAgICAgICAgdGhpcy5idXR0b25fdm9sdW1lLmNsYXNzTGlzdC5yZW1vdmUoJ3ZvbHVtZS0yJylcbiAgICAgICAgdGhpcy5idXR0b25fdm9sdW1lLmNsYXNzTGlzdC5hZGQoJ3ZvbHVtZS0xJylcbiAgICAgICAgdGhpcy5idXR0b25fdm9sdW1lLmNsYXNzTGlzdC5yZW1vdmUoJ3ZvbHVtZS0wJylcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYocmF0aW8gPCAuMjUpe1xuICAgICAgICB0aGlzLmJ1dHRvbl92b2x1bWUuY2xhc3NMaXN0LnJlbW92ZSgndm9sdW1lLTInKVxuICAgICAgICB0aGlzLmJ1dHRvbl92b2x1bWUuY2xhc3NMaXN0LnJlbW92ZSgndm9sdW1lLTEnKVxuICAgICAgICB0aGlzLmJ1dHRvbl92b2x1bWUuY2xhc3NMaXN0LmFkZCgndm9sdW1lLTAnKVxuICAgICAgfVxuICAgICAgZWxzZSBpZihyYXRpbyA8PSAwKXtcbiAgICAgICAgdGhpcy5idXR0b25fdm9sdW1lLmNsYXNzTGlzdC5yZW1vdmUoJ3ZvbHVtZS0yJylcbiAgICAgICAgdGhpcy5idXR0b25fdm9sdW1lLmNsYXNzTGlzdC5yZW1vdmUoJ3ZvbHVtZS0xJylcbiAgICAgICAgdGhpcy5idXR0b25fdm9sdW1lLmNsYXNzTGlzdC5yZW1vdmUoJ3ZvbHVtZS0wJylcbiAgICAgICAgdGhpcy50b2dnbGVNdXRlKClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB0b2dnbGVNdXRlKCl7XG4gICAgaWYodGhpcy52aWRlby5tdXRlZCl7XG4gICAgICB0aGlzLnZpZGVvLm11dGVkID0gZmFsc2VcbiAgICAgIHRoaXMuYnV0dG9uX3ZvbHVtZS5jbGFzc0xpc3QucmVtb3ZlKCdtdXRlJylcbiAgICAgIHRoaXMudm9sdW1lX3NlZWtfYmFyX2ZpbGwuc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlWCgnKyB0aGlzLnZpZGVvLnZvbHVtZSArJyknICAgICAgICAgIFxuICAgIH1cbiAgICBlbHNle1xuICAgICAgdGhpcy52aWRlby5tdXRlZCA9IHRydWVcbiAgICAgIHRoaXMuYnV0dG9uX3ZvbHVtZS5jbGFzc0xpc3QuYWRkKCdtdXRlJylcbiAgICAgIHRoaXMudm9sdW1lX3NlZWtfYmFyX2ZpbGwuc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlWCgwKScgICAgXG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlRnVsbHNjcmVlbigpe1xuICAgIGlmKGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50ID09IG51bGwgJibCoGRvY3VtZW50Lm1vekZ1bGxzY3JlZW5FbGVtZW50ID09IG51bGwgJibCoGRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50ID09IG51bGwgJiYgZG9jdW1lbnQubXNGdWxsc2NyZWVuRWxlbWVudD09IG51bGwgKXtcbiAgICAgIGlmKHRoaXMuY29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuKXtcbiAgICAgICAgdGhpcy5jb250YWluZXIucmVxdWVzdEZ1bGxzY3JlZW4oKVxuICAgICAgfVxuICAgICAgZWxzZSBpZih0aGlzLmNvbnRhaW5lci5tb3pSZXF1ZXN0RnVsbFNjcmVlbil7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLm1velJlcXVlc3RGdWxsU2NyZWVuKClcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYodGhpcy5jb250YWluZXIud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4pe1xuICAgICAgICB0aGlzLmNvbnRhaW5lci53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbigpXG4gICAgICB9XG4gICAgICBlbHNlIGlmKHRoaXMuY29udGFpbmVyLm1zUmVxdWVzdEZ1bGxzY3JlZW4pe1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5tc1JlcXVlc3RGdWxsc2NyZWVuKClcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZXtcbiAgICAgIGlmKGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKXtcbiAgICAgICAgZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKVxuICAgICAgfVxuICAgICAgZWxzZSBpZihkb2N1bWVudC5tb3pFeGl0RnVsbFNjcmVlbil7XG4gICAgICAgIGRvY3VtZW50Lm1vekV4aXRGdWxsU2NyZWVuKClcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYoZG9jdW1lbnQud2Via2l0RXhpdEZ1bGxzY3JlZW4pe1xuICAgICAgICBkb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlbigpXG4gICAgICB9XG4gICAgICBlbHNlIGlmKGRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4pe1xuICAgICAgICBkb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuKClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvL3BsYXlsaXN0XG4gIHVwZGF0ZVBsYXlsaXN0KCl7XG4gICAgdGhpcy5jb250YWluZXJfcGxheWxpc3Quc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoLScrICh0aGlzLnBsYXlsaXN0X2luZGV4ICogdGhpcy5wbGF5bGlzdF9pdGVtX3dpZHRoKSArJ3B4KSdcbiAgICBcbiAgICBpZih0aGlzLnBsYXlsaXN0X2luZGV4ID09IDApe1xuICAgICAgdGhpcy5wbGF5bGlzdF9wcmV2LmNsYXNzTGlzdC5hZGQoJ2hpZGUnKSAgICAgICAgICBcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgIHRoaXMucGxheWxpc3RfcHJldi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJykgICAgICAgICAgXG4gICAgfVxuXG4gICAgaWYodGhpcy5wbGF5bGlzdF9pbmRleCAgPj0gKHRoaXMucGxheWxpc3RfaXRlbXMubGVuZ3RoIC0gdGhpcy5wbGF5bGlzdF9zaXplKSl7XG4gICAgICB0aGlzLnBsYXlsaXN0X25leHQuY2xhc3NMaXN0LmFkZCgnaGlkZScpICAgICAgIFxuICAgIH1cbiAgICBlbHNle1xuICAgICAgdGhpcy5wbGF5bGlzdF9uZXh0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKSAgICBcbiAgICB9XG4gIH1cblxuICBzZWxlY3RWaWRlbygpe1xuICAgIHRoaXMucGxheWxpc3Rfc2VsZWN0ZWQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICB0aGlzLnBsYXlsaXN0X3NlbGVjdGVkID0gdGhpcy5wbGF5bGlzdF9pdGVtc1t0aGlzLnZpZGVvX2luZGV4XVxuICAgIHRoaXMucGxheWxpc3Rfc2VsZWN0ZWQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcblxuICAgIHRoaXMudmlkZW8uc3JjID0gdGhpcy5wbGF5bGlzdF9zZWxlY3RlZC5kYXRhc2V0LnRhcmdldFxuICAgIHRoaXMuaW5pdCgpXG5cbiAgICBpZih0aGlzLnZpZGVvX2luZGV4ID4gdGhpcy5wbGF5bGlzdF9pbmRleCArIHRoaXMucGxheWxpc3Rfc2l6ZSAtIDEpe1xuICAgICAgdGhpcy5wbGF5bGlzdF9pbmRleCsrXG4gICAgICB0aGlzLnVwZGF0ZVBsYXlsaXN0KClcbiAgICB9XG4gICAgZWxzZSBpZih0aGlzLnZpZGVvX2luZGV4IDwgdGhpcy5wbGF5bGlzdF9pbmRleCl7XG4gICAgICB0aGlzLnBsYXlsaXN0X2luZGV4LS1cbiAgICAgIHRoaXMudXBkYXRlUGxheWxpc3QoKSAgICAgIFxuICAgIH1cblxuICAgIGlmKHRoaXMudmlkZW9faW5kZXggPT0gMCl7XG4gICAgICB0aGlzLnZpZGVvX3ByZXYuY2xhc3NMaXN0LmFkZCgnaGlkZScpICAgICAgICAgIFxuICAgIH1cbiAgICBlbHNle1xuICAgICAgdGhpcy52aWRlb19wcmV2LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKSAgICAgICAgICBcbiAgICB9XG5cbiAgICBpZih0aGlzLnZpZGVvX2luZGV4ICA+PSAodGhpcy5wbGF5bGlzdF9pdGVtcy5sZW5ndGggLSAxKSl7XG4gICAgICB0aGlzLnZpZGVvX25leHQuY2xhc3NMaXN0LmFkZCgnaGlkZScpICAgICAgIFxuICAgIH1cbiAgICBlbHNle1xuICAgICAgdGhpcy52aWRlb19uZXh0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKSAgICBcbiAgICB9XG4gIH1cbiAgXG5cblxuICAvL3JlbmRlciBmdW5jXG4gIHJlbmRlcigpe1xuICAgIGlmKCF0aGlzLnZpZGVvLnBhdXNlZCl7XG4gICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucmVuZGVyLmJpbmQodGhpcykpXG4gICAgfVxuXG4gICAgbGV0IHJhdGlvID0gdGhpcy52aWRlby5jdXJyZW50VGltZSAvIHRoaXMudmlkZW8uZHVyYXRpb25cbiAgICB0aGlzLnRpbWVfc2Vla19iYXJfZmlsbC5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGVYKCcrIHJhdGlvICsnKSdcblxuICAgIHRoaXMudGltZV9jdXJyZW50LnRleHRDb250ZW50ID0gdGhpcy5mb3JtYXRUaW1lKHRoaXMudmlkZW8uY3VycmVudFRpbWUpXG4gICAgXG4gICAgaWYodGhpcy52aWRlby5jdXJyZW50VGltZSA9PSB0aGlzLnZpZGVvLmR1cmF0aW9uKXtcbiAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ3BsYXlpbmcnKSAgICAgIFxuICAgIH1cbiAgfVxuXG5cbiAgLy8gdXNlZnVsbCBmdW5jXG4gIGZvcm1hdFRpbWUodGltZSl7XG4gICAgdGltZSAgPSBNYXRoLnJvdW5kKHRpbWUpXG4gICAgbGV0IGhvdXJzICAgPSBNYXRoLmZsb29yKHRpbWUgLyAzNjAwKTtcbiAgICBsZXQgbWludXRlcyA9IE1hdGguZmxvb3IoKHRpbWUgLSAoaG91cnMgKiAzNjAwKSkgLyA2MCk7XG4gICAgbGV0IHNlY29uZHMgPSB0aW1lIC0gKGhvdXJzICogMzYwMCkgLSAobWludXRlcyAqIDYwKTtcblxuICAgIGhvdXJzICAgPSBob3VycyAgIDwgMTAgPyBcIjBcIitob3VycyA6IGhvdXJzXG4gICAgbWludXRlcyA9IG1pbnV0ZXMgPCAxMCA/IFwiMFwiK21pbnV0ZXMgOiBtaW51dGVzXG4gICAgc2Vjb25kcyA9IHNlY29uZHMgPCAxMCA/IFwiMFwiK3NlY29uZHMgOiBzZWNvbmRzXG5cbiAgICBpZihob3VycyAhPSAwKXtcbiAgICAgIHJldHVybiBob3VycysnOicrbWludXRlcysnOicrc2Vjb25kc1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgcmV0dXJuIG1pbnV0ZXMrJzonK3NlY29uZHNcbiAgICB9XG4gIH1cbn0iLCJjbGFzcyBTbGlkZXJ7XG4gIGNvbnN0cnVjdG9yKGNvbnRhaW5lcil7XG4gICAgdGhpcy5jb250YWluZXIgICA9IGNvbnRhaW5lclxuICAgIHRoaXMuaXRlbXMgICAgICAgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGVyLWl0ZW0nKVxuICAgIHRoaXMuYnV0dG9uX25leHQgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLW5leHQnKVxuICAgIHRoaXMuYnV0dG9uX3ByZXYgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLXByZXYnKVxuICAgIHRoaXMudGltZXJfZmlsbCAgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLXRpbWVyLWZpbGwnKVxuICAgIHRoaXMudGV4dF9jdXJyZW50ID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnNsaWRlci1pbmRleC1jdXJyZW50JylcbiAgICB0aGlzLnRleHRfdG90YWwgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWluZGV4LXRvdGFsJylcbiAgICBcbiAgICB0aGlzLmluZGV4ICAgICAgPSAwXG4gICAgdGhpcy5zdGFja2luZyAgID0gMVxuICAgIHRoaXMubGFzdF9pbmRleCA9IDBcblxuICAgIHRoaXMuc2xpZGVfaW50ZXJ2YWwgPSA0MDAwXG4gICAgdGhpcy5sYXN0X3VwZGF0ZSAgICA9IDBcbiAgICB0aGlzLm5lZWRfdXBkYXRlICAgID0gdHJ1ZVxuICAgIHRoaXMuZHJhdyAgICAgICAgICAgPSB0cnVlXG5cbiAgICB0aGlzLmluaXQoKVxuICAgIHRoaXMucmVuZGVyKClcbiAgICB0aGlzLnN0YXJ0SW50ZXJ2YWwoKVxuXG4gICAgdGhpcy5idXR0b25fbmV4dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgICBpZighdGhpcy5jbGlja2VkKXtcbiAgICAgICAgaWYodGhpcy5pbmRleCA8IHRoaXMuaXRlbXMubGVuZ3RoIC0gMSl7XG4gICAgICAgICAgdGhpcy5pbmRleCArK1xuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgdGhpcy5pbmRleCA9IDBcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZSgpXG4gICAgICB9XG4gICAgfSlcblxuICAgIHRoaXMuYnV0dG9uX3ByZXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xuICAgICAgaWYoIXRoaXMuY2xpY2tlZCl7IFxuICAgICAgICBpZih0aGlzLmluZGV4ID4gMCl7XG4gICAgICAgICAgdGhpcy5pbmRleCAtLVxuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgdGhpcy5pbmRleCA9IHRoaXMuaXRlbXMubGVuZ3RoIC0gMVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlKClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgc3RhcnRJbnRlcnZhbCgpe1xuICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRUaW1lb3V0KCgpPT57XG4gICAgICBcbiAgICAgIHRoaXMuYnV0dG9uX25leHQuY2xpY2soKVxuICAgICAgdGhpcy5zdGFydEludGVydmFsKClcbiAgICB9LCB0aGlzLnNsaWRlX2ludGVydmFsKVxuICB9XG5cbiAgaW5pdCgpe1xuICAgIHRoaXMudGV4dF90b3RhbC50ZXh0Q29udGVudCA9IHRoaXMuaXRlbXMubGVuZ3RoID4gOSA/IHRoaXMuaXRlbXMubGVuZ3RoIDogJzAnICsgdGhpcy5pdGVtcy5sZW5ndGggICAgIFxuICAgIHRoaXMuaW5kZXggPSAwXG4gICAgdGhpcy5pdGVtc1t0aGlzLmluZGV4XS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICAgIHRoaXMudGV4dF9jdXJyZW50LnRleHRDb250ZW50ID0gKHRoaXMuaW5kZXgrMSkgPiA5ID8gKHRoaXMuaW5kZXgrMSkgOiAnMCcgKyAodGhpcy5pbmRleCsxKSBcbiAgfVxuXG4gIHVwZGF0ZSgpe1xuICAgIHRoaXMudGV4dF90b3RhbC50ZXh0Q29udGVudCA9IHRoaXMuaXRlbXMubGVuZ3RoID4gOSA/IHRoaXMuaXRlbXMubGVuZ3RoIDogJzAnICsgdGhpcy5pdGVtcy5sZW5ndGggICAgIFxuICAgIHRoaXMudGV4dF9jdXJyZW50LnRleHRDb250ZW50ID0gKHRoaXMuaW5kZXgrMSkgPiA5ID8gKHRoaXMuaW5kZXgrMSkgOiAnMCcgKyAodGhpcy5pbmRleCsxKVxuXG4gICAgdGhpcy5pdGVtc1t0aGlzLmluZGV4XS5zdHlsZS56SW5kZXggPSB0aGlzLnN0YWNraW5nKytcblxuICAgIC8vIHRoaXMuaXRlbXNbdGhpcy5pbmRleF0uY2xhc3NMaXN0LmFkZCgndXAtaW5kZXgnKVxuICAgIC8vIHRoaXMuaXRlbXNbdGhpcy5sYXN0X2luZGV4XS5jbGFzc0xpc3QucmVtb3ZlKCd1cC1pbmRleCcpXG4gICAgdGhpcy5pdGVtc1t0aGlzLmluZGV4XS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKSAgICBcblxuICAgIHRoaXMuY2xpY2tlZCA9IHRydWVcbiAgICB0aGlzLmRyYXcgICAgPSBmYWxzZVxuICAgIHRoaXMudGltZXJfZmlsbC5jbGFzc0xpc3QuYWRkKCdmaWxsJylcbiAgICBcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5pdGVtc1t0aGlzLmxhc3RfaW5kZXhdLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgICB0aGlzLmxhc3RfaW5kZXggPSB0aGlzLmluZGV4XG4gICAgICB0aGlzLmNsaWNrZWQgPSBmYWxzZVxuXG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5pbnRlcnZhbClcbiAgICAgIHRoaXMuc3RhcnRJbnRlcnZhbCgpXG5cbiAgICAgIHRoaXMudGltZXJfZmlsbC5jbGFzc0xpc3QucmVtb3ZlKCdmaWxsJykgICAgICBcbiAgICAgIHRoaXMubmVlZF91cGRhdGUgPSB0cnVlXG4gICAgICB0aGlzLmRyYXcgICAgICAgID0gdHJ1ZVxuICAgIH0sIDYxMClcblxuICAgIGNvbnNvbGUubG9nKCctLS0tLS0tJykgICAgXG4gICAgXG4gIH1cblxuICByZW5kZXIodGltZSl7XG4gICAgLy8gY29uc29sZS5sb2codGltZSlcbiAgICBpZih0aGlzLm5lZWRfdXBkYXRlIHx8IHRoaXMubGFzdF91cGRhdGUgPT09IHVuZGVmaW5lZCB8fCB0aW1lID09PSB1bmRlZmluZWQpe1xuICAgICAgdGhpcy5sYXN0X3VwZGF0ZSA9IHRpbWVcbiAgICAgIHRoaXMubmVlZF91cGRhdGUgPSBmYWxzZVxuICAgIH1cbiAgICAvLyBjb25zb2xlLmxvZyh0aW1lIC0gdGhpcy5sYXN0X3VwZGF0ZSAvIHRoaXMuZHVyYXRpb24pXG4gICAgaWYoKHRpbWUgLSB0aGlzLmxhc3RfdXBkYXRlKSAvIHRoaXMuc2xpZGVfaW50ZXJ2YWwgPj0gMSl7XG4gICAgICBsZXQgcmF0aW8gPSAodGltZSAtIHRoaXMubGFzdF91cGRhdGUpIC8gdGhpcy5zbGlkZV9pbnRlcnZhbFxuICAgICAgdGhpcy50aW1lcl9maWxsLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZVgoJysgcmF0aW8gKycpJ1xuICAgICAgdGhpcy5sYXN0X3VwZGF0ZSA9IHRpbWUgICAgICBcbiAgICB9XG5cbiAgICBpZih0aGlzLmRyYXcpe1xuICAgICAgbGV0IHJhdGlvID0gKHRpbWUgLSB0aGlzLmxhc3RfdXBkYXRlKSAvIHRoaXMuc2xpZGVfaW50ZXJ2YWxcbiAgICAgIHRoaXMudGltZXJfZmlsbC5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGVYKCcrIHJhdGlvICsnKSdcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgIHRoaXMudGltZXJfZmlsbC5zdHlsZS50cmFuc2Zvcm0gPSBudWxsICAgICAgXG4gICAgfVxuXG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnJlbmRlci5iaW5kKHRoaXMpKVxuICB9XG5cbn0iLCIvLyBIRUFERVIgQlVSR0VSXG5jb25zdCBidXJnZXJfYnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1idXJnZXInKVxuY29uc3QgYnVyZ2VyX25hdiAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItbmF2JylcblxuYnVyZ2VyX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gIGJ1cmdlcl9idXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgnaGVhZGVyLWJ1cmdlci1hY3RpdmUnKVxuICBidXJnZXJfbmF2LmNsYXNzTGlzdC50b2dnbGUoJ2hlYWRlci1uYXYtZXhwYW5kJylcbn0pXG5cbmNvbnN0IGhlYWRlciAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXInKVxudmFyIGhlYWRlcl9oaWRlID0gZmFsc2VcbmRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V3aGVlbCcsIGZ1bmN0aW9uKGUpe1xuICBpZighaGVhZGVyX2hpZGUgJiYgZS5kZWx0YVkgPCAwICYmICFzY3JvbGxfZGlzYWJsZWQpe1xuICAgIGhlYWRlci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJylcbiAgICBoZWFkZXJfaGlkZSA9IHRydWVcbiAgfVxuICBlbHNlIGlmKGhlYWRlcl9oaWRlICYmIGUuZGVsdGFZID4gMCAmJiBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA+IDgwICYmICFzY3JvbGxfZGlzYWJsZWQpe1xuICAgIGhlYWRlci5jbGFzc0xpc3QuYWRkKCdoaWRlJykgICAgXG4gICAgaGVhZGVyX2hpZGUgPSBmYWxzZVxuICB9XG59KVxuXG4vLyBTQ1JPTEwgRElTQUJMRVxuY29uc3QgZGlzYWJsZWRfZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2Nyb2xsLWRpc2FibGUnKVxudmFyIHNjcm9sbF9kaXNhYmxlZCAgICAgPSBmYWxzZVxuZm9yICh2YXIgaSA9IDA7IGkgPCBkaXNhYmxlZF9lbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICBkaXNhYmxlZF9lbGVtZW50c1tpXS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgKCk9PntcbiAgICBzY3JvbGxfZGlzYWJsZWQgPSB0cnVlXG4gIH0pXG4gIGRpc2FibGVkX2VsZW1lbnRzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKT0+e1xuICAgIHNjcm9sbF9kaXNhYmxlZCA9IGZhbHNlXG4gIH0pXG59XG5cblxuXG4vLyBFWEhJQklUSU9OUyBTTElERVJcbmlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLWV4aGliaXRpb25zJykgIT0gdW5kZWZpbmVkKXtcbiAgY29uc3QgZXhoaWJpdGlvbnNfYnV0dG9uc19pdGVtICAgICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbi1leGhpYml0aW9ucy1jb250YWluZXItc2xpZGVyLW5hdi1saXN0LS1pdGVtJylcbiAgY29uc3QgZXhoaWJpdGlvbnNfYnV0dG9uc19jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi1leGhpYml0aW9ucy1jb250YWluZXItc2xpZGVyLW5hdi1saXN0JylcbiAgY29uc3QgZXhoaWJpdGlvbnNfbGlzdF9pbWcgICAgICAgICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi1leGhpYml0aW9ucy1jb250YWluZXItc2xpZGVyLXdyYXBwZXItbGlzdCcpXG4gIGNvbnN0IGV4aGliaXRpb25zX2xpc3RfY29udGVudCAgICAgID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tZXhoaWJpdGlvbnMtY29udGFpbmVyLWNvbnRlbnQtd3JhcHBlci1saXN0JylcbiAgbGV0IGV4aGliaXRpb25zX2xhc3RfaW5kZXggICAgICAgICAgPSAwXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBleGhpYml0aW9uc19idXR0b25zX2l0ZW0ubGVuZ3RoOyBpKyspIHtcbiAgICBleGhpYml0aW9uc19idXR0b25zX2l0ZW1baV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgbGV0IGluZGV4ID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChleGhpYml0aW9uc19idXR0b25zX2l0ZW0sIHRoaXMpXG5cbiAgICAgIGlmKGV4aGliaXRpb25zX2J1dHRvbnNfaXRlbVtleGhpYml0aW9uc19sYXN0X2luZGV4XSAhPSB1bmRlZmluZWQpe1xuICAgICAgICBleGhpYml0aW9uc19idXR0b25zX2l0ZW1bZXhoaWJpdGlvbnNfbGFzdF9pbmRleF0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICAgIH1cbiAgICAgIGV4aGliaXRpb25zX2xhc3RfaW5kZXggPSBpbmRleFxuXG4gICAgICBleGhpYml0aW9uc19idXR0b25zX2l0ZW1baW5kZXhdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG5cbiAgICAgIGlmKHdpbmRvdy5pbm5lcldpZHRoID49IDkwMCl7XG4gICAgICAgIGV4aGliaXRpb25zX2xpc3RfaW1nLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKC0nKyAoaW5kZXggKiAxMDApICsnJSknXG4gICAgICAgIGV4aGliaXRpb25zX2xpc3RfY29udGVudC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgtJysgKGluZGV4ICogMTAwKSArJyUpJ1xuICAgICAgfVxuICAgICAgZWxzZXtcbiAgICAgICAgZXhoaWJpdGlvbnNfbGlzdF9pbWcuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoLScrIChpbmRleCAqIDEwMCkgKyclKSdcbiAgICAgICAgZXhoaWJpdGlvbnNfbGlzdF9jb250ZW50LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKC0nKyAoaW5kZXggKiAxMDApICsnJSknXG4gICAgICAgIGV4aGliaXRpb25zX2J1dHRvbnNfY29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKC0nKyAoKChpbmRleC0xKS8zKSAqIDEwMCkgKyclKSdcbiAgICAgIH1cblxuICAgIH0pXG4gIH1cbn1cblxuLy8gSE9NRSBQTEFZRVIpXG5pZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi12aWRlb3Mtd3JhcHBlcicpICE9IHVuZGVmaW5lZCl7XG4gIGNvbnN0IHBsYXllciA9IG5ldyBQbGF5ZXIoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tdmlkZW9zLXdyYXBwZXInKSwgdHJ1ZSlcbn1cblxuaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlcicpICE9IHVuZGVmaW5lZCl7XG4gIGNvbnN0IHNsaWRlciA9IG5ldyBTbGlkZXIoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlcicpKVxufSJdfQ==
